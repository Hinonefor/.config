"use strict";function sendReplicationMessage(data){if(!data){data={}}data.action="replication";try{chrome.runtime.sendMessage(data.extId,data)}catch(e){console.log(e);if(data.callback){acceptReplicationEvent(data)}}}var rs=document.getElementById("replicationSend");if(rs!=null){rs.addEventListener("replicationSend",function(){var data=JSON.parse(document.getElementById("replicationSend").innerText);document.getElementById("replicationSend").innerText="";sendReplicationMessage(data)})}chrome.runtime.onMessage.addListener(function(request){if(request.action=="replication"){acceptReplicationEvent(request)}});function acceptReplicationEvent(data){var accept=document.getElementById("replicationAccept");accept.innerText=JSON.stringify(data);var replicationEvent=document.createEvent("Event");replicationEvent.initEvent("replicationAccept",true,true);accept.dispatchEvent(replicationEvent)}var ef=document.getElementById("extensionFlag");if(ef!=null){ef.setAttribute("extension",true)};