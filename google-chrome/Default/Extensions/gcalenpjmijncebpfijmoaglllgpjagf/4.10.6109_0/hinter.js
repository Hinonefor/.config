'use strict';Registry.require(["promise","helper"],()=>{const b=rea.FEATURES,r=Registry.get("helper"),w=Registry.get("promise");let e;const a=b.RUNTIME.BROWSER_VERSION;let k=!0;e=b.RUNTIME.CHROME?64<=a?2018:59<=a?2017:47<=a?2015:5:b.RUNTIME.SAFARI?11<=a?2018:10<=a?2017:6<=a?2015:6<=a?5:3:b.RUNTIME.EDGE?16<=a?2017:2016:b.RUNTIME.FIREFOX?58<=a?2018:52<=a?2017:2016:5;const t={};b.RUNTIME.CHROME&&77>a?(k=!1,console.warn("hint: disable inline ESLint config due to web worker CSP issues","https://bugs.chromium.org/p/chromium/issues/detail?id=777076",
"https://bugs.chromium.org/p/chromium/issues/detail?id=159303")):b.RUNTIME.EDGE?(k=!1,console.warn("hint: disable inline ESLint config due to web worker CSP issues")):window.Worker||(k=!1,console.warn("hint: disable inline ESLint config because web workers are unavailable and this extension's CSP doesn't allow unsafe eval, which is required for ESLint's dynamic reconfigration"));const p={env:{es6:2015<=e,browser:!0},parserOptions:{ecmaVersion:e,sourceType:"script",ecmaFeatures:{globalReturn:!0}},
rules:{curly:[1,"multi-line"],"dot-location":0,"dot-notation":[1,{allowKeywords:!0}],"no-caller":1,"no-case-declarations":2,"no-div-regex":0,"no-empty-pattern":2,"no-eq-null":0,"no-eval":1,"no-extra-bind":1,"no-fallthrough":1,"no-implicit-globals":2,"no-implied-eval":1,"no-lone-blocks":1,"no-loop-func":1,"no-multi-spaces":1,"no-multi-str":1,"no-native-reassign":1,"no-octal-escape":2,"no-octal":2,"no-proto":1,"no-redeclare":2,"no-return-assign":1,"no-sequences":1,"no-undef":1,"no-useless-call":1,"no-useless-concat":1,
"no-with":1}},l={};r.each("uneval unsafeWindow TM_info GM_info GM GM_addStyle GM_deleteValue GM_listValues GM_getValue GM_download GM_log GM_registerMenuCommand GM_unregisterMenuCommand GM_openInTab GM_setValue GM_addValueChangeListener GM_removeValueChangeListener GM_xmlhttpRequest GM_getTab GM_setTab GM_saveTab GM_getTabs GM_setClipboard GM_notification GM_getResourceText GM_getResourceURL".split(" "),a=>{l[a]=!0});p.globals=l;let d;const f={};let m;Registry.register("hinter","7c765150",
{hint:function(a,g,e){const n=w(),u=n.promise(),v=e||t;let h;g?(h=g,h.globals=l):h=p;if(window.Worker&&!b.RUNTIME.SAFARI){const b=()=>{d=new Worker("worker/lint.js");d.onmessage=a=>{a=a.data;const c=a.id;var b;let d;c&&(b=f[c])&&(d=b.d)&&(delete f[c],(b=a.results)?(k||(b=b.map(a=>{let b;a.message&&(b=a.message.match(/Configuration for rule "([^"]+)"[\s\S]*evaluate a string as JavaScript[\s\S]*/))&&(a.message='Rule "'+b[1]+'": ESLint inline configuration is not supported by this browser.',a.severity=
1);return a})),d.resolve(b)):d.reject(a.error||"Unknown error"));q(c)};d.postMessage({method:"base_uri",value:rea.extension.getURL("/")});m=null};var q=a=>{d||b();if(a)m=null;else if(m)return;let c,e=Date.now();Object.keys(f).forEach(a=>{f[a].ts<=e&&(c=f[a],e=c.ts)});c&&(m=c.id,d.postMessage({method:c.method,id:c.id,config:c.c,options:c.o,text:c.t}))};u.abort=()=>{d&&(d.terminate(),d=null,q())};d||b();g=r.createUUID();f[g]={method:"lint",id:g,d:n,t:a,c:h,o:v,ts:Date.now()};q()}else Registry.vendor("vendor/eslint/eslint",
()=>{try{const b=(new window.eslint).verify(a,h,v);n.resolve(b||[])}catch(x){n.reject(x)}});return u},globals:l,config:p,options:t,autoHintMaxLength:5E4})});
