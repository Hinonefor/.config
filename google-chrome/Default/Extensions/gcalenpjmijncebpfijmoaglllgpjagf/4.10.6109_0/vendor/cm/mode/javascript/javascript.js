'use strict';(function(q){"object"==typeof exports&&"object"==typeof module?q(require("../../lib/codemirror")):"function"==typeof define&&define.amd?define(["../../lib/codemirror"],q):q(CodeMirror)})(function(q){q.defineMode("javascript",function(Ba,u){function n(a,c,b){L=a;Q=b;return c}function z(a,c){var b=a.next();if('"'==b||"'"==b)return c.tokenize=Ca(b),c.tokenize(a,c);if("."==b&&a.match(/^\d+(?:[eE][+\-]?\d+)?/))return n("number","number");if("."==b&&a.match(".."))return n("spread","meta");
if(/[\[\]{}\(\),;:\.]/.test(b))return n(b);if("="==b&&a.eat(">"))return n("=>","operator");if("0"==b&&a.eat(/x/i))return a.eatWhile(/[\da-f]/i),n("number","number");if("0"==b&&a.eat(/o/i))return a.eatWhile(/[0-7]/i),n("number","number");if("0"==b&&a.eat(/b/i))return a.eatWhile(/[01]/i),n("number","number");if(/\d/.test(b))return a.match(/^\d*(?:\.\d*)?(?:[eE][+\-]?\d+)?/),n("number","number");if("/"==b){if(a.eat("*"))return c.tokenize=R,R(a,c);if(a.eat("/"))return a.skipToEnd(),n("comment","comment");
if(ka(a,c,1)){a:for(var f=c=!1;null!=(b=a.next());){if(!c){if("/"==b&&!f)break a;"["==b?f=!0:f&&"]"==b&&(f=!1)}c=!c&&"\\"==b}a.match(/^\b(([gimyu])(?![gimyu]*\2))+\b/);return n("regexp","string-2")}a.eat("=");return n("operator","operator",a.current())}if("`"==b)return c.tokenize=aa,aa(a,c);if("#"==b)return a.skipToEnd(),n("error","error");if(la.test(b))return">"==b&&c.lexical&&">"==c.lexical.type||(a.eat("=")?"!"!=b&&"="!=b||a.eat("="):/[<>*+\-]/.test(b)&&(a.eat(b),">"==b&&a.eat(b))),n("operator",
"operator",a.current());if(ba.test(b)){a.eatWhile(ba);b=a.current();if("."!=c.lastType){if(ma.propertyIsEnumerable(b))return a=ma[b],n(a.type,a.style,b);if("async"==b&&a.match(/^(\s|\/\*.*?\*\/)*[\(\w]/,!1))return n("async","keyword",b)}return n("variable","variable",b)}}function Ca(a){return function(c,b){var f=!1,d;if(S&&"@"==c.peek()&&c.match(Da))return b.tokenize=z,n("jsonld-keyword","meta");for(;null!=(d=c.next())&&(d!=a||f);)f=!f&&"\\"==d;f||(b.tokenize=z);return n("string","string")}}function R(a,
c){for(var b=!1,f;f=a.next();){if("/"==f&&b){c.tokenize=z;break}b="*"==f}return n("comment","comment")}function aa(a,c){for(var b=!1,f;null!=(f=a.next());){if(!b&&("`"==f||"$"==f&&a.eat("{"))){c.tokenize=z;break}b=!b&&"\\"==f}return n("quasi","string-2",a.current())}function da(a,c){c.fatArrowAt&&(c.fatArrowAt=null);var b=a.string.indexOf("=>",a.start);if(!(0>b)){if(m){var f=/:\s*(?:\w+(?:<[^>]*>|\[\])?|\{[^}]*\})\s*$/.exec(a.string.slice(a.start,b));f&&(b=f.index)}f=0;var d=!1;for(--b;0<=b;--b){var g=
a.string.charAt(b),e="([{}])".indexOf(g);if(0<=e&&3>e){if(!f){++b;break}if(0==--f){"("==g&&(d=!0);break}}else if(3<=e&&6>e)++f;else if(ba.test(g))d=!0;else{if(/["'\/]/.test(g))return;if(d&&!f){++b;break}}}d&&!f&&(c.fatArrowAt=b)}}function na(a,b,d,f,g,e){this.indented=a;this.column=b;this.type=d;this.prev=g;this.info=e;null!=f&&(this.align=f)}function h(){for(var a=arguments.length-1;0<=a;a--)d.cc.push(arguments[a])}function b(){h.apply(null,arguments);return!0}function F(a,b){function c(b){for(;b;b=
b.next)if(b.name==a)return!0;return!1}var f=d.state;d.marked="function"==b?"deffunc":"argument"==b?"defarg":"def";f.context?c(f.localVars)||(f.localVars={name:a,next:f.localVars}):!c(f.globalVars)&&u.globalVars&&(f.globalVars={name:a,next:f.globalVars})}function T(a){return"public"==a||"private"==a||"protected"==a||"abstract"==a||"readonly"==a}function M(){d.state.context={prev:d.state.context,vars:d.state.localVars};d.state.localVars=Ea}function N(){d.state.localVars=d.state.context.vars;d.state.context=
d.state.context.prev}function e(a,b){var c=function(){var c=d.state,g=c.indented;if("stat"==c.lexical.type)g=c.lexical.indented;else for(var e=c.lexical;e&&")"==e.type&&e.align;e=e.prev)g=e.indented;c.lexical=new na(g,d.stream.column(),a,null,c.lexical,b)};c.lex=!0;return c}function g(){var a=d.state;a.lexical.prev&&(")"==a.lexical.type&&(a.indented=a.lexical.indented),a.lexical=a.lexical.prev)}function k(a){function c(d){return d==a?b():";"==a?h():b(c)}return c}function r(a,c){return"var"==a?b(e("vardef",
c.length),ea,k(";"),g):"keyword a"==a?b(e("form"),fa,r,g):"keyword b"==a?b(e("form"),r,g):"keyword d"==a?d.stream.match(/^\s*$/,!1)?b():b(e("stat"),ha,k(";"),g):"debugger"==a?b(k(";")):"{"==a?b(e("}"),O,g):";"==a?b():"if"==a?("else"==d.state.lexical.info&&d.state.cc[d.state.cc.length-1]==g&&d.state.cc.pop()(),b(e("form"),fa,r,g,oa)):"function"==a?b(x):"for"==a?b(e("form"),pa,r,g):"class"==a||m&&"interface"==c?(d.marked="keyword",b(e("form"),qa,g)):"variable"==a?m&&"declare"==c?(d.marked="keyword",
b(r)):m&&("module"==c||"enum"==c||"type"==c)&&d.stream.match(/^\s*\w/,!1)?(d.marked="keyword","enum"==c?b(ra):"type"==c?b(p,k("operator"),p,k(";")):b(e("form"),w,k("{"),e("}"),O,g,g)):m&&"namespace"==c?(d.marked="keyword",b(e("form"),l,O,g)):b(e("stat"),Fa):"switch"==a?b(e("form"),fa,k("{"),e("}","switch"),O,g,g):"case"==a?b(l,k(":")):"default"==a?b(k(":")):"catch"==a?b(e("form"),M,k("("),G,k(")"),r,g,N):"export"==a?b(e("stat"),Ga,g):"import"==a?b(e("stat"),Ha,g):"async"==a?b(r):"@"==c?b(l,r):h(e("stat"),
l,k(";"),g)}function l(a,b){return sa(a,b,!1)}function v(a,b){return sa(a,b,!0)}function fa(a){return"("!=a?h():b(e(")"),l,k(")"),g)}function sa(a,c,y){if(d.state.fatArrowAt==d.stream.start){var f=y?ta:ua;if("("==a)return b(M,e(")"),t(G,")"),g,k("=>"),f,N);if("variable"==a)return h(M,w,k("=>"),f,N)}f=y?H:A;return Ia.hasOwnProperty(a)?b(f):"function"==a?b(x,f):"class"==a||m&&"interface"==c?(d.marked="keyword",b(e("form"),Ja,g)):"keyword c"==a||"async"==a?b(y?v:l):"("==a?b(e(")"),ha,k(")"),g,f):"operator"==
a||"spread"==a?b(y?v:l):"["==a?b(e("]"),Ka,g,f):"{"==a?P(U,"}",null,f):"quasi"==a?h(V,f):"new"==a?b(La(y)):"import"==a?b(l):b()}function ha(a){return a.match(/[;\}\)\],]/)?h():h(l)}function A(a,c){return","==a?b(l):H(a,c,!1)}function H(a,c,y){var f=0==y?A:H,ca=0==y?l:v;if("=>"==a)return b(M,y?ta:ua,N);if("operator"==a)return/\+\+|--/.test(c)||m&&"!"==c?b(f):m&&"<"==c&&d.stream.match(/^([^>]|<.*?>)*>\s*\(/,!1)?b(e(">"),t(p,">"),g,f):"?"==c?b(l,k(":"),ca):b(ca);if("quasi"==a)return h(V,f);if(";"!=a){if("("==
a)return P(v,")","call",f);if("."==a)return b(Ma,f);if("["==a)return b(e("]"),ha,k("]"),g,f);if(m&&"as"==c)return d.marked="keyword",b(p,f);if("regexp"==a)return d.state.lastType=d.marked="operator",d.stream.backUp(d.stream.pos-d.stream.start-1),b(ca)}}function V(a,c){return"quasi"!=a?h():"${"!=c.slice(c.length-2)?b(V):b(l,Na)}function Na(a){if("}"==a)return d.marked="string-2",d.state.tokenize=aa,b(V)}function ua(a){da(d.stream,d.state);return h("{"==a?r:l)}function ta(a){da(d.stream,d.state);return h("{"==
a?r:v)}function La(a){return function(c){return"."==c?b(a?Oa:Pa):"variable"==c&&m?b(Qa,a?H:A):h(a?v:l)}}function Pa(a,c){if("target"==c)return d.marked="keyword",b(A)}function Oa(a,c){if("target"==c)return d.marked="keyword",b(H)}function Fa(a){return":"==a?b(g,r):h(A,k(";"),g)}function Ma(a){if("variable"==a)return d.marked="property",b()}function U(a,c){if("async"==a)return d.marked="property",b(U);if("variable"==a||"keyword"==d.style){d.marked="objprop";if("get"==c||"set"==c)return b(Ra);var g;
m&&d.state.fatArrowAt==d.stream.start&&(g=d.stream.match(/^\s*:\s*/,!1))&&(d.state.fatArrowAt=d.stream.pos+g[0].length);return b(B)}if("number"==a||"string"==a)return d.marked=S?"property":d.style+" property",b(B);if("jsonld-keyword"==a)return b(B);if(m&&T(c))return d.marked="keyword",b(U);if("["==a)return b(l,I,k("]"),B);if("spread"==a)return b(v,B);if("*"==c)return d.marked="keyword",b(U);if(":"==a)return h(B)}function Ra(a){if("variable"!=a)return h(B);d.marked="property";return b(x)}function B(a){if(":"==
a)return b(v);if("("==a)return h(x)}function t(a,c,g){function f(e,l){return(g?-1<g.indexOf(e):","==e)?(e=d.state.lexical,"call"==e.info&&(e.pos=(e.pos||0)+1),b(function(b,d){return b==c||d==c?h():h(a)},f)):e==c||l==c?b():b(k(c))}return function(d,e){return d==c||e==c?b():h(a,f)}}function P(a,c,h){for(var f=3;f<arguments.length;f++)d.cc.push(arguments[f]);return b(e(c,h),t(a,c),g)}function O(a){return"}"==a?b():h(r,O)}function I(a,c){if(m){if(":"==a)return b(p);if("?"==c)return b(I)}}function Sa(a){if(m&&
":"==a)return d.stream.match(/^\s*\w+\s+is\b/,!1)?b(l,Ta,p):b(p)}function Ta(a,c){if("is"==c)return d.marked="keyword",b()}function p(a,c){if("variable"==a||"void"==c){if("keyof"==c)return d.marked="keyword",b(p);d.marked="type";return b(C)}if("string"==a||"number"==a||"atom"==a)return b(C);if("["==a)return b(e("]"),t(p,"]",","),g,C);if("{"==a)return b(e("}"),t(W,"}",",;"),g,C);if("("==a)return b(t(va,")"),Ua)}function Ua(a){if("=>"==a)return b(p)}function W(a,c){if("variable"==a||"keyword"==d.style)return d.marked=
"property",b(W);if("?"==c)return b(W);if(":"==a)return b(p);if("["==a)return b(l,I,k("]"),W)}function va(a){if("variable"==a)return b(va);if(":"==a)return b(p)}function C(a,c){if("<"==c)return b(e(">"),t(p,">"),g,C);if("|"==c||"."==a||"&"==c)return b(p);if("["==a)return b(k("]"),C);if("extends"==c||"implements"==c)return d.marked="keyword",b(p)}function Qa(a,c){if("<"==c)return b(e(">"),t(p,">"),g,C)}function wa(){return h(p,Va)}function Va(a,c){if("="==c)return b(p)}function ea(a,c){return"enum"==
c?(d.marked="keyword",b(ra)):h(w,I,J,Wa)}function w(a,c){if(m&&T(c))return d.marked="keyword",b(w);if("function"==a)return F(c),b();if("variable"==a)return F(c,")"!=d.state.lexical.type||d.state.lexical.prev&&"form"==d.state.lexical.prev.type?null:"argument"),b();if("spread"==a)return b(w);if("["==a)return P(w,"]");if("{"==a)return P(Xa,"}")}function Xa(a,c){if("variable"==a&&!d.stream.match(/^\s*:/,!1))return F(c),b(J);"variable"==a&&(d.marked="property");return"spread"==a?b(w):"}"==a?h():b(k(":"),
w,J)}function J(a,c){if("="==c)return b(v)}function Wa(a){if(","==a)return b(ea)}function oa(a,c){if("keyword b"==a&&"else"==c)return b(e("form","else"),r,g)}function pa(a,c){if("await"==c)return b(pa);if("("==a)return b(e(")"),Ya,k(")"),g)}function Ya(a){return"var"==a?b(ea,k(";"),X):";"==a?b(X):"variable"==a?b(Za):h(l,k(";"),X)}function Za(a,c){return"in"==c||"of"==c?(d.marked="keyword",b(l)):b(A,X)}function X(a,c){return";"==a?b(xa):"in"==c||"of"==c?(d.marked="keyword",b(l)):h(l,k(";"),xa)}function xa(a){")"!=
a&&b(l)}function x(a,c){if("*"==c)return d.marked="keyword",b(x);if("variable"==a)return F(c,"function"),b(x);if("("==a)return b(M,e(")"),t(G,")"),g,Sa,r,N);if(m&&"<"==c)return b(e(">"),t(wa,">"),g,x)}function G(a,c){"@"==c&&b(l,G);return"spread"==a?b(G):m&&T(c)?(d.marked="keyword",b(G)):h(w,I,J)}function Ja(a,b){return"variable"==a?qa(a,b):Y(a,b)}function qa(a,c){if("variable"==a)return F(c),b(Y)}function Y(a,c){if("<"==c)return b(e(">"),t(wa,">"),g,Y);if("extends"==c||"implements"==c||m&&","==a)return"implements"==
c&&(d.marked="keyword"),b(m?p:l,Y);if("{"==a)return b(e("}"),D,g)}function D(a,c){if("async"==a||"variable"==a&&("static"==c||"get"==c||"set"==c||m&&T(c))&&d.stream.match(/^\s+[\w$\xa1-\uffff]/,!1))return d.marked="keyword",b(D);if("variable"==a||"keyword"==d.style)return d.marked="property",b(m?ia:x,D);if("["==a)return b(l,I,k("]"),m?ia:x,D);if("*"==c)return d.marked="keyword",b(D);if(";"==a)return b(D);if("}"==a)return b();if("@"==c)return b(l,D)}function ia(a,c){return"?"==c?b(ia):":"==a?b(p,J):
"="==c?b(v):h(x)}function Ga(a,c){return"*"==c?(d.marked="keyword",b(ja,k(";"))):"default"==c?(d.marked="keyword",b(l,k(";"))):"{"==a?b(t(ya,"}"),ja,k(";")):h(r)}function ya(a,c){if("as"==c)return d.marked="keyword",b(k("variable"));if("variable"==a)return h(v,ya)}function Ha(a){return"string"==a?b():"("==a?h(l):h(Z,za,ja)}function Z(a,c){if("{"==a)return P(Z,"}");"variable"==a&&F(c);"*"==c&&(d.marked="keyword");return b($a)}function za(a){if(","==a)return b(Z,za)}function $a(a,c){if("as"==c)return d.marked=
"keyword",b(Z)}function ja(a,c){if("from"==c)return d.marked="keyword",b(l)}function Ka(a){return"]"==a?b():h(t(v,"]"))}function ra(){return h(e("form"),w,k("{"),e("}"),t(ab,"}"),g,g)}function ab(){return h(w,J)}function ka(a,b,d){return b.tokenize==z&&/^(?:operator|sof|keyword [bcd]|case|new|export|default|spread|[\[{}\(,;:]|=>)$/.test(b.lastType)||"quasi"==b.lastType&&/\{\s*$/.test(a.string.slice(0,a.pos-(d||0)))}var K=Ba.indentUnit,Aa=u.statementIndent,S=u.jsonld,E=u.json||S,m=u.typescript,ba=
u.wordCharacters||/[\w$\xa1-\uffff]/,ma=function(){function a(a){return{type:a,style:"keyword"}}var b=a("keyword a"),d=a("keyword b"),f=a("keyword c"),e=a("keyword d"),g=a("operator"),h={type:"atom",style:"atom"};return{"if":a("if"),"while":b,"with":b,"else":d,"do":d,"try":d,"finally":d,"return":e,"break":e,"continue":e,"new":a("new"),"delete":f,"void":f,"throw":f,"debugger":a("debugger"),"var":a("var"),"const":a("var"),let:a("var"),"function":a("function"),"catch":a("catch"),"for":a("for"),"switch":a("switch"),
"case":a("case"),"default":a("default"),"in":g,"typeof":g,"instanceof":g,"true":h,"false":h,"null":h,undefined:h,NaN:h,Infinity:h,"this":a("this"),"class":a("class"),"super":a("atom"),yield:f,"export":a("export"),"import":a("import"),"extends":f,await:f}}(),la=/[+\-*&%=<>!?|~^@]/,Da=/^@(context|id|value|language|type|container|list|set|reverse|index|base|vocab|graph)"/,L,Q,Ia={atom:!0,number:!0,variable:!0,string:!0,regexp:!0,"this":!0,"jsonld-keyword":!0},d={state:null,column:null,marked:null,cc:null},
Ea={name:"this",next:{name:"arguments"}};g.lex=!0;return{startState:function(a){a={tokenize:z,lastType:"sof",cc:[],lexical:new na((a||0)-K,0,"block",!1),localVars:u.localVars,context:u.localVars&&{vars:u.localVars},indented:a||0};u.globalVars&&"object"==typeof u.globalVars&&(a.globalVars=u.globalVars);return a},token:function(a,b){a.sol()&&(b.lexical.hasOwnProperty("align")||(b.lexical.align=!1),b.indented=a.indentation(),da(a,b));if(b.tokenize!=R&&a.eatSpace())return null;var c=b.tokenize(a,b);if("comment"==
L)return c;b.lastType="operator"!=L||"++"!=Q&&"--"!=Q?L:"incdec";a:{var f=L,e=Q,g=b.cc;d.state=b;d.stream=a;d.marked=null;d.cc=g;d.style=c;b.lexical.hasOwnProperty("align")||(b.lexical.align=!0);for(;;)if((g.length?g.pop():E?l:r)(f,e)){for(;g.length&&g[g.length-1].lex;)g.pop()();if(d.marked){c=d.marked;break a}if(a="variable"==f)b:{for(a=b.localVars;a;a=a.next)if(a.name==e){a=!0;break b}for(b=b.context;b;b=b.prev)for(a=b.vars;a;a=a.next)if(a.name==e){a=!0;break b}a=void 0}if(a){c="variable-2";break a}break a}}return c},
indent:function(a,b){if(a.tokenize==R)return q.Pass;if(a.tokenize!=z)return 0;var c=b&&b.charAt(0),d=a.lexical,e;if(!/^\s*else\b/.test(b))for(var h=a.cc.length-1;0<=h;--h){var k=a.cc[h];if(k==g)d=d.prev;else if(k!=oa)break}for(;!("stat"!=d.type&&"form"!=d.type||"}"!=c&&(!(e=a.cc[a.cc.length-1])||e!=A&&e!=H||/^[,\.=+\-*:?[\(]/.test(b)));)d=d.prev;Aa&&")"==d.type&&"stat"==d.prev.type&&(d=d.prev);e=d.type;h=c==e;return"vardef"==e?d.indented+("operator"==a.lastType||","==a.lastType?d.info+1:0):"form"==
e&&"{"==c?d.indented:"form"==e?d.indented+K:"stat"==e?(c=d.indented,a="operator"==a.lastType||","==a.lastType||la.test(b.charAt(0))||/[,.]/.test(b.charAt(0)),c+(a?Aa||K:0)):"switch"!=d.info||h||0==u.doubleIndentSwitch?d.align?d.column+(h?0:1):d.indented+(h?0:K):d.indented+(/^(?:case|default)\b/.test(b)?K:2*K)},electricInput:/^\s*(?:case .*?:|default:|\{|\})$/,blockCommentStart:E?null:"/*",blockCommentEnd:E?null:"*/",blockCommentContinue:E?null:" * ",lineComment:E?null:"//",fold:"brace",closeBrackets:"()[]{}''\"\"``",
helperType:E?"json":"javascript",jsonldMode:S,jsonMode:E,expressionAllowed:ka,skipExpression:function(a){var b=a.cc[a.cc.length-1];b!=l&&b!=v||a.cc.pop()}}});q.registerHelper("wordChars","javascript",/[\w$]/);q.defineMIME("text/javascript","javascript");q.defineMIME("text/ecmascript","javascript");q.defineMIME("application/javascript","javascript");q.defineMIME("application/x-javascript","javascript");q.defineMIME("application/ecmascript","javascript");q.defineMIME("application/json",{name:"javascript",
json:!0});q.defineMIME("application/x-json",{name:"javascript",json:!0});q.defineMIME("application/ld+json",{name:"javascript",jsonld:!0});q.defineMIME("text/typescript",{name:"javascript",typescript:!0});q.defineMIME("application/typescript",{name:"javascript",typescript:!0})});
