(function(){var k={default:!0};window.MirrorFrame=function(b,a,h,c,e){CodeMirror.I18N=CodeMirror.I18N||{getMessage:e};e=document.createElement("div");e.setAttribute("class","CodeMirror-editor");e.setAttribute("style","font-size:"+((a.fontSize||100)/100).toFixed(2)+"em;");b.appendChild(e);var g={nextTheme:function(){if(a.themeOptions){var f=a.themeOptions.all,b=f.indexOf(a.theme||"default")||0;++b>=f.length&&(b=0);f=a.theme=f[b];l(f);if(a.themeOptions.onChange)a.themeOptions.onChange(f)}}};a.theme=
a.theme||"default";var d=new CodeMirror(e,a);this.mirror=d;Object.keys(g).forEach(function(a){d.setCommand(a,g[a])});h&&Object.keys(h).forEach(function(a){d.setCommand(a,h[a])});c&&Object.keys(c).forEach(function(a){d.on(a,c[a])});this.refresh=function(){d.refresh.call(d)};var l=function(a){"default"==a&&-1!=(document.documentElement.getAttribute("class")||"").split(" ").indexOf("dark")&&(a="monokai");k[a]||(k[a]=!0,rea.page.addStyle(rea.extension.getURL("vendor/cm/theme/"+a.replace(/[^a-zA-Z0-9\.-]/g,
"")+".css")));d.setOption("theme",a)};l(a.theme)};var g={jump:function(b){var a=prompt(CodeMirror.I18N.getMessage("Jump_to_line"),"");a&&!isNaN(Number(a-1))&&b.setCursor(Number(a-1));b.focus()},macro:function(b){var a=prompt(CodeMirror.I18N.getMessage("Insert_constructor")+":","");a&&b.replaceSelection("function "+a+"() {\n  \n}\n\n"+a+".prototype = {\n  \n};\n")},reindentall:function(b){for(var a,c=0;c<=b.lineCount();c++)(a=b.getLineTokens(c))&&a[0]&&"quasi"==a[0].state.lastType||b.indentLine(c,
"smart")}},c;for(c in g)g.hasOwnProperty(c)&&(CodeMirror.commands[c]=g[c])})();
