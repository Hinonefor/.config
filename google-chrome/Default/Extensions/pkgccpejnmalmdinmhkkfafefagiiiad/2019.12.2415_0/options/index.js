import Settings from"./settings.js";new Vue({el:"#pageContainer",data:{defaultKey:"Alt+Shift+J",selectedOpts:[],maxJsonKeysNumber:0,manifest:{}},created:function(){chrome.commands&&chrome.commands.getAll&&chrome.commands.getAll(e=>{e.some(e=>{if("_execute_browser_action"===e.name&&e.shortcut)return this.defaultKey=e.shortcut,!0})}),Settings.getOptions(e=>{this.selectedOpts=Object.keys(e).filter(t=>"MAX_JSON_KEYS_NUMBER"!==t&&"true"===String(e[t])),this.maxJsonKeysNumber=e.MAX_JSON_KEYS_NUMBER}),this.manifest=chrome.runtime.getManifest()},methods:{close:()=>{chrome.tabs.query({active:!0,currentWindow:!0},e=>{chrome.tabs.remove(e[0].id)})},cancel:function(){this.close()},save:function(){Settings.setOptions(this.selectedOpts.concat([{MAX_JSON_KEYS_NUMBER:parseInt(this.maxJsonKeysNumber,10)}])),setTimeout(()=>{this.close()},1e3)},setShortcuts:function(){return chrome.tabs.create({url:"chrome://extensions/shortcuts"}),!1},donateToggle:function(e){let t=this.$refs.boxDonate;t.classList.contains("hide")?(t.classList.remove("hide"),t.style.top=e.target.offsetTop+30+"px",t.style.left=e.target.offsetLeft+"px"):t.classList.add("hide")}}});