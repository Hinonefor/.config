import Awesome from"../dynamic/awesome.js";import MSG_TYPE from"../static/js/common.js";new Vue({el:"#pageContainer",data:{manifest:{},fhTools:Awesome.allTools},created:function(){this.manifest=chrome.runtime.getManifest(),Object.keys(this.fhTools).forEach(e=>{this.fhTools[e].installed=Awesome.detectInstall(e)})},mounted:function(){document.body.addEventListener("keydown",e=>{let t=e.keyCode||e.which;if(![38,40,13].includes(t))return!1;let o,s,n=document.querySelector("#pageContainer ul"),r=n.querySelector("li.x-hovered");switch(r&&(r.classList.remove("x-hovered"),o=r.nextElementSibling,s=r.previousElementSibling),o||(o=n.querySelector("li:first-child")),s||(s=n.querySelector("li:last-child")),t){case 38:s.classList.add("x-hovered");break;case 40:o.classList.add("x-hovered");break;case 13:r.click()}},!1)},methods:{runHelper:function(e){e===MSG_TYPE.JSON_FORMAT?chrome.runtime.sendMessage({type:MSG_TYPE.OPEN_PAGE,page:MSG_TYPE.JSON_FORMAT}):chrome.runtime.sendMessage({type:MSG_TYPE.OPEN_DYNAMIC_TOOL,page:MSG_TYPE.DYNAMIC_TOOL,query:`tool=${e}`}),window.close()},openOptionsPage:()=>{chrome.runtime.openOptionsPage(),window.close()},openUrl:function(e){return e.preventDefault(),chrome.tabs.create({url:e.currentTarget.href}),window.close(),!1}}});