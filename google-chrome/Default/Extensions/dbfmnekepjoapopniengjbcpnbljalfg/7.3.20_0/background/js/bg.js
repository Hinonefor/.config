"use strict";var bg={isInstall:!1,isWallpaperInit:!1,init:function(){var l=this;chrome.runtime.onInstalled.addListener(function(i){if("install"==i.reason)l.isInstall=!0,l.checkWpAndInstallBothDone();else if("update"==i.reason){localStorage.showUpdateNote="off",infinity.alarms.clear("checkOpenTimes");var n=infinity.get("infinity-searches");if(n){for(var t=!1,e=n.all,a=0,s=e.length;a<s;a++){if("dd3af9cc97ad7de8984baaf59514bb52"===e[a].seId){t=!0,e.splice(a,1);break}}t&&(infinity.set("infinity-searches",n),infinity.sendMessage("reloadSearches"))}}}),oldData.init(function(){bgHome.init(),bgWallpaper.init(function(){l.isWallpaperInit=!0,l.checkWpAndInstallBothDone()}),bgUser.init(),bgSetting.init(),bgSearch.init(),bgData.init(),bgWeather.init(),bgCloudIcon.init(),bgTopsites.init(),bgGmail.init(),bgAutoBackup.init(),bgCloudApi.init(),chrome.runtime.setUninstallURL("https://uninstall.infinitynewtab.com/")})},checkWpAndInstallBothDone:function(){var i=this;i.isWallpaperInit&&i.isInstall&&(i.isInstall=!1,chrome.tabs.create({url:"chrome://newtab"}))}};bg.init();