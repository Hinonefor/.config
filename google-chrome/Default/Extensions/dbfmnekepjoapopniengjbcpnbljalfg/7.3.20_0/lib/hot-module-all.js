"use strict";window.infinity=window.infinity||{modules:[],imports:{}},infinity.import=function(u,r,a,m){if(infinity.imports[u])a&&a(infinity.modules[u]);else{r=r||"body";var e=window.location.origin+"/modules/"+u+"/"+u+".html",c=new XMLHttpRequest;c.onload=function(e){for(var n=c.response,o=(n.createElement("div"),n.getElementById("module-"+u)),t=JSON.parse(o.getAttribute("data-css")),d=JSON.parse(o.getAttribute("data-js")),i=null,l=[],s=0;s<t.length;s++)(i=document.createElement("link")).rel="stylesheet",i.href=window.location.origin+"/modules/"+u+"/css/"+t[s]+".css",document.head.appendChild(i),l.push(new Promise(function(e){i.onload=e}));Promise.all(l).then(function(){for(var t=[],e=null,n=null,i=0;i<d.length;i++)n={name:d[i],load:!1},t.push(n),(e=document.createElement("script")).setAttribute("async",""),e.src=window.location.origin+"/modules/"+u+"/js/"+d[i]+".js",e.setAttribute("name",d[i]),document.head.appendChild(e),e.onload=function(e){var n=e.target.getAttribute("name");t.forEach(function(e){e.name==n&&(e.load=!0)}),t.every(function(e){return e.load})&&(t.forEach(function(e){e.name==u?infinity.modules[u]=infinity.modules[u+"-"+u]():infinity.modules[u+"-"+e.name]&&infinity.modules[u+"-"+e.name]()}),infinity.imports[u]=!0,a&&a(infinity.modules[u]))};m&&(document.querySelector(r).innerHTML=""),document.querySelector(r).appendChild(document.adoptNode(o))})},c.open("GET",e),c.responseType="document",c.send()}},window.onModuleResLoaded&&onModuleResLoaded();