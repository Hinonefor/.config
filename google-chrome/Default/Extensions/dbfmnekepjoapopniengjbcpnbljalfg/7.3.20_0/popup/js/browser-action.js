"use strict";!function(){var n=Math.floor(10*Math.random())+1,r=$("#addTitle"),o=$(".icobgColor"),i="",t=o.eq(n-1).css("background-color");o.eq(n-1).css("border-color",t);var c=infinity.i18n("add");infinity.i18n("added");$("#addBu").val(c),$("#icon").css({"background-color":t}),$("#top").text(c),$(".can-not-text").text(infinity.i18n("can_not_add_page")),$("#haveedAdd").text(infinity.i18n("added")),$("#finishBtn").attr("data-text",infinity.i18n("done")),chrome.tabs.getSelected(null,function(n){"chrome://newtab/"!=n.url&&n.url!="chrome-extension://"+chrome.runtime.id+"/index.html"||$(".can-not-add-cover").show();var o=n.url,t=n.title;r.val(t),(i=$("#icon")).text(t.substr(0,2)),r.data("url",o)}),o.on("click",function(){var n=$(this).css("background-color");$(".icobgColor").css("border-color","transparent"),$(this).css("border-color",n),$("#icon").css({"background-color":n})}),r.on("input",function(){var n=r.val();2<n.length&&(n=n.substring(0,2)),i.text(n)}),$("#addBu").on("click",function(n){var o=r.val(),t=r.data("url"),i="";i=2<o.length?o.substring(0,2):o;var c=$("#icon").css("background-color");popupAdd({icon:{name:o,url:t,src:"",imageType:"color",uid:"",showText:i,bgColor:c,fontSize:34}})}),$("#finishBtn").on("click",function(n){window.close()})}();