"use strict";function getAddPosition(n,i){var t=i.row*i.column,o=n.length;for(var e in n)if(n[e].length<t){o=e;break}return parseInt(o)}function handleAdd(n,i,t,o){i.row,i.column;t>=n.length&&n.push([]),n[t].push(o),infinity.set("infinity-icons",n),infinity.sendMessage("icon-handle",{type:"add"}),infinity.sendMessage("backupToCloud")}function popupAdd(n){var i=infinity.get("infinity-settings"),t={bgColor:n.icon.bgColor,customType:"text",iconType:"custom",name:n.icon.name,showText:n.icon.showText.toUpperCase(),src:"",uid:infinity.randomId(900),url:n.icon.url},o=infinity.get("infinity-icons");handleAdd(o,i,self.getAddPosition(o,i),t),$(".fixedCover").show()}infinity.randomId=function(n){return t=new Uint8Array((i||40)/2),window.crypto.getRandomValues(t),n+(new Date).getTime().toString(32)+function(n){for(var i="",t="abcdefghijklmnopqrstuvwxyz0123456789",o=0;o<n;o++)i+=t.charAt(Math.floor(Math.random()*t.length));return i}(18);var i,t};