!function(e,t){for(var n in t)e[n]=t[n]}(exports,function(e){var t={};function n(r){if(t[r])return t[r].exports;var i=t[r]={i:r,l:!1,exports:{}};return e[r].call(i.exports,i,i.exports,n),i.l=!0,i.exports}return n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var i in e)n.d(r,i,function(t){return e[t]}.bind(null,i));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=49)}([function(e,t,n){"use strict";function r(e){for(var n in e)t.hasOwnProperty(n)||(t[n]=e[n])}var i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const o=n(1),s=i(n(13));r(n(50)),r(n(51)),r(n(52)),r(n(53)),r(n(27)),r(n(54)),r(n(55)),r(n(72)),r(n(73)),r(n(28)),r(n(74)),r(n(20)),r(n(37)),r(n(30)),t.outputChannel=o.workspace.createOutputChannel("explorer"),t.prettyPrint=function(e){o.workspace.showMessage(s.default.inspect(e))}},function(e,t){e.exports=require("coc.nvim")},function(e,t){e.exports=require("path")},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(0),i=n(40);class o extends i.ColumnRegistrar{getColumnConfig(e,t){return r.config.get("file.column."+e,t)}}t.FileColumnRegistrar=o,t.fileColumnRegistrar=new o},function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const i=n(1),o=r(n(6)),s=r(n(2)),a=n(7),c=n(0),u=n(5),l=n(8),f=n(23),d=n(3);n(93);const h=n(111),p=n(130),g=n(21),m=n(39),v=n(11),y=c.config.get("file.hiddenRules");const w=u.hlGroupManager.linkGroup.bind(u.hlGroupManager);t.fileHighlights={title:w("FileRoot","Constant"),name:w("FileRootName","Identifier"),expandIcon:w("FileExpandIcon","Direcoty"),fullpath:w("FileFullpath","Comment"),directory:w("FileDirectory","Directory"),linkTarget:w("FileLinkTarget","Comment"),gitStage:w("FileGitStage","Comment"),gitUnstage:w("FileGitUnstage","Operator"),indentLine:w("IndentLine","Comment"),clip:w("FileClip","Statement"),size:w("FileSize","Constant"),readonly:w("FileReadonly","Operator"),timeAccessed:w("TimeAccessed","Identifier"),timeModified:w("TimeModified","Identifier"),timeCreated:w("TimeCreated","Identifier"),diagnosticError:w("FileDiagnosticError","CocErrorSign"),diagnosticWarning:w("FileDiagnosticWarning","CocWarningSign")};class b extends l.ExplorerSource{constructor(){super(...arguments),this.hlRevealedLineSrcId=i.workspace.createNameSpace("coc-explorer-file-revealed-line"),this.showHidden=c.config.get("file.showHiddenFiles"),this.copiedNodes=new Set,this.cutNodes=new Set,this.rootNode={isRoot:!0,uid:this.sourceName+"://",level:0,drawnLine:"",name:"root",fullpath:g.homedir(),expandable:!0,directory:!0,readonly:!0,executable:!1,readable:!0,writable:!0,hidden:!1,symbolicLink:!0,lstat:null,isFirstInLevel:!0,isLastInLevel:!0}}get root(){return this.rootNode.fullpath}set root(e){this.rootNode.fullpath=e,this.rootNode.children=void 0}async init(){const{nvim:e}=this;c.activeMode&&(i.workspace.env.isVim?this.subscriptions.push(c.onBufEnter(async e=>{e===this.explorer.bufnr&&await this.reload(this.rootNode)},200)):c.autoReveal&&this.subscriptions.push(c.onBufEnter(async t=>{if(t!==this.explorer.bufnr){const n=await e.call("getbufinfo",[t]);n[0]&&n[0].name&&await c.execNotifyBlock(async()=>{const e=await this.revealNodeByPath(n[0].name,{render:!0,notify:!0});e&&await this.gotoNode(e,{notify:!0})})}},200))),p.initFileActions(this)}async open(){await this.columnManager.registerColumns(await this.explorer.args.value(v.argOptions.fileColumns),d.fileColumnRegistrar);const e=this.explorer.args;this.root=await e.rootPath()}async revealPath(){const e=await this.explorer.args.value(v.argOptions.reveal);if(e)return e;{const e=await this.explorer.sourceBufnrBySourceWinid();return e?await this.nvim.call("expand",`#${e}:p`):null}}async opened(e){await c.execNotifyBlock(async()=>{const e=this.explorer.args,t=await this.revealPath();if(!t)return;const n=e.has(v.argOptions.reveal);if(c.autoReveal||n){const e=await this.revealNodeByPath(t,{render:!0,notify:!0});null!==e?await this.gotoNode(e,{col:1,notify:!0}):await this.gotoRoot({col:1,notify:!0})}},e)}getPutTargetNode(e){return null===e?this.rootNode:e.expandable&&this.expandStore.isExpanded(e)?e:e.parent?e.parent:this.rootNode}getPutTargetDir(e){return this.getPutTargetNode(e).fullpath}async searchByCocList(e,t){h.filesList.showHidden=this.showHidden,h.filesList.rootPath=e,h.filesList.recursive=t,h.filesList.revealCallback=async e=>{await c.execNotifyBlock(async()=>{const t=await this.revealNodeByPath(i.Uri.parse(e.uri).fsPath,{render:!0,notify:!0});t&&await this.gotoNode(t,{notify:!0})})};const n=i.listManager.registerList(h.filesList);await i.listManager.start([h.filesList.name]),n.dispose()}async revealNodeByPath(e,{node:t=this.rootNode,render:n=!1,notify:r=!1}={}){if(e=c.normalizePath(e),t.directory&&e.startsWith(t.fullpath+s.default.sep)){let i=null;const o=!this.expandStore.isExpanded(t);t.children||(t.children=await this.loadChildren(t));for(const s of t.children)if(i=await this.revealNodeByPath(e,{node:s,render:!o&&n,notify:r})){this.expandStore.expand(t);break}return i&&n&&o&&await this.render({node:t,notify:r,storeCursor:!1}),i}return e===t.fullpath?t:null}sortFiles(e){return e.sort((e,t)=>e.directory&&!t.directory?-1:t.directory&&!e.directory?1:e.name.localeCompare(t.name))}async loadChildren(e){const t=await c.fsReaddir(e.fullpath),n=await Promise.all(t.map(async t=>{try{const n=function(e){const{basename:t,extensions:n}=c.getExtensions(e),r=n[n.length-1];return y.filenames.includes(t)||y.extensions.includes(r)||y.patternMatches.some(t=>new RegExp(t).test(e))}(t);if(!this.showHidden&&n)return null;const r=s.default.join(e.fullpath,t),i=await c.fsStat(r).catch(()=>{}),a=await c.fsLstat(r).catch(()=>{}),u=await c.fsAccess(r,o.default.constants.X_OK),l=await c.fsAccess(r,o.default.constants.W_OK),f=await c.fsAccess(r,o.default.constants.R_OK),d=!!i&&i.isDirectory(),h={uid:this.sourceName+"://"+r,level:e?e.level+1:1,drawnLine:"",parent:e||void 0,expandable:d,name:t,fullpath:r,directory:d,readonly:!l&&f,executable:u,readable:f,writable:l,hidden:n,symbolicLink:!!a&&a.isSymbolicLink(),isFirstInLevel:!1,isLastInLevel:!1,lstat:a||null};return this.expandStore.isExpanded(h)&&(h.children=await this.loadChildren(h)),h}catch(e){return a.onError(e),null}}));return this.sortFiles(n.filter(e=>null!==e))}async loaded(e){this.copiedNodes.clear(),this.cutNodes.clear(),await super.loaded(e)}async renderPaths(e){const t=Array.from(e).map(e=>this.flattenedNodes.find(t=>t.fullpath===e)).filter(e=>!!e);return await this.renderNodes(t)}async drawRootLabeling(e){const n=[],r=[],i=await this.viewBuilder.drawRow(async n=>{n.add("Fullpath:",m.labelHighlight),n.add(" "),n.add(e.fullpath,t.fileHighlights.directory)},{highlightMode:"highlight",relativeLineIndex:0});return r.push(i.content),n.push(...i.highlightPositions),{highlightPositions:n,lines:r}}async drawRootNode(e){e.drawnLine=await this.viewBuilder.drawRowLine(async e=>{e.add(this.expanded?l.sourceIcons.expanded:l.sourceIcons.collapsed,t.fileHighlights.expandIcon),e.add(" "),e.add(`[FILE${this.showHidden?" "+l.sourceIcons.hidden:""}]:`,t.fileHighlights.title),e.add(" "),e.add(s.default.basename(this.root),t.fileHighlights.name),e.add(" "),e.add(this.root,t.fileHighlights.fullpath)})}async drawNode(e,t,n){e.isFirstInLevel=void 0===n.prevSiblingNode,e.isLastInLevel=void 0===n.nextSiblingNode,e.drawnLine=await this.viewBuilder.drawRowLine(async n=>{await this.columnManager.draw(n,e,t)})}}t.FileSource=b,f.sourceManager.registerSource("file",b)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(1),i=n(0);t.HlEscapeCode={left:e=>t.HlEscapeCode.leftBegin+e+t.HlEscapeCode.leftEnd,leftBegin:"",leftEnd:"",right:e=>t.HlEscapeCode.rightBegin+e+t.HlEscapeCode.rightEnd,rightBegin:"",rightEnd:""};class o{constructor(){this.nvim=r.workspace.nvim,this.highlights=[],this.concealableHighlightsVisible=new Map,this.concealableHighlights=[],this.requestedConcealableQueue=new Map}createMarkerID(){return o.maxMarkerID+=1,o.maxMarkerID}concealable(e){const n=`CocExplorerConcealable${e}`,r=this.createMarkerID(),{nvim:o}=this,s=`syntax match ${n} conceal /\\V${t.HlEscapeCode.left(r)}\\.\\*${t.HlEscapeCode.right(r)}/`,a=`syntax match ${n} conceal /\\V${t.HlEscapeCode.left(r)}\\|${t.HlEscapeCode.right(r)}/`,c=async(e=!1)=>{await i.execNotifyBlock(()=>{o.command(`silent! syntax clear ${n}`,!0),o.command(s,!0)},e)},u=async(e=!1)=>{await i.execNotifyBlock(()=>{o.command(`silent! syntax clear ${n}`,!0),o.command(a,!0)},e)},l={markerID:r,requestShow:()=>this.requestedConcealableQueue.set(n,{action:"show",handler:u}),requestHide:()=>this.requestedConcealableQueue.set(n,{action:"hide",handler:c})};return this.concealableHighlights.push(l),l}async emitRequestedConcealableRender(e,{notify:t=!1,force:n=!1}={}){if(this.requestedConcealableQueue.size<=0)return;const{nvim:o}=this,{mode:s}=await o.mode,a=await e.winnr,c=await o.call("winnr"),u=c!==a,l=Array.from(this.requestedConcealableQueue).filter(([e,t])=>{if(n||!this.concealableHighlightsVisible.has(e))return!0;const r=this.concealableHighlightsVisible.get(e);return"show"===t.action&&!r||"hide"===t.action&&r});this.requestedConcealableQueue.clear(),l.length&&a&&"n"===s&&(i.enableDebug&&r.workspace.showMessage(`Concealable Render ${l.length} (${Array.from(l.map(([e])=>e)).join(",")})`,"more"),await i.execNotifyBlock(async()=>{u&&(i.skipOnBufEnter(await o.eval(`[winbufnr(${a}), winbufnr(${c})]`)),o.command(`${a}wincmd w`,!0));for(const[e,t]of l)this.concealableHighlightsVisible.set(e,"show"===t.action),await t.handler(!0);u&&o.command(`${c}wincmd w`,!0)},t))}linkGroup(e,n){const r=`CocExplorer${e}`,i=this.createMarkerID(),o={group:r,commands:[`syntax region ${r} concealends matchgroup=${r}Marker start=/\\V${t.HlEscapeCode.left(i)}/ end=/\\V${t.HlEscapeCode.right(i)}/`,`highlight default link ${r} ${n}`],markerID:i};return this.highlights.push(o),o}group(e,n){const r=`CocExplorer${e}`,i=this.createMarkerID(),o={group:r,commands:[`syntax region ${r} concealends matchgroup=${r}Marker start=/\\V${t.HlEscapeCode.left(i)}/ end=/\\V${t.HlEscapeCode.right(i)}/`,`highlight default ${r} ${n}`],markerID:i};return this.highlights.push(o),o}async executeHighlightSyntax(e=!1){await i.execNotifyBlock(async()=>{const e=[];for(const t of this.highlights)this.nvim.command(`silent! syntax clear ${t.group}`,!0),e.push(...t.commands);this.nvim.call("coc_explorer#execute_syntax_highlights",[e],!0)},e)}}o.maxMarkerID=0,t.hlGroupManager=new o},function(e,t){e.exports=require("fs")},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(1),i=n(0),o=[];let s=null;const a=(e,t)=>{var n;if(s){if("info"!==e){const n="warn"===e?"warning":e;r.workspace.showMessage(t.toString(),n)}s[e](t),"string"==typeof t?i.outputChannel.appendLine(t):i.outputChannel.appendLine(null!=(n=t.stack)?n:t.toString())}};t.log=(e,t)=>{s?a(e,t):o.push({type:e,data:t})},t.registerLogger=e=>{s=e;for(const e of o)a(e.type,e.data)},t.onError=e=>{t.log("error",e)}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(1),i=n(79),o=n(7),s=n(22),a=n(0),c=n(38),u=n(5),l=n(39);t.enableNerdfont=a.config.get("icon.enableNerdfont"),t.sourceIcons={expanded:a.config.get("icon.expanded")||(t.enableNerdfont?"":"-"),collapsed:a.config.get("icon.collapsed")||(t.enableNerdfont?"":"+"),selected:a.config.get("icon.selected"),unselected:a.config.get("icon.unselected"),hidden:a.config.get("icon.hidden")};t.ExplorerSource=class{constructor(e,t){this.sourceName=e,this.explorer=t,this.startLine=0,this.endLine=0,this.flattenedNodes=[],this.showHidden=!1,this.selectedNodes=new Set,this.relativeHlRanges={},this.viewBuilder=new c.SourceViewBuilder,this.expandStore={record:new Map,expand(e){this.record.set(e.uid,!0)},collapse(e){this.record.set(e.uid,!1)},isExpanded(e){return this.record.get(e.uid)||!1}},this.columnManager=new l.ColumnManager(this),this.actions={},this.rootActions={},this.hlIds=[],this.nvim=r.workspace.nvim,this.requestedRenderNodes=new Set,this.context=this.explorer.context,this.subscriptions=this.context.subscriptions,this.addAction("toggleHidden",async()=>{this.showHidden=!this.showHidden},"toggle visibility of hidden node",{reload:!0,multi:!1}),this.addAction("refresh",async()=>{await this.reload(this.rootNode,{force:!0}),await this.explorer.executeHighlightSyntax()},"refresh",{multi:!1}),this.addAction("help",async e=>{await this.explorer.showHelp(this,null===e)},"show help",{multi:!1}),this.addAction("actionMenu",async e=>{await this.listActionMenu(e)},"show actions in coc-list"),this.addNodeAction("select",async e=>{this.selectedNodes.add(e),this.requestRenderNodes([e])},"toggle node selection",{multi:!1,select:!0}),this.addNodeAction("unselect",async e=>{this.selectedNodes.delete(e),this.requestRenderNodes([e])},"toggle node selection",{multi:!1,select:!0}),this.addNodeAction("toggleSelection",async e=>{this.selectedNodes.has(e)?await this.doAction("unselect",e):await this.doAction("select",e)},"toggle node selection",{multi:!1,select:!0})}get expanded(){return this.expandStore.isExpanded(this.rootNode)}set expanded(e){e?this.expandStore.expand(this.rootNode):this.expandStore.collapse(this.rootNode)}get height(){return this.flattenedNodes.length}boot(e){Promise.resolve(this.init()).catch(o.onError),this.expanded=e}async opened(e){}addGlobalAction(e,t,n,r={}){this.explorer.addGlobalAction(e,t,n,r)}addAction(e,t,n,r={}){this.rootActions[e]={callback:(e,n)=>t(null,e,n),description:n,options:r},this.actions[e]={callback:t,description:n,options:r}}addRootAction(e,t,n,r={}){this.rootActions[e]={callback:t,options:r,description:n}}addNodesAction(e,t,n,r={}){this.actions[e]={callback:t,description:n,options:r}}addNodeAction(e,t,n,r={}){this.actions[e]={callback:async(e,n,r)=>{for(const i of e)await t(i,n,r)},description:n,options:r}}async doRootAction(e,t,n="n"){const r=this.rootActions[e];if(r){const{render:e=!1,reload:i=!1}=r.options;return await r.callback(t,n),void(i?await this.reload(this.rootNode):e&&await this.render())}const i=this.explorer.globalActions[e];if(i){const{render:e=!1,reload:r=!1}=i.options;return await i.callback([this.rootNode],t,n),void(r?await this.reload(this.rootNode):e&&await this.render())}}async doAction(e,t,n,r="n"){const i=this.actions[e]||this.explorer.globalActions[e];if(!i)return;const{multi:o=!0,render:s=!1,reload:a=!1,select:c=!1}=i.options,u=Array.isArray(t)?t:[t];if(c)await i.callback(u,n,r);else if(o)if(this.selectedNodes.size>0){const e=Array.from(this.selectedNodes);this.selectedNodes.clear(),await i.callback(e,n,r)}else await i.callback(u,n,r);else await i.callback([u[0]],n,r);a?await this.reload(this.rootNode):s&&await this.render()}async openAction(e,t){if("vsplit"===a.openStrategy)await this.doAction("openInVsplit",e),await this.quitOnOpen();else if("select"===a.openStrategy)await this.explorer.selectWindowsUI(async e=>{await t(e),await this.quitOnOpen()},async()=>{await this.doAction("openInVsplit",e),await this.quitOnOpen()});else if("previousBuffer"===a.openStrategy){const n=await this.explorer.explorerManager.prevWinnrByPrevBufnr();n?await t(n):await this.doAction("openInVsplit",e),await this.quitOnOpen()}else if("previousWindow"===a.openStrategy){const n=await this.explorer.explorerManager.prevWinnrByPrevWindowID();n?await t(n):await this.doAction("openInVsplit",e),await this.quitOnOpen()}else if("sourceWindow"===a.openStrategy){const n=await this.explorer.sourceWinnr();n?await t(n):await this.doAction("openInVsplit",e),await this.quitOnOpen()}}addIndexes(e,t){this.explorer.addIndexes(e,t+this.startLine)}removeIndexes(e,t){this.explorer.removeIndexes(e,t+this.startLine)}async copy(e){await this.nvim.call("setreg",["+",e]),await this.nvim.call("setreg",['"',e])}async listActionMenu(e){const t=Object.assign(Object.assign({},this.explorer.globalActions),null===e?this.rootActions:this.actions);i.explorerActionList.setExplorerActions(Object.entries(t).sort(([e],[t])=>e.localeCompare(t)).map(([t,{callback:n,description:r}])=>({name:t,nodes:e,mappings:s.mappings,root:null===e,key:s.reverseMappings[t],description:r,callback:n})).filter(e=>"actionMenu"!==e.name));const n=r.listManager.registerList(i.explorerActionList);await r.listManager.start(["--normal","--number-select",i.explorerActionList.name]),n.dispose()}isSelectedAny(){return 0!==this.selectedNodes.size}isSelectedNode(e){return this.selectedNodes.has(e)}getNodeByLine(e){return this.flattenedNodes[e]}getLineByNode(e){return e?this.flattenedNodes.findIndex(t=>t.uid===e.uid):0}async currentLineIndex(){const e=await this.explorer.currentCursor();return e?e.lineIndex-this.startLine:null}async gotoLineIndex(e,t,n=!1){e<0&&(e=0),e>this.height&&(e=this.height-1),await this.explorer.gotoLineIndex(this.startLine+e,t,n)}async gotoRoot({col:e,notify:t=!1}={}){const n=void 0===e?await this.explorer.currentCol():e;await this.gotoLineIndex(0,n,t)}async gotoNode(e,{lineIndex:t,col:n,notify:r=!1}={}){const i=void 0===n?await this.explorer.currentCol():n,o=this.flattenedNodes.findIndex(t=>t.uid===e.uid);-1!==o?await this.gotoLineIndex(o,i,r):void 0!==t?await this.gotoLineIndex(t,i,r):await this.gotoRoot({col:i,notify:r})}async loaded(e){await this.columnManager.reload(e)}async beforeDraw(e,{force:t=!1}={}){const n=this.columnManager.beforeDraw(e);return await u.hlGroupManager.emitRequestedConcealableRender(this.explorer,{force:t}),n}drawRootLabeling(e){}flattenByNode(e){return[e,...e.children?this.flattenByNodes(e.children):[]]}flattenByNodes(e){const t=[...e],n=[];for(;t.length;){const e=t.shift();if(n.push(e),e.children&&Array.isArray(e.children)&&this.expandStore.isExpanded(e))for(let n=e.children.length-1;n>=0;n--)t.unshift(e.children[n])}return n}async drawNodes(e){var t;for(let n=0,r=e.length;n<r;n++){const r=e[n];if(r.isRoot){await this.drawRootNode(r);continue}const i=this.flattenedNodes.findIndex(e=>e.uid===r.uid);if(i>-1){let e=void 0,n=void 0;if(null===(t=r.parent)||void 0===t?void 0:t.children){const t=r.parent.children.indexOf(r);-1!==t&&(e=r.parent.children[t-1],n=r.parent.children[t+1])}await this.drawNode(r,i,{prevSiblingNode:e,nextSiblingNode:n})}}}currentSourceIndex(){return this.explorer.sources.indexOf(this)}async reload(e,{render:t=!0,notify:n=!1,force:r=!1}={}){this.selectedNodes=new Set,e.children=this.expandStore.isExpanded(e)?await this.loadChildren(e):[],await this.loaded(e),t&&await this.render({node:e,notify:n,force:r})}offsetAfterLine(e,t){this.explorer.indexesManager.offsetLines(e,this.startLine+t+1),this.endLine+=e,this.explorer.sources.slice(this.currentSourceIndex()+1).forEach(t=>{t.startLine+=e,t.offsetAfterLine(e,t.startLine)})}setLines(e,t,n,r=!1){return this.explorer.setLines(e,this.startLine+t,this.startLine+n,r)}nodeAndChildrenRange(e){const t=this.flattenedNodes.findIndex(t=>t.uid===e.uid);if(-1===t)return null;const n=e.level;let r=this.flattenedNodes.length-1;for(let e=t+1,i=this.flattenedNodes.length;e<i;e++)if(this.flattenedNodes[e].level<=n){r=e-1;break}return{startIndex:t,endIndex:r}}async expandNodeRender(e,t=!1){await a.execNotifyBlock(async()=>{const t=this.nodeAndChildrenRange(e);if(!t)return;const{startIndex:n,endIndex:r}=t;if(this.expandStore.isExpanded(e)&&e.children){const t=this.flattenByNode(e);if(this.flattenedNodes=this.flattenedNodes.slice(0,n).concat(t).concat(this.flattenedNodes.slice(r+1)),await this.beforeDraw(t))return this.render();this.offsetAfterLine(t.length-1,n),await this.drawNodes(t),await this.setLines(t.map(e=>e.drawnLine),n,r+1,!0),await this.gotoLineIndex(n,1)}},t)}async expandNodeRecursive(e,t){e.expandable&&(this.expandStore.expand(e),e.children=await this.loadChildren(e),(t||1===e.children.length&&e.children[0].expandable&&a.config.get("autoExpandSingleNode"))&&await Promise.all(e.children.map(async e=>{await this.expandNodeRecursive(e,t)})))}async expandNode(e,{recursive:t=!1,notify:n=!1}={}){await a.execNotifyBlock(async()=>{await this.expandNodeRecursive(e,t),await this.expandNodeRender(e,!0),await this.gotoNode(e,{notify:!0})},n)}async collapseNodeRender(e,t=!1){await a.execNotifyBlock(async()=>{const t=this.nodeAndChildrenRange(e);if(!t)return;const{startIndex:n,endIndex:r}=t;if(this.flattenedNodes.splice(n+1,r-n),this.explorer.indexesManager.removeLines(this.startLine+n+1,this.startLine+r),await this.beforeDraw([e]))return this.render();this.offsetAfterLine(-(r-n),r),await this.drawNodes([e]),await this.setLines([e.drawnLine],n,r+1,!0),await this.gotoLineIndex(n,1)},t)}async collapseNodeRecursive(e,t){if(e.expandable&&(this.expandStore.collapse(e),(t||a.config.get("autoCollapseChildren"))&&e.children))for(const n of e.children)await this.collapseNodeRecursive(n,t)}async collapseNode(e,{recursive:t=!1,notify:n=!1}={}){await a.execNotifyBlock(async()=>{await this.collapseNodeRecursive(e,t),await this.collapseNodeRender(e,!0),await this.gotoNode(e,{notify:!0})},n)}requestRenderNodes(e){e.forEach(e=>{this.requestedRenderNodes.add(e)})}async emitRequestRenderNodes(e=!1){this.requestedRenderNodes.size>0&&(await this.renderNodes(Array.from(this.requestedRenderNodes),e),this.requestedRenderNodes.clear())}async renderNodes(e,t=!1){if(await this.beforeDraw(e))return this.render();await a.execNotifyBlock(async()=>{await Promise.all(e.map(async e=>{const t=this.flattenedNodes.findIndex(t=>t.uid===e.uid);-1!==t&&(await this.drawNodes([e]),await this.setLines([e.drawnLine],t,t+1,!0))}))},t)}async render({node:e=this.rootNode,notify:t=!1,storeCursor:n=!0,force:i=!1}={}){if(this.explorer.isHelpUI)return;const{nvim:o}=this;let s=null;n&&(s=await this.explorer.storeCursor()),await a.execNotifyBlock(async()=>{const t=this.nodeAndChildrenRange(e);if(!t&&e!==this.rootNode)return;const{startIndex:n,endIndex:a}=t||{startIndex:0,endIndex:this.flattenedNodes.length-1},c=a-n+1,u=this.flattenByNode(e),l=u.length;this.flattenedNodes=this.flattenedNodes.slice(0,n).concat(u).concat(this.flattenedNodes.slice(a+1)),l<c&&this.explorer.indexesManager.removeLines(this.startLine+l+1,this.startLine+c+1),this.offsetAfterLine(l-c,this.endLine),await this.beforeDraw(this.flattenedNodes,{force:i}),await this.drawNodes(this.flattenedNodes);const f=this.currentSourceIndex(),d=this.explorer.sources.length-1==f;await this.explorer.setLines(this.flattenedNodes.map(e=>e.drawnLine),this.startLine,d?-1:this.startLine+c,!0),s&&await s(!0),r.workspace.env.isVim&&o.command("redraw",!0)},t)}async quitOnOpen(){a.config.get("quitOnOpen")&&await this.explorer.quit()}}},function(e,t,n){"use strict";function r(e){for(var n in e)t.hasOwnProperty(n)||(t[n]=e[n])}Object.defineProperty(t,"__esModule",{value:!0});const i=n(14),o=n(113);t.RequestType=o.RequestType,t.RequestType0=o.RequestType0,t.RequestType1=o.RequestType1,t.RequestType2=o.RequestType2,t.RequestType3=o.RequestType3,t.RequestType4=o.RequestType4,t.RequestType5=o.RequestType5,t.RequestType6=o.RequestType6,t.RequestType7=o.RequestType7,t.RequestType8=o.RequestType8,t.RequestType9=o.RequestType9,t.ResponseError=o.ResponseError,t.ErrorCodes=o.ErrorCodes,t.NotificationType=o.NotificationType,t.NotificationType0=o.NotificationType0,t.NotificationType1=o.NotificationType1,t.NotificationType2=o.NotificationType2,t.NotificationType3=o.NotificationType3,t.NotificationType4=o.NotificationType4,t.NotificationType5=o.NotificationType5,t.NotificationType6=o.NotificationType6,t.NotificationType7=o.NotificationType7,t.NotificationType8=o.NotificationType8,t.NotificationType9=o.NotificationType9;const s=n(25);t.MessageReader=s.MessageReader,t.StreamMessageReader=s.StreamMessageReader,t.IPCMessageReader=s.IPCMessageReader,t.SocketMessageReader=s.SocketMessageReader;const a=n(26);t.MessageWriter=a.MessageWriter,t.StreamMessageWriter=a.StreamMessageWriter,t.IPCMessageWriter=a.IPCMessageWriter,t.SocketMessageWriter=a.SocketMessageWriter;const c=n(17);t.Disposable=c.Disposable,t.Event=c.Event,t.Emitter=c.Emitter;const u=n(114);t.CancellationTokenSource=u.CancellationTokenSource,t.CancellationToken=u.CancellationToken;const l=n(115);var f,d,h,p,g,m,v;r(n(116)),r(n(118)),function(e){e.type=new o.NotificationType("$/cancelRequest")}(f||(f={})),t.NullLogger=Object.freeze({error:()=>{},warn:()=>{},info:()=>{},log:()=>{}}),function(e){e[e.Off=0]="Off",e[e.Messages=1]="Messages",e[e.Verbose=2]="Verbose"}(d=t.Trace||(t.Trace={})),function(e){e.fromString=function(t){switch(t=t.toLowerCase()){case"off":return e.Off;case"messages":return e.Messages;case"verbose":return e.Verbose;default:return e.Off}},e.toString=function(t){switch(t){case e.Off:return"off";case e.Messages:return"messages";case e.Verbose:return"verbose";default:return"off"}}}(d=t.Trace||(t.Trace={})),function(e){e.Text="text",e.JSON="json"}(h=t.TraceFormat||(t.TraceFormat={})),function(e){e.fromString=function(t){return"json"===(t=t.toLowerCase())?e.JSON:e.Text}}(h=t.TraceFormat||(t.TraceFormat={})),function(e){e.type=new o.NotificationType("$/setTraceNotification")}(p=t.SetTraceNotification||(t.SetTraceNotification={})),function(e){e.type=new o.NotificationType("$/logTraceNotification")}(g=t.LogTraceNotification||(t.LogTraceNotification={})),function(e){e[e.Closed=1]="Closed",e[e.Disposed=2]="Disposed",e[e.AlreadyListening=3]="AlreadyListening"}(m=t.ConnectionErrors||(t.ConnectionErrors={}));class y extends Error{constructor(e,t){super(t),this.code=e,Object.setPrototypeOf(this,y.prototype)}}function w(e,t,n,r){let s=0,a=0,w=0;const b="2.0";let _,x,E=void 0,R=Object.create(null),O=void 0,C=Object.create(null),N=new l.LinkedMap,S=Object.create(null),I=Object.create(null),M=d.Off,k=h.Text,A=v.New,T=new c.Emitter,L=new c.Emitter,j=new c.Emitter,P=new c.Emitter;function D(e){return"req-"+e.toString()}function q(e,t){var n;o.isRequestMessage(t)?e.set(D(t.id),t):o.isResponseMessage(t)?e.set(null===(n=t.id)?"res-unknown-"+(++w).toString():"res-"+n.toString(),t):e.set("not-"+(++a).toString(),t)}function $(e){}function F(){return A===v.Listening}function B(){return A===v.Closed}function W(){return A===v.Disposed}function H(){A!==v.New&&A!==v.Listening||(A=v.Closed,L.fire(void 0))}function G(){_||0===N.size||(_=setImmediate(()=>{_=void 0,function(){if(0===N.size)return;let e=N.shift();try{o.isRequestMessage(e)?function(e){if(W())return;function n(n,r,i){let s={jsonrpc:b,id:e.id};n instanceof o.ResponseError?s.error=n.toJson():s.result=void 0===n?null:n,U(s,r,i),t.write(s)}function r(n,r,i){let o={jsonrpc:b,id:e.id,error:n.toJson()};U(o,r,i),t.write(o)}!function(e){if(M===d.Off||!x)return;if(k===h.Text){let t=void 0;M===d.Verbose&&e.params&&(t=`Params: ${JSON.stringify(e.params,null,4)}\n\n`),x.log(`Received request '${e.method} - (${e.id})'.`,t)}else V("receive-request",e)}(e);let s,a,c=R[e.method];c&&(s=c.type,a=c.handler);let l=Date.now();if(a||E){let c=new u.CancellationTokenSource,f=String(e.id);I[f]=c;try{let u,d=u=void 0===e.params||void 0!==s&&0===s.numberOfParams?a?a(c.token):E(e.method,c.token):i.array(e.params)&&(void 0===s||s.numberOfParams>1)?a?a(...e.params,c.token):E(e.method,...e.params,c.token):a?a(e.params,c.token):E(e.method,e.params,c.token);u?d.then?d.then(t=>{delete I[f],n(t,e.method,l)},t=>{delete I[f],t instanceof o.ResponseError?r(t,e.method,l):t&&i.string(t.message)?r(new o.ResponseError(o.ErrorCodes.InternalError,`Request ${e.method} failed with message: ${t.message}`),e.method,l):r(new o.ResponseError(o.ErrorCodes.InternalError,`Request ${e.method} failed unexpectedly without providing any details.`),e.method,l)}):(delete I[f],n(u,e.method,l)):(delete I[f],function(n,r,i){void 0===n&&(n=null);let o={jsonrpc:b,id:e.id,result:n};U(o,r,i),t.write(o)}(u,e.method,l))}catch(t){delete I[f],t instanceof o.ResponseError?n(t,e.method,l):t&&i.string(t.message)?r(new o.ResponseError(o.ErrorCodes.InternalError,`Request ${e.method} failed with message: ${t.message}`),e.method,l):r(new o.ResponseError(o.ErrorCodes.InternalError,`Request ${e.method} failed unexpectedly without providing any details.`),e.method,l)}}else r(new o.ResponseError(o.ErrorCodes.MethodNotFound,`Unhandled method ${e.method}`),e.method,l)}(e):o.isNotificationMessage(e)?function(e){if(W())return;let t,r=void 0;if(e.method===f.type.method)t=e=>{let t=e.id,n=I[String(t)];n&&n.cancel()};else{let n=C[e.method];n&&(t=n.handler,r=n.type)}if(t||O)try{!function(e){if(M===d.Off||!x||e.method===g.type.method)return;if(k===h.Text){let t=void 0;M===d.Verbose&&(t=e.params?`Params: ${JSON.stringify(e.params,null,4)}\n\n`:"No parameters provided.\n\n"),x.log(`Received notification '${e.method}'.`,t)}else V("receive-notification",e)}(e),void 0===e.params||void 0!==r&&0===r.numberOfParams?t?t():O(e.method):i.array(e.params)&&(void 0===r||r.numberOfParams>1)?t?t(...e.params):O(e.method,...e.params):t?t(e.params):O(e.method,e.params)}catch(t){t.message?n.error(`Notification handler '${e.method}' failed with message: ${t.message}`):n.error(`Notification handler '${e.method}' failed unexpectedly.`)}else j.fire(e)}(e):o.isResponseMessage(e)?function(e){if(W())return;if(null===e.id)e.error?n.error(`Received response message without id: Error is: \n${JSON.stringify(e.error,void 0,4)}`):n.error("Received response message without id. No further error information provided.");else{let t=String(e.id),r=S[t];if(function(e,t){if(M===d.Off||!x)return;if(k===h.Text){let n=void 0;if(M===d.Verbose&&(e.error&&e.error.data?n=`Error data: ${JSON.stringify(e.error.data,null,4)}\n\n`:e.result?n=`Result: ${JSON.stringify(e.result,null,4)}\n\n`:void 0===e.error&&(n="No result returned.\n\n")),t){let r=e.error?` Request failed: ${e.error.message} (${e.error.code}).`:"";x.log(`Received response '${t.method} - (${e.id})' in ${Date.now()-t.timerStart}ms.${r}`,n)}else x.log(`Received response ${e.id} without active response promise.`,n)}else V("receive-response",e)}(e,r),r){delete S[t];try{if(e.error){let t=e.error;r.reject(new o.ResponseError(t.code,t.message,t.data))}else{if(void 0===e.result)throw new Error("Should never happen.");r.resolve(e.result)}}catch(e){e.message?n.error(`Response handler '${r.method}' failed with message: ${e.message}`):n.error(`Response handler '${r.method}' failed unexpectedly.`)}}}}(e):function(e){if(!e)return void n.error("Received empty message.");n.error(`Received message which is neither a response nor a notification message:\n${JSON.stringify(e,null,4)}`);let t=e;if(i.string(t.id)||i.number(t.id)){let e=String(t.id),n=S[e];n&&n.reject(new Error("The received response has neither a result nor an error property."))}}(e)}finally{G()}}()}))}e.onClose(H),e.onError((function(e){T.fire([e,void 0,void 0])})),t.onClose(H),t.onError((function(e){T.fire(e)}));let z=e=>{try{if(o.isNotificationMessage(e)&&e.method===f.type.method){let n=D(e.params.id),i=N.get(n);if(o.isRequestMessage(i)){let o=r&&r.cancelUndispatched?r.cancelUndispatched(i,$):void 0;if(o&&(void 0!==o.error||void 0!==o.result))return N.delete(n),o.id=i.id,U(o,e.method,Date.now()),void t.write(o)}}q(N,e)}finally{G()}};function U(e,t,n){if(M!==d.Off&&x)if(k===h.Text){let r=void 0;M===d.Verbose&&(e.error&&e.error.data?r=`Error data: ${JSON.stringify(e.error.data,null,4)}\n\n`:e.result?r=`Result: ${JSON.stringify(e.result,null,4)}\n\n`:void 0===e.error&&(r="No result returned.\n\n")),x.log(`Sending response '${t} - (${e.id})'. Processing request took ${Date.now()-n}ms`,r)}else V("send-response",e)}function V(e,t){if(!x||M===d.Off)return;const n={isLSPMessage:!0,type:e,message:t,timestamp:Date.now()};x.log(n)}function K(){if(B())throw new y(m.Closed,"Connection is closed.");if(W())throw new y(m.Disposed,"Connection is disposed.")}function X(e){return void 0===e?null:e}function Y(e,t){let n,r=e.numberOfParams;switch(r){case 0:n=null;break;case 1:n=X(t[0]);break;default:n=[];for(let e=0;e<t.length&&e<r;e++)n.push(X(t[e]));if(t.length<r)for(let e=t.length;e<r;e++)n.push(null)}return n}let J={sendNotification:(e,...n)=>{let r,o;if(K(),i.string(e))switch(r=e,n.length){case 0:o=null;break;case 1:o=n[0];break;default:o=n}else r=e.method,o=Y(e,n);let s={jsonrpc:b,method:r,params:o};!function(e){if(M!==d.Off&&x)if(k===h.Text){let t=void 0;M===d.Verbose&&(t=e.params?`Params: ${JSON.stringify(e.params,null,4)}\n\n`:"No parameters provided.\n\n"),x.log(`Sending notification '${e.method}'.`,t)}else V("send-notification",e)}(s),t.write(s)},onNotification:(e,t)=>{K(),i.func(e)?O=e:t&&(i.string(e)?C[e]={type:void 0,handler:t}:C[e.method]={type:e,handler:t})},sendRequest:(e,...n)=>{let r,a;K(),function(){if(!F())throw new Error("Call listen() first.")}();let c=void 0;if(i.string(e))switch(r=e,n.length){case 0:a=null;break;case 1:u.CancellationToken.is(n[0])?(a=null,c=n[0]):a=X(n[0]);break;default:const e=n.length-1;u.CancellationToken.is(n[e])?(c=n[e],a=2===n.length?X(n[0]):n.slice(0,e).map(e=>X(e))):a=n.map(e=>X(e))}else{r=e.method,a=Y(e,n);let t=e.numberOfParams;c=u.CancellationToken.is(n[t])?n[t]:void 0}let l=s++,p=new Promise((e,n)=>{let i={jsonrpc:b,id:l,method:r,params:a},s={method:r,timerStart:Date.now(),resolve:e,reject:n};!function(e){if(M!==d.Off&&x)if(k===h.Text){let t=void 0;M===d.Verbose&&e.params&&(t=`Params: ${JSON.stringify(e.params,null,4)}\n\n`),x.log(`Sending request '${e.method} - (${e.id})'.`,t)}else V("send-request",e)}(i);try{t.write(i)}catch(e){s.reject(new o.ResponseError(o.ErrorCodes.MessageWriteError,e.message?e.message:"Unknown reason")),s=null}s&&(S[String(l)]=s)});return c&&c.onCancellationRequested(()=>{J.sendNotification(f.type,{id:l})}),p},onRequest:(e,t)=>{K(),i.func(e)?E=e:t&&(i.string(e)?R[e]={type:void 0,handler:t}:R[e.method]={type:e,handler:t})},trace:(e,t,n)=>{let r=!1,o=h.Text;void 0!==n&&(i.boolean(n)?r=n:(r=n.sendNotification||!1,o=n.traceFormat||h.Text)),k=o,x=(M=e)===d.Off?void 0:t,!r||B()||W()||J.sendNotification(p.type,{value:d.toString(e)})},onError:T.event,onClose:L.event,onUnhandledNotification:j.event,onDispose:P.event,dispose:()=>{if(W())return;A=v.Disposed,P.fire(void 0);let n=new Error("Connection got disposed.");Object.keys(S).forEach(e=>{S[e].reject(n)}),S=Object.create(null),I=Object.create(null),N=new l.LinkedMap,i.func(t.dispose)&&t.dispose(),i.func(e.dispose)&&e.dispose()},listen:()=>{K(),function(){if(F())throw new y(m.AlreadyListening,"Connection is already listening")}(),A=v.Listening,e.listen(z)},inspect:()=>{console.log("inspect")}};return J.onNotification(g.type,e=>{M!==d.Off&&x&&x.log(e.message,M===d.Verbose?e.verbose:void 0)}),J}t.ConnectionError=y,function(e){e.is=function(e){let t=e;return t&&i.func(t.cancelUndispatched)}}(t.ConnectionStrategy||(t.ConnectionStrategy={})),function(e){e[e.New=1]="New",e[e.Listening=2]="Listening",e[e.Closed=3]="Closed",e[e.Disposed=4]="Disposed"}(v||(v={})),t.createMessageConnection=function(e,n,r,i){var o;return r||(r=t.NullLogger),w(void 0!==(o=e).listen&&void 0===o.read?e:new s.StreamMessageReader(e),function(e){return void 0!==e.write&&void 0===e.end}(n)?n:new a.StreamMessageWriter(n),r,i)}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(40),i=n(0);t.bufferColumnRegistrar=new class extends r.ColumnRegistrar{getColumnConfig(e,t){return i.config.get("buffer.column."+e,t)}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(0),i=n(1),{nvim:o}=i.workspace;class s{constructor(e){this.args=e,this.optionValues=new Map}static registerOption(e,t){const n=Object.assign({type:"string",name:e},t);return this.registeredOptions.set(e,n),n}static registerBoolOption(e,t){const n={type:"boolean",name:e,getDefault:()=>t};return this.registeredOptions.set(e,n),this.registeredOptions.set("no-"+e,n),n}static async parse(e){const t=new s(e),n=[...e];for(;n.length>0;){const e=n.shift();if(e.startsWith("--")){let i,o;/^--[\w-]+=/.test(e)?[i,o]=r.splitCount(e.slice(2),"=",2):i=e.slice(2);const s=this.registeredOptions.get(i);if(s){if(!o){if("boolean"===s.type){t.optionValues.set(s.name,!i.startsWith("no-"));continue}o=n.shift()}if(void 0!==o){t.optionValues.set(s.name,s.handler?await s.handler(o):o);continue}}}t.rootPathValue=this.registeredPositional.handler(e)}return t}has(e){return this.optionValues.has(e.name)}async value(e){var t,n,r;if(this.optionValues.has(e.name))return this.optionValues.get(e.name);if(s.registeredOptions.has(e.name))return await(null===(r=null===(t=s.registeredOptions.get(e.name))||void 0===t?void 0:(n=t).getDefault)||void 0===r?void 0:r.call(n));throw new Error(`Argument(${e.name}) not found`)}async rootPath(){return void 0===this.rootPathValue?await s.registeredPositional.getDefault():this.rootPathValue}}function a(e){const t=e.indexOf(";");return-1===t?e.split(/:/):[...e.slice(0,t).split(":").concat(),...e.slice(t+1).split(";").map(e=>e.split(":"))]}t.Args=s,s.registeredOptions=new Map,s.registeredPositional={name:"rootPath",handler:e=>r.normalizePath(e),getDefault:async()=>{let e=!1;if("nofile"===await o.getVar("&buftype"))e=!0;else{await o.call("bufname",["%"])||(e=!0)}const t=e?await o.call("getcwd",[]):i.workspace.rootPath;return r.normalizePath(t)},description:"Explorer root"},t.argOptions={toggle:s.registerBoolOption("toggle",!0),sources:s.registerOption("sources",{handler:e=>e.split(",").map(e=>{let t,n=!1;return e.endsWith("+")?(n=!0,t=e.slice(0,e.length-1)):e.endsWith("-")?(n=!1,t=e.slice(0,e.length-1)):t=e,{name:t,expand:n}}),getDefault:()=>r.config.get("sources")}),width:s.registerOption("width",{handler:e=>parseInt(e,10),getDefault:()=>r.config.get("width")}),position:s.registerOption("position",{getDefault:()=>r.config.get("position")}),bufferColumns:s.registerOption("buffer-columns",{handler:a,getDefault:()=>r.config.get("buffer.columns")}),fileColumns:s.registerOption("file-columns",{handler:a,getDefault:()=>r.config.get("file.columns")}),reveal:s.registerOption("reveal",{handler:r.normalizePath})},t.parseColumns=a},function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const i=n(1),o=r(n(2)),s=n(0),a=n(5),c=n(8),u=n(23),l=n(10);n(84);const f=n(92),d=n(11),h=/^\s*(\d+)(.+?)"(.+?)".*/,p=a.hlGroupManager.linkGroup.bind(a.hlGroupManager);t.bufferHighlights={title:p("BufferRoot","Constant"),expandIcon:p("BufferExpandIcon","Special"),nameVisible:p("BufferNameVisible","String"),bufname:p("BufferBufname","Comment"),modified:p("BufferModified","Operator"),bufnr:p("BufferBufnr","Special"),readonly:p("BufferReadonly","Operator"),fullpath:p("BufferFullpath","Comment")};class g extends c.ExplorerSource{constructor(){super(...arguments),this.rootNode={isRoot:!0,uid:this.sourceName+"://",level:0,drawnLine:"",bufnr:0,bufnrStr:"0",bufname:"",fullpath:"",basename:"",unlisted:!0,current:!1,previous:!1,visible:!1,hidden:!1,modifiable:!1,readonly:!0,terminal:!1,modified:!1,readErrors:!1}}async init(){s.activeMode&&(i.workspace.env.isVim?this.subscriptions.push(s.onBufEnter(async e=>{e===this.explorer.bufnr&&await this.reload(this.rootNode,{render:!1})},500)):this.subscriptions.push(s.onEvents(["BufCreate","BufHidden","BufUnload","BufWritePost","InsertLeave"],s.debounce(500,async()=>{await this.reload(this.rootNode)})))),f.initBufferActions(this)}async open(){await this.columnManager.registerColumns(await this.explorer.args.value(d.argOptions.bufferColumns),l.bufferColumnRegistrar)}async loadChildren(){const{nvim:e}=this,t=this.showHidden?"ls!":"ls";return(await e.call("execute",t)).split(/\n/).reduce((e,t)=>{const n=t.match(h);if(!n)return e;const r=n[1],i=n[2],a=n[3];return e.push({uid:this.sourceName+"://"+r,level:1,drawnLine:"",parent:this.rootNode,bufnr:parseInt(r),bufnrStr:r,bufname:a,fullpath:o.default.resolve(s.normalizePath(a)),basename:o.default.basename(a),unlisted:i.includes("u"),current:i.includes("%"),previous:i.includes("#"),visible:i.includes("a"),hidden:i.includes("h"),modifiable:!i.includes("-"),readonly:i.includes("="),terminal:i.includes("R")||i.includes("F")||i.includes("?"),modified:i.includes("+"),readErrors:i.includes("x")}),e},[])}async drawRootNode(e){e.drawnLine=await this.viewBuilder.drawRowLine(async e=>{e.add(this.expanded?c.sourceIcons.expanded:c.sourceIcons.collapsed,t.bufferHighlights.expandIcon),e.add(" "),e.add(`[BUFFER${this.showHidden?" "+c.sourceIcons.hidden:""}]`,t.bufferHighlights.title)})}async drawNode(e,t){e.drawnLine=await this.viewBuilder.drawRowLine(async n=>{n.add("  "),await this.columnManager.draw(n,e,t)})}}t.BufferSource=g,u.sourceManager.registerSource("buffer",g)},function(e,t){e.exports=require("util")},function(e,t,n){"use strict";function r(e){return"string"==typeof e||e instanceof String}function i(e){return Array.isArray(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.boolean=function(e){return!0===e||!1===e},t.string=r,t.number=function(e){return"number"==typeof e||e instanceof Number},t.error=function(e){return e instanceof Error},t.func=function(e){return"function"==typeof e},t.array=i,t.stringArray=function(e){return i(e)&&e.every(e=>r(e))}},function(e,t,n){e.exports=p,p.Minimatch=g;var r={sep:"/"};try{r=n(2)}catch(e){}var i=p.GLOBSTAR=g.GLOBSTAR={},o=n(58),s={"!":{open:"(?:(?!(?:",close:"))[^/]*?)"},"?":{open:"(?:",close:")?"},"+":{open:"(?:",close:")+"},"*":{open:"(?:",close:")*"},"@":{open:"(?:",close:")"}},a="[^/]",c=a+"*?",u="(?:(?!(?:\\/|^)(?:\\.{1,2})($|\\/)).)*?",l="(?:(?!(?:\\/|^)\\.).)*?",f="().*{}+?[]^$\\!".split("").reduce((function(e,t){return e[t]=!0,e}),{});var d=/\/+/;function h(e,t){e=e||{},t=t||{};var n={};return Object.keys(t).forEach((function(e){n[e]=t[e]})),Object.keys(e).forEach((function(t){n[t]=e[t]})),n}function p(e,t,n){if("string"!=typeof t)throw new TypeError("glob pattern string required");return n||(n={}),!(!n.nocomment&&"#"===t.charAt(0))&&(""===t.trim()?""===e:new g(t,n).match(e))}function g(e,t){if(!(this instanceof g))return new g(e,t);if("string"!=typeof e)throw new TypeError("glob pattern string required");t||(t={}),e=e.trim(),"/"!==r.sep&&(e=e.split(r.sep).join("/")),this.options=t,this.set=[],this.pattern=e,this.regexp=null,this.negate=!1,this.comment=!1,this.empty=!1,this.make()}function m(e,t){if(t||(t=this instanceof g?this.options:{}),void 0===(e=void 0===e?this.pattern:e))throw new TypeError("undefined pattern");return t.nobrace||!e.match(/\{.*\}/)?[e]:o(e)}p.filter=function(e,t){return t=t||{},function(n,r,i){return p(n,e,t)}},p.defaults=function(e){if(!e||!Object.keys(e).length)return p;var t=p,n=function(n,r,i){return t.minimatch(n,r,h(e,i))};return n.Minimatch=function(n,r){return new t.Minimatch(n,h(e,r))},n},g.defaults=function(e){return e&&Object.keys(e).length?p.defaults(e).Minimatch:g},g.prototype.debug=function(){},g.prototype.make=function(){if(this._made)return;var e=this.pattern,t=this.options;if(!t.nocomment&&"#"===e.charAt(0))return void(this.comment=!0);if(!e)return void(this.empty=!0);this.parseNegate();var n=this.globSet=this.braceExpand();t.debug&&(this.debug=console.error);this.debug(this.pattern,n),n=this.globParts=n.map((function(e){return e.split(d)})),this.debug(this.pattern,n),n=n.map((function(e,t,n){return e.map(this.parse,this)}),this),this.debug(this.pattern,n),n=n.filter((function(e){return-1===e.indexOf(!1)})),this.debug(this.pattern,n),this.set=n},g.prototype.parseNegate=function(){var e=this.pattern,t=!1,n=this.options,r=0;if(n.nonegate)return;for(var i=0,o=e.length;i<o&&"!"===e.charAt(i);i++)t=!t,r++;r&&(this.pattern=e.substr(r));this.negate=t},p.braceExpand=function(e,t){return m(e,t)},g.prototype.braceExpand=m,g.prototype.parse=function(e,t){if(e.length>65536)throw new TypeError("pattern is too long");var n=this.options;if(!n.noglobstar&&"**"===e)return i;if(""===e)return"";var r,o="",u=!!n.nocase,l=!1,d=[],h=[],p=!1,g=-1,m=-1,y="."===e.charAt(0)?"":n.dot?"(?!(?:^|\\/)\\.{1,2}(?:$|\\/))":"(?!\\.)",w=this;function b(){if(r){switch(r){case"*":o+=c,u=!0;break;case"?":o+=a,u=!0;break;default:o+="\\"+r}w.debug("clearStateChar %j %j",r,o),r=!1}}for(var _,x=0,E=e.length;x<E&&(_=e.charAt(x));x++)if(this.debug("%s\t%s %s %j",e,x,o,_),l&&f[_])o+="\\"+_,l=!1;else switch(_){case"/":return!1;case"\\":b(),l=!0;continue;case"?":case"*":case"+":case"@":case"!":if(this.debug("%s\t%s %s %j <-- stateChar",e,x,o,_),p){this.debug("  in class"),"!"===_&&x===m+1&&(_="^"),o+=_;continue}w.debug("call clearStateChar %j",r),b(),r=_,n.noext&&b();continue;case"(":if(p){o+="(";continue}if(!r){o+="\\(";continue}d.push({type:r,start:x-1,reStart:o.length,open:s[r].open,close:s[r].close}),o+="!"===r?"(?:(?!(?:":"(?:",this.debug("plType %j %j",r,o),r=!1;continue;case")":if(p||!d.length){o+="\\)";continue}b(),u=!0;var R=d.pop();o+=R.close,"!"===R.type&&h.push(R),R.reEnd=o.length;continue;case"|":if(p||!d.length||l){o+="\\|",l=!1;continue}b(),o+="|";continue;case"[":if(b(),p){o+="\\"+_;continue}p=!0,m=x,g=o.length,o+=_;continue;case"]":if(x===m+1||!p){o+="\\"+_,l=!1;continue}if(p){var O=e.substring(m+1,x);try{RegExp("["+O+"]")}catch(e){var C=this.parse(O,v);o=o.substr(0,g)+"\\["+C[0]+"\\]",u=u||C[1],p=!1;continue}}u=!0,p=!1,o+=_;continue;default:b(),l?l=!1:!f[_]||"^"===_&&p||(o+="\\"),o+=_}p&&(O=e.substr(m+1),C=this.parse(O,v),o=o.substr(0,g)+"\\["+C[0],u=u||C[1]);for(R=d.pop();R;R=d.pop()){var N=o.slice(R.reStart+R.open.length);this.debug("setting tail",o,R),N=N.replace(/((?:\\{2}){0,64})(\\?)\|/g,(function(e,t,n){return n||(n="\\"),t+t+n+"|"})),this.debug("tail=%j\n   %s",N,N,R,o);var S="*"===R.type?c:"?"===R.type?a:"\\"+R.type;u=!0,o=o.slice(0,R.reStart)+S+"\\("+N}b(),l&&(o+="\\\\");var I=!1;switch(o.charAt(0)){case".":case"[":case"(":I=!0}for(var M=h.length-1;M>-1;M--){var k=h[M],A=o.slice(0,k.reStart),T=o.slice(k.reStart,k.reEnd-8),L=o.slice(k.reEnd-8,k.reEnd),j=o.slice(k.reEnd);L+=j;var P=A.split("(").length-1,D=j;for(x=0;x<P;x++)D=D.replace(/\)[+*?]?/,"");var q="";""===(j=D)&&t!==v&&(q="$"),o=A+T+j+q+L}""!==o&&u&&(o="(?=.)"+o);I&&(o=y+o);if(t===v)return[o,u];if(!u)return function(e){return e.replace(/\\(.)/g,"$1")}(e);var $=n.nocase?"i":"";try{var F=new RegExp("^"+o+"$",$)}catch(e){return new RegExp("$.")}return F._glob=e,F._src=o,F};var v={};p.makeRe=function(e,t){return new g(e,t||{}).makeRe()},g.prototype.makeRe=function(){if(this.regexp||!1===this.regexp)return this.regexp;var e=this.set;if(!e.length)return this.regexp=!1,this.regexp;var t=this.options,n=t.noglobstar?c:t.dot?u:l,r=t.nocase?"i":"",o=e.map((function(e){return e.map((function(e){return e===i?n:"string"==typeof e?function(e){return e.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&")}(e):e._src})).join("\\/")})).join("|");o="^(?:"+o+")$",this.negate&&(o="^(?!"+o+").*$");try{this.regexp=new RegExp(o,r)}catch(e){this.regexp=!1}return this.regexp},p.match=function(e,t,n){var r=new g(t,n=n||{});return e=e.filter((function(e){return r.match(e)})),r.options.nonull&&!e.length&&e.push(t),e},g.prototype.match=function(e,t){if(this.debug("match",e,this.pattern),this.comment)return!1;if(this.empty)return""===e;if("/"===e&&t)return!0;var n=this.options;"/"!==r.sep&&(e=e.split(r.sep).join("/"));e=e.split(d),this.debug(this.pattern,"split",e);var i,o,s=this.set;for(this.debug(this.pattern,"set",s),o=e.length-1;o>=0&&!(i=e[o]);o--);for(o=0;o<s.length;o++){var a=s[o],c=e;if(n.matchBase&&1===a.length&&(c=[i]),this.matchOne(c,a,t))return!!n.flipNegate||!this.negate}return!n.flipNegate&&this.negate},g.prototype.matchOne=function(e,t,n){var r=this.options;this.debug("matchOne",{this:this,file:e,pattern:t}),this.debug("matchOne",e.length,t.length);for(var o=0,s=0,a=e.length,c=t.length;o<a&&s<c;o++,s++){this.debug("matchOne loop");var u,l=t[s],f=e[o];if(this.debug(t,l,f),!1===l)return!1;if(l===i){this.debug("GLOBSTAR",[t,l,f]);var d=o,h=s+1;if(h===c){for(this.debug("** at the end");o<a;o++)if("."===e[o]||".."===e[o]||!r.dot&&"."===e[o].charAt(0))return!1;return!0}for(;d<a;){var p=e[d];if(this.debug("\nglobstar while",e,d,t,h,p),this.matchOne(e.slice(d),t.slice(h),n))return this.debug("globstar found match!",d,a,p),!0;if("."===p||".."===p||!r.dot&&"."===p.charAt(0)){this.debug("dot detected!",e,d,t,h);break}this.debug("globstar swallow a segment, and continue"),d++}return!(!n||(this.debug("\n>>> no match, partial?",e,d,t,h),d!==a))}if("string"==typeof l?(u=r.nocase?f.toLowerCase()===l.toLowerCase():f===l,this.debug("string match",l,f,u)):(u=f.match(l),this.debug("pattern match",l,f,u)),!u)return!1}if(o===a&&s===c)return!0;if(o===a)return n;if(s===c)return o===a-1&&""===e[o];throw new Error("wtf?")}},function(e,t){e.exports=require("child_process")},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e){e.create=function(e){return{dispose:e}}}(t.Disposable||(t.Disposable={})),function(e){const t={dispose(){}};e.None=function(){return t}}(t.Event||(t.Event={}));class r{add(e,t=null,n){this._callbacks||(this._callbacks=[],this._contexts=[]),this._callbacks.push(e),this._contexts.push(t),Array.isArray(n)&&n.push({dispose:()=>this.remove(e,t)})}remove(e,t=null){if(this._callbacks){for(var n=!1,r=0,i=this._callbacks.length;r<i;r++)if(this._callbacks[r]===e){if(this._contexts[r]===t)return this._callbacks.splice(r,1),void this._contexts.splice(r,1);n=!0}if(n)throw new Error("When adding a listener with a context, you should remove it with the same context")}}invoke(...e){if(!this._callbacks)return[];for(var t=[],n=this._callbacks.slice(0),r=this._contexts.slice(0),i=0,o=n.length;i<o;i++)try{t.push(n[i].apply(r[i],e))}catch(e){console.error(e)}return t}isEmpty(){return!this._callbacks||0===this._callbacks.length}dispose(){this._callbacks=void 0,this._contexts=void 0}}class i{constructor(e){this._options=e}get event(){return this._event||(this._event=(e,t,n)=>{let o;return this._callbacks||(this._callbacks=new r),this._options&&this._options.onFirstListenerAdd&&this._callbacks.isEmpty()&&this._options.onFirstListenerAdd(this),this._callbacks.add(e,t),o={dispose:()=>{this._callbacks.remove(e,t),o.dispose=i._noop,this._options&&this._options.onLastListenerRemove&&this._callbacks.isEmpty()&&this._options.onLastListenerRemove(this)}},Array.isArray(n)&&n.push(o),o}),this._event}fire(e){this._callbacks&&this._callbacks.invoke.call(this._callbacks,e)}dispose(){this._callbacks&&(this._callbacks.dispose(),this._callbacks=void 0)}}i._noop=function(){},t.Emitter=i},function(e,t){e.exports=require("assert")},function(e,t,n){"use strict";function r(e){return"/"===e.charAt(0)}function i(e){var t=/^([a-zA-Z]:|[\\\/]{2}[^\\\/]+[\\\/]+[^\\\/]+)?([\\\/])?([\s\S]*?)$/.exec(e),n=t[1]||"",r=Boolean(n&&":"!==n.charAt(1));return Boolean(t[2]||r)}e.exports="win32"===process.platform?i:r,e.exports.posix=r,e.exports.win32=i},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.isWebpack="function"==typeof n,t.isWindows="win32"===process.platform,t.isMacintosh="darwin"===process.platform,t.isLinux="linux"===process.platform},function(e,t){e.exports=require("os")},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(0);var i;function o(e){const[t,n]=e.split(/:(.+)/,2);return{name:t,arg:n}}!function(e){e.none="none",e.default="default"}(i||(i={})),t.mappingMode=r.config.get("keyMappingMode",i.default),t.actionSyms=["select","unselect","toggleSelection","actionMenu","collapse","expand","expandRecursive","collapseRecursive","expandOrCollapse","cd","open","openInSplit","openInVsplit","openInTab","drop","gotoParent","preview","copyFilepath","copyFilename","copyFile","cutFile","pasteFile","delete","deleteForever","addFile","addDirectory","rename","toggleHidden","refresh","normal","help","quit","systemExecute","listDrive","search","searchRecursive","nodePrev","nodeNext","gotoSource","sourcePrev","sourceNext","diagnosticPrev","diagnosticNext","gitPrev","gitNext","gitStage","gitUnstage"],t.defaultMappings={none:{},default:{k:"nodePrev",j:"nodeNext","*":"toggleSelection","<tab>":"actionMenu",h:"collapse",l:"expand",J:["toggleSelection","nodeNext"],K:["toggleSelection","nodePrev"],gl:"expandRecursive",gh:"collapseRecursive",o:"expandOrCollapse","<cr>":"open",e:"open",E:"openInVsplit",t:"openInTab","<bs>":"gotoParent",gp:"preview:labeling",y:"copyFilepath",Y:"copyFilename",c:"copyFile",x:"cutFile",p:"pasteFile",d:"delete",D:"deleteForever",a:"addFile",A:"addDirectory",r:"rename",".":"toggleHidden",R:"refresh","?":"help",q:"quit",X:"systemExecute",gd:"listDrive",f:"search",F:"searchRecursive",gf:"gotoSource:file",gb:"gotoSource:buffer","[[":"sourcePrev","]]":"sourceNext","[d":"diagnosticPrev","]d":"diagnosticNext","[c":"gitPrev","]c":"gitNext","<<":"gitStage",">>":"gitUnstage"}},t.mappings={},Object.entries(Object.assign(Object.assign({},t.defaultMappings[t.mappingMode]||{}),r.config.get("keyMappings",{}))).forEach(([e,n])=>{n&&(t.mappings[e]=Array.isArray(n)?n.map(e=>o(e)):[o(n)])}),t.reverseMappings={},Object.entries(t.mappings).find(([e,n])=>{1===n.length&&(t.reverseMappings[n[0].name]=e)})},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(1);t.sourceManager=new class{constructor(){this.registeredSources={}}registerSource(e,t){return this.registeredSources[e]=t,r.Disposable.create(()=>{delete this.registeredSources[e]})}createSource(e,t,n){if(this.registeredSources[e]){const r=new this.registeredSources[e](e,t);return r.boot(n),r}return r.workspace.showMessage(`explorer source(${e}) not found`,"error"),null}}},function(e,t,n){e.exports=function(){"use strict";var e="millisecond",t="second",n="minute",r="hour",i="day",o="week",s="month",a="quarter",c="year",u=/^(\d{4})-?(\d{1,2})-?(\d{0,2})[^0-9]*(\d{1,2})?:?(\d{1,2})?:?(\d{1,2})?.?(\d{1,3})?$/,l=/\[([^\]]+)]|Y{2,4}|M{1,4}|D{1,2}|d{1,4}|H{1,2}|h{1,2}|a|A|m{1,2}|s{1,2}|Z{1,2}|SSS/g,f=function(e,t,n){var r=String(e);return!r||r.length>=t?e:""+Array(t+1-r.length).join(n)+e},d={s:f,z:function(e){var t=-e.utcOffset(),n=Math.abs(t),r=Math.floor(n/60),i=n%60;return(t<=0?"+":"-")+f(r,2,"0")+":"+f(i,2,"0")},m:function(e,t){var n=12*(t.year()-e.year())+(t.month()-e.month()),r=e.clone().add(n,s),i=t-r<0,o=e.clone().add(n+(i?-1:1),s);return Number(-(n+(t-r)/(i?r-o:o-r))||0)},a:function(e){return e<0?Math.ceil(e)||0:Math.floor(e)},p:function(u){return{M:s,y:c,w:o,d:i,h:r,m:n,s:t,ms:e,Q:a}[u]||String(u||"").toLowerCase().replace(/s$/,"")},u:function(e){return void 0===e}},h={name:"en",weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_")},p="en",g={};g[p]=h;var m=function(e){return e instanceof b},v=function(e,t,n){var r;if(!e)return p;if("string"==typeof e)g[e]&&(r=e),t&&(g[e]=t,r=e);else{var i=e.name;g[i]=e,r=i}return n||(p=r),r},y=function(e,t,n){if(m(e))return e.clone();var r=t?"string"==typeof t?{format:t,pl:n}:t:{};return r.date=e,new b(r)},w=d;w.l=v,w.i=m,w.w=function(e,t){return y(e,{locale:t.$L,utc:t.$u,$offset:t.$offset})};var b=function(){function f(e){this.$L=this.$L||v(e.locale,null,!0),this.parse(e)}var d=f.prototype;return d.parse=function(e){this.$d=function(e){var t=e.date,n=e.utc;if(null===t)return new Date(NaN);if(w.u(t))return new Date;if(t instanceof Date)return new Date(t);if("string"==typeof t&&!/Z$/i.test(t)){var r=t.match(u);if(r)return n?new Date(Date.UTC(r[1],r[2]-1,r[3]||1,r[4]||0,r[5]||0,r[6]||0,r[7]||0)):new Date(r[1],r[2]-1,r[3]||1,r[4]||0,r[5]||0,r[6]||0,r[7]||0)}return new Date(t)}(e),this.init()},d.init=function(){var e=this.$d;this.$y=e.getFullYear(),this.$M=e.getMonth(),this.$D=e.getDate(),this.$W=e.getDay(),this.$H=e.getHours(),this.$m=e.getMinutes(),this.$s=e.getSeconds(),this.$ms=e.getMilliseconds()},d.$utils=function(){return w},d.isValid=function(){return!("Invalid Date"===this.$d.toString())},d.isSame=function(e,t){var n=y(e);return this.startOf(t)<=n&&n<=this.endOf(t)},d.isAfter=function(e,t){return y(e)<this.startOf(t)},d.isBefore=function(e,t){return this.endOf(t)<y(e)},d.$g=function(e,t,n){return w.u(e)?this[t]:this.set(n,e)},d.year=function(e){return this.$g(e,"$y",c)},d.month=function(e){return this.$g(e,"$M",s)},d.day=function(e){return this.$g(e,"$W",i)},d.date=function(e){return this.$g(e,"$D","date")},d.hour=function(e){return this.$g(e,"$H",r)},d.minute=function(e){return this.$g(e,"$m",n)},d.second=function(e){return this.$g(e,"$s",t)},d.millisecond=function(t){return this.$g(t,"$ms",e)},d.unix=function(){return Math.floor(this.valueOf()/1e3)},d.valueOf=function(){return this.$d.getTime()},d.startOf=function(e,a){var u=this,l=!!w.u(a)||a,f=w.p(e),d=function(e,t){var n=w.w(u.$u?Date.UTC(u.$y,t,e):new Date(u.$y,t,e),u);return l?n:n.endOf(i)},h=function(e,t){return w.w(u.toDate()[e].apply(u.toDate(),(l?[0,0,0,0]:[23,59,59,999]).slice(t)),u)},p=this.$W,g=this.$M,m=this.$D,v="set"+(this.$u?"UTC":"");switch(f){case c:return l?d(1,0):d(31,11);case s:return l?d(1,g):d(0,g+1);case o:var y=this.$locale().weekStart||0,b=(p<y?p+7:p)-y;return d(l?m-b:m+(6-b),g);case i:case"date":return h(v+"Hours",0);case r:return h(v+"Minutes",1);case n:return h(v+"Seconds",2);case t:return h(v+"Milliseconds",3);default:return this.clone()}},d.endOf=function(e){return this.startOf(e,!1)},d.$set=function(o,a){var u,l=w.p(o),f="set"+(this.$u?"UTC":""),d=(u={},u[i]=f+"Date",u.date=f+"Date",u[s]=f+"Month",u[c]=f+"FullYear",u[r]=f+"Hours",u[n]=f+"Minutes",u[t]=f+"Seconds",u[e]=f+"Milliseconds",u)[l],h=l===i?this.$D+(a-this.$W):a;if(l===s||l===c){var p=this.clone().set("date",1);p.$d[d](h),p.init(),this.$d=p.set("date",Math.min(this.$D,p.daysInMonth())).toDate()}else d&&this.$d[d](h);return this.init(),this},d.set=function(e,t){return this.clone().$set(e,t)},d.get=function(e){return this[w.p(e)]()},d.add=function(e,a){var u,l=this;e=Number(e);var f=w.p(a),d=function(t){var n=y(l);return w.w(n.date(n.date()+Math.round(t*e)),l)};if(f===s)return this.set(s,this.$M+e);if(f===c)return this.set(c,this.$y+e);if(f===i)return d(1);if(f===o)return d(7);var h=(u={},u[n]=6e4,u[r]=36e5,u[t]=1e3,u)[f]||1,p=this.$d.getTime()+e*h;return w.w(p,this)},d.subtract=function(e,t){return this.add(-1*e,t)},d.format=function(e){var t=this;if(!this.isValid())return"Invalid Date";var n=e||"YYYY-MM-DDTHH:mm:ssZ",r=w.z(this),i=this.$locale(),o=this.$H,s=this.$m,a=this.$M,c=i.weekdays,u=i.months,f=function(e,r,i,o){return e&&(e[r]||e(t,n))||i[r].substr(0,o)},d=function(e){return w.s(o%12||12,e,"0")},h=i.meridiem||function(e,t,n){var r=e<12?"AM":"PM";return n?r.toLowerCase():r},p={YY:String(this.$y).slice(-2),YYYY:this.$y,M:a+1,MM:w.s(a+1,2,"0"),MMM:f(i.monthsShort,a,u,3),MMMM:u[a]||u(this,n),D:this.$D,DD:w.s(this.$D,2,"0"),d:String(this.$W),dd:f(i.weekdaysMin,this.$W,c,2),ddd:f(i.weekdaysShort,this.$W,c,3),dddd:c[this.$W],H:String(o),HH:w.s(o,2,"0"),h:d(1),hh:d(2),a:h(o,s,!0),A:h(o,s,!1),m:String(s),mm:w.s(s,2,"0"),s:String(this.$s),ss:w.s(this.$s,2,"0"),SSS:w.s(this.$ms,3,"0"),Z:r};return n.replace(l,(function(e,t){return t||p[e]||r.replace(":","")}))},d.utcOffset=function(){return 15*-Math.round(this.$d.getTimezoneOffset()/15)},d.diff=function(e,u,l){var f,d=w.p(u),h=y(e),p=6e4*(h.utcOffset()-this.utcOffset()),g=this-h,m=w.m(this,h);return m=(f={},f[c]=m/12,f[s]=m,f[a]=m/3,f[o]=(g-p)/6048e5,f[i]=(g-p)/864e5,f[r]=g/36e5,f[n]=g/6e4,f[t]=g/1e3,f)[d]||g,l?m:w.a(m)},d.daysInMonth=function(){return this.endOf(s).$D},d.$locale=function(){return g[this.$L]},d.locale=function(e,t){if(!e)return this.$L;var n=this.clone();return n.$L=v(e,t,!0),n},d.clone=function(){return w.w(this.$d,this)},d.toDate=function(){return new Date(this.valueOf())},d.toJSON=function(){return this.isValid()?this.toISOString():null},d.toISOString=function(){return this.$d.toISOString()},d.toString=function(){return this.$d.toUTCString()},f}();return y.prototype=b.prototype,y.extend=function(e,t){return e(t,b,y),y},y.locale=v,y.isDayjs=m,y.unix=function(e){return y(1e3*e)},y.en=g[p],y.Ls=g,y}()},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(17),i=n(14);let o=8192,s=Buffer.from("\r","ascii")[0],a=Buffer.from("\n","ascii")[0],c="\r\n";class u{constructor(e="utf8"){this.encoding=e,this.index=0,this.buffer=Buffer.allocUnsafe(o)}append(e){var t=e;if("string"==typeof e){var n=e,r=Buffer.byteLength(n,this.encoding);(t=Buffer.allocUnsafe(r)).write(n,0,r,this.encoding)}if(this.buffer.length-this.index>=t.length)t.copy(this.buffer,this.index,0,t.length);else{var i=(Math.ceil((this.index+t.length)/o)+1)*o;0===this.index?(this.buffer=Buffer.allocUnsafe(i),t.copy(this.buffer,0,0,t.length)):this.buffer=Buffer.concat([this.buffer.slice(0,this.index),t],i)}this.index+=t.length}tryReadHeaders(){let e=void 0,t=0;for(;t+3<this.index&&(this.buffer[t]!==s||this.buffer[t+1]!==a||this.buffer[t+2]!==s||this.buffer[t+3]!==a);)t++;if(t+3>=this.index)return e;e=Object.create(null),this.buffer.toString("ascii",0,t).split(c).forEach(t=>{let n=t.indexOf(":");if(-1===n)throw new Error("Message header must separate key and value using :");let r=t.substr(0,n),i=t.substr(n+1).trim();e[r]=i});let n=t+4;return this.buffer=this.buffer.slice(n),this.index=this.index-n,e}tryReadContent(e){if(this.index<e)return null;let t=this.buffer.toString(this.encoding,0,e),n=e;return this.buffer.copy(this.buffer,0,n),this.index=this.index-n,t}get numberOfBytes(){return this.index}}!function(e){e.is=function(e){let t=e;return t&&i.func(t.listen)&&i.func(t.dispose)&&i.func(t.onError)&&i.func(t.onClose)&&i.func(t.onPartialMessage)}}(t.MessageReader||(t.MessageReader={}));class l{constructor(){this.errorEmitter=new r.Emitter,this.closeEmitter=new r.Emitter,this.partialMessageEmitter=new r.Emitter}dispose(){this.errorEmitter.dispose(),this.closeEmitter.dispose()}get onError(){return this.errorEmitter.event}fireError(e){this.errorEmitter.fire(this.asError(e))}get onClose(){return this.closeEmitter.event}fireClose(){this.closeEmitter.fire(void 0)}get onPartialMessage(){return this.partialMessageEmitter.event}firePartialMessage(e){this.partialMessageEmitter.fire(e)}asError(e){return e instanceof Error?e:new Error(`Reader recevied error. Reason: ${i.string(e.message)?e.message:"unknown"}`)}}t.AbstractMessageReader=l;class f extends l{constructor(e,t="utf8"){super(),this.readable=e,this.buffer=new u(t),this._partialMessageTimeout=1e4}set partialMessageTimeout(e){this._partialMessageTimeout=e}get partialMessageTimeout(){return this._partialMessageTimeout}listen(e){this.nextMessageLength=-1,this.messageToken=0,this.partialMessageTimer=void 0,this.callback=e,this.readable.on("data",e=>{this.onData(e)}),this.readable.on("error",e=>this.fireError(e)),this.readable.on("close",()=>this.fireClose())}onData(e){for(this.buffer.append(e);;){if(-1===this.nextMessageLength){let e=this.buffer.tryReadHeaders();if(!e)return;let t=e["Content-Length"];if(!t)throw new Error("Header must provide a Content-Length property.");let n=parseInt(t);if(isNaN(n))throw new Error("Content-Length value must be a number.");this.nextMessageLength=n}var t=this.buffer.tryReadContent(this.nextMessageLength);if(null===t)return void this.setPartialMessageTimer();this.clearPartialMessageTimer(),this.nextMessageLength=-1,this.messageToken++;var n=JSON.parse(t);this.callback(n)}}clearPartialMessageTimer(){this.partialMessageTimer&&(clearTimeout(this.partialMessageTimer),this.partialMessageTimer=void 0)}setPartialMessageTimer(){this.clearPartialMessageTimer(),this._partialMessageTimeout<=0||(this.partialMessageTimer=setTimeout((e,t)=>{this.partialMessageTimer=void 0,e===this.messageToken&&(this.firePartialMessage({messageToken:e,waitingTime:t}),this.setPartialMessageTimer())},this._partialMessageTimeout,this.messageToken,this._partialMessageTimeout))}}t.StreamMessageReader=f;t.IPCMessageReader=class extends l{constructor(e){super(),this.process=e;let t=this.process;t.on("error",e=>this.fireError(e)),t.on("close",()=>this.fireClose())}listen(e){this.process.on("message",e)}};t.SocketMessageReader=class extends f{constructor(e,t="utf-8"){super(e,t)}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(17),i=n(14);let o="Content-Length: ",s="\r\n";!function(e){e.is=function(e){let t=e;return t&&i.func(t.dispose)&&i.func(t.onClose)&&i.func(t.onError)&&i.func(t.write)}}(t.MessageWriter||(t.MessageWriter={}));class a{constructor(){this.errorEmitter=new r.Emitter,this.closeEmitter=new r.Emitter}dispose(){this.errorEmitter.dispose(),this.closeEmitter.dispose()}get onError(){return this.errorEmitter.event}fireError(e,t,n){this.errorEmitter.fire([this.asError(e),t,n])}get onClose(){return this.closeEmitter.event}fireClose(){this.closeEmitter.fire(void 0)}asError(e){return e instanceof Error?e:new Error(`Writer recevied error. Reason: ${i.string(e.message)?e.message:"unknown"}`)}}t.AbstractMessageWriter=a;t.StreamMessageWriter=class extends a{constructor(e,t="utf8"){super(),this.writable=e,this.encoding=t,this.errorCount=0,this.writable.on("error",e=>this.fireError(e)),this.writable.on("close",()=>this.fireClose())}write(e){let t=JSON.stringify(e),n=Buffer.byteLength(t,this.encoding),r=[o,n.toString(),s,s];try{this.writable.write(r.join(""),"ascii"),this.writable.write(t,this.encoding),this.errorCount=0}catch(t){this.errorCount++,this.fireError(t,e,this.errorCount)}}};t.IPCMessageWriter=class extends a{constructor(e){super(),this.process=e,this.errorCount=0,this.queue=[],this.sending=!1;let t=this.process;t.on("error",e=>this.fireError(e)),t.on("close",()=>this.fireClose)}write(e){this.sending||0!==this.queue.length?this.queue.push(e):this.doWriteMessage(e)}doWriteMessage(e){try{this.process.send&&(this.sending=!0,this.process.send(e,void 0,void 0,t=>{this.sending=!1,t?(this.errorCount++,this.fireError(t,e,this.errorCount)):this.errorCount=0,this.queue.length>0&&this.doWriteMessage(this.queue.shift())}))}catch(t){this.errorCount++,this.fireError(t,e,this.errorCount)}}};t.SocketMessageWriter=class extends a{constructor(e,t="utf8"){super(),this.socket=e,this.queue=[],this.sending=!1,this.encoding=t,this.errorCount=0,this.socket.on("error",e=>this.fireError(e)),this.socket.on("close",()=>this.fireClose())}write(e){this.sending||0!==this.queue.length?this.queue.push(e):this.doWriteMessage(e)}doWriteMessage(e){let t=JSON.stringify(e),n=Buffer.byteLength(t,this.encoding),r=[o,n.toString(),s,s];try{this.sending=!0,this.socket.write(r.join(""),"ascii",n=>{n&&this.handleError(n,e);try{this.socket.write(t,this.encoding,t=>{this.sending=!1,t?this.handleError(t,e):this.errorCount=0,this.queue.length>0&&this.doWriteMessage(this.queue.shift())})}catch(n){this.handleError(n,e)}})}catch(t){this.handleError(t,e)}}handleError(e,t){this.errorCount++,this.fireError(e,t,this.errorCount)}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(1);t.config=r.workspace.getConfiguration("explorer"),t.enableDebug=t.config.get("debug"),t.activeMode=t.config.get("activeMode"),t.autoReveal=t.config.get("file.autoReveal"),t.openStrategy=t.config.get("openAction.strategy"),t.previewStrategy=t.config.get("previewAction.strategy"),t.datetimeFormat=t.config.get("datetime.format")},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(7),i=n(29);function o(e,t,{tail:n=!1}={}){const r=s(e,t);let i=0;const o=async(...o)=>{const s=Date.now();if(s-i<e)return n?await r(...o):void 0;i=s;try{return await t(...o)}catch(e){throw e}};return o.cancel=r.cancel,o}function s(e,t){let n=null,r=null;const o=async(...o)=>(n&&(i.clearTimeout(n),r(void 0)),await new Promise((i,s)=>{r=i,n=setTimeout(async()=>{try{i(await t(...o))}catch(e){s(e)}},e)}));return o.cancel=()=>{n&&i.clearTimeout(n)},o}t.throttle=function(e,t,n={}){const i=o(e,t,n),s=(...e)=>{i(...e).catch(r.onError)};return s.cancel=i.cancel,s},t.throttlePromise=o,t.debounce=function(e,t){const n=s(e,t),i=(...e)=>{n(...e).catch(r.onError)};return i.cancel=n.cancel,i},t.debouncePromise=s},function(e,t){e.exports=require("timers")},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(29),i=n(7);t.asyncCatchError=function(e){return async(...t)=>{try{return await e(...t)}catch(e){i.onError(e)}}},t.queueAsyncFunction=function(e){let t=!1;const n=[];return async(...i)=>(t||(t=!0,r.setImmediate(async()=>{for(;n.length;){const e=n.shift();e.callback(await e.fn(...e.args))}t=!1})),await new Promise(t=>{n.push({args:i,fn:e,callback:e=>{t(e)}})}))}},function(e,t,n){e.exports=w;var r=n(6),i=n(32),o=n(15),s=(o.Minimatch,n(61)),a=n(33).EventEmitter,c=n(2),u=n(18),l=n(19),f=n(63),d=n(34),h=(d.alphasort,d.alphasorti,d.setopts),p=d.ownProp,g=n(64),m=(n(13),d.childrenIgnored),v=d.isIgnored,y=n(36);function w(e,t,n){if("function"==typeof t&&(n=t,t={}),t||(t={}),t.sync){if(n)throw new TypeError("callback provided to sync glob");return f(e,t)}return new _(e,t,n)}w.sync=f;var b=w.GlobSync=f.GlobSync;function _(e,t,n){if("function"==typeof t&&(n=t,t=null),t&&t.sync){if(n)throw new TypeError("callback provided to sync glob");return new b(e,t)}if(!(this instanceof _))return new _(e,t,n);h(this,e,t),this._didRealPath=!1;var r=this.minimatch.set.length;this.matches=new Array(r),"function"==typeof n&&(n=y(n),this.on("error",n),this.on("end",(function(e){n(null,e)})));var i=this;if(this._processing=0,this._emitQueue=[],this._processQueue=[],this.paused=!1,this.noprocess)return this;if(0===r)return a();for(var o=!0,s=0;s<r;s++)this._process(this.minimatch.set[s],s,!1,a);function a(){--i._processing,i._processing<=0&&(o?process.nextTick((function(){i._finish()})):i._finish())}o=!1}w.glob=w,w.hasMagic=function(e,t){var n=function(e,t){if(null===t||"object"!=typeof t)return e;for(var n=Object.keys(t),r=n.length;r--;)e[n[r]]=t[n[r]];return e}({},t);n.noprocess=!0;var r=new _(e,n).minimatch.set;if(!e)return!1;if(r.length>1)return!0;for(var i=0;i<r[0].length;i++)if("string"!=typeof r[0][i])return!0;return!1},w.Glob=_,s(_,a),_.prototype._finish=function(){if(u(this instanceof _),!this.aborted){if(this.realpath&&!this._didRealpath)return this._realpath();d.finish(this),this.emit("end",this.found)}},_.prototype._realpath=function(){if(!this._didRealpath){this._didRealpath=!0;var e=this.matches.length;if(0===e)return this._finish();for(var t=this,n=0;n<this.matches.length;n++)this._realpathSet(n,r)}function r(){0==--e&&t._finish()}},_.prototype._realpathSet=function(e,t){var n=this.matches[e];if(!n)return t();var r=Object.keys(n),o=this,s=r.length;if(0===s)return t();var a=this.matches[e]=Object.create(null);r.forEach((function(n,r){n=o._makeAbs(n),i.realpath(n,o.realpathCache,(function(r,i){r?"stat"===r.syscall?a[n]=!0:o.emit("error",r):a[i]=!0,0==--s&&(o.matches[e]=a,t())}))}))},_.prototype._mark=function(e){return d.mark(this,e)},_.prototype._makeAbs=function(e){return d.makeAbs(this,e)},_.prototype.abort=function(){this.aborted=!0,this.emit("abort")},_.prototype.pause=function(){this.paused||(this.paused=!0,this.emit("pause"))},_.prototype.resume=function(){if(this.paused){if(this.emit("resume"),this.paused=!1,this._emitQueue.length){var e=this._emitQueue.slice(0);this._emitQueue.length=0;for(var t=0;t<e.length;t++){var n=e[t];this._emitMatch(n[0],n[1])}}if(this._processQueue.length){var r=this._processQueue.slice(0);this._processQueue.length=0;for(t=0;t<r.length;t++){var i=r[t];this._processing--,this._process(i[0],i[1],i[2],i[3])}}}},_.prototype._process=function(e,t,n,r){if(u(this instanceof _),u("function"==typeof r),!this.aborted)if(this._processing++,this.paused)this._processQueue.push([e,t,n,r]);else{for(var i,s=0;"string"==typeof e[s];)s++;switch(s){case e.length:return void this._processSimple(e.join("/"),t,r);case 0:i=null;break;default:i=e.slice(0,s).join("/")}var a,c=e.slice(s);null===i?a=".":l(i)||l(e.join("/"))?(i&&l(i)||(i="/"+i),a=i):a=i;var f=this._makeAbs(a);if(m(this,a))return r();c[0]===o.GLOBSTAR?this._processGlobStar(i,a,f,c,t,n,r):this._processReaddir(i,a,f,c,t,n,r)}},_.prototype._processReaddir=function(e,t,n,r,i,o,s){var a=this;this._readdir(n,o,(function(c,u){return a._processReaddir2(e,t,n,r,i,o,u,s)}))},_.prototype._processReaddir2=function(e,t,n,r,i,o,s,a){if(!s)return a();for(var u=r[0],l=!!this.minimatch.negate,f=u._glob,d=this.dot||"."===f.charAt(0),h=[],p=0;p<s.length;p++){if("."!==(m=s[p]).charAt(0)||d)(l&&!e?!m.match(u):m.match(u))&&h.push(m)}var g=h.length;if(0===g)return a();if(1===r.length&&!this.mark&&!this.stat){this.matches[i]||(this.matches[i]=Object.create(null));for(p=0;p<g;p++){var m=h[p];e&&(m="/"!==e?e+"/"+m:e+m),"/"!==m.charAt(0)||this.nomount||(m=c.join(this.root,m)),this._emitMatch(i,m)}return a()}r.shift();for(p=0;p<g;p++){m=h[p];e&&(m="/"!==e?e+"/"+m:e+m),this._process([m].concat(r),i,o,a)}a()},_.prototype._emitMatch=function(e,t){if(!this.aborted&&!v(this,t))if(this.paused)this._emitQueue.push([e,t]);else{var n=l(t)?t:this._makeAbs(t);if(this.mark&&(t=this._mark(t)),this.absolute&&(t=n),!this.matches[e][t]){if(this.nodir){var r=this.cache[n];if("DIR"===r||Array.isArray(r))return}this.matches[e][t]=!0;var i=this.statCache[n];i&&this.emit("stat",t,i),this.emit("match",t)}}},_.prototype._readdirInGlobStar=function(e,t){if(!this.aborted){if(this.follow)return this._readdir(e,!1,t);var n=this,i=g("lstat\0"+e,(function(r,i){if(r&&"ENOENT"===r.code)return t();var o=i&&i.isSymbolicLink();n.symlinks[e]=o,o||!i||i.isDirectory()?n._readdir(e,!1,t):(n.cache[e]="FILE",t())}));i&&r.lstat(e,i)}},_.prototype._readdir=function(e,t,n){if(!this.aborted&&(n=g("readdir\0"+e+"\0"+t,n))){if(t&&!p(this.symlinks,e))return this._readdirInGlobStar(e,n);if(p(this.cache,e)){var i=this.cache[e];if(!i||"FILE"===i)return n();if(Array.isArray(i))return n(null,i)}r.readdir(e,function(e,t,n){return function(r,i){r?e._readdirError(t,r,n):e._readdirEntries(t,i,n)}}(this,e,n))}},_.prototype._readdirEntries=function(e,t,n){if(!this.aborted){if(!this.mark&&!this.stat)for(var r=0;r<t.length;r++){var i=t[r];i="/"===e?e+i:e+"/"+i,this.cache[i]=!0}return this.cache[e]=t,n(null,t)}},_.prototype._readdirError=function(e,t,n){if(!this.aborted){switch(t.code){case"ENOTSUP":case"ENOTDIR":var r=this._makeAbs(e);if(this.cache[r]="FILE",r===this.cwdAbs){var i=new Error(t.code+" invalid cwd "+this.cwd);i.path=this.cwd,i.code=t.code,this.emit("error",i),this.abort()}break;case"ENOENT":case"ELOOP":case"ENAMETOOLONG":case"UNKNOWN":this.cache[this._makeAbs(e)]=!1;break;default:this.cache[this._makeAbs(e)]=!1,this.strict&&(this.emit("error",t),this.abort()),this.silent||console.error("glob error",t)}return n()}},_.prototype._processGlobStar=function(e,t,n,r,i,o,s){var a=this;this._readdir(n,o,(function(c,u){a._processGlobStar2(e,t,n,r,i,o,u,s)}))},_.prototype._processGlobStar2=function(e,t,n,r,i,o,s,a){if(!s)return a();var c=r.slice(1),u=e?[e]:[],l=u.concat(c);this._process(l,i,!1,a);var f=this.symlinks[n],d=s.length;if(f&&o)return a();for(var h=0;h<d;h++){if("."!==s[h].charAt(0)||this.dot){var p=u.concat(s[h],c);this._process(p,i,!0,a);var g=u.concat(s[h],r);this._process(g,i,!0,a)}}a()},_.prototype._processSimple=function(e,t,n){var r=this;this._stat(e,(function(i,o){r._processSimple2(e,t,i,o,n)}))},_.prototype._processSimple2=function(e,t,n,r,i){if(this.matches[t]||(this.matches[t]=Object.create(null)),!r)return i();if(e&&l(e)&&!this.nomount){var o=/[\/\\]$/.test(e);"/"===e.charAt(0)?e=c.join(this.root,e):(e=c.resolve(this.root,e),o&&(e+="/"))}"win32"===process.platform&&(e=e.replace(/\\/g,"/")),this._emitMatch(t,e),i()},_.prototype._stat=function(e,t){var n=this._makeAbs(e),i="/"===e.slice(-1);if(e.length>this.maxLength)return t();if(!this.stat&&p(this.cache,n)){var o=this.cache[n];if(Array.isArray(o)&&(o="DIR"),!i||"DIR"===o)return t(null,o);if(i&&"FILE"===o)return t()}var s=this.statCache[n];if(void 0!==s){if(!1===s)return t(null,s);var a=s.isDirectory()?"DIR":"FILE";return i&&"FILE"===a?t():t(null,a,s)}var c=this,u=g("stat\0"+n,(function(i,o){if(o&&o.isSymbolicLink())return r.stat(n,(function(r,i){r?c._stat2(e,n,null,o,t):c._stat2(e,n,r,i,t)}));c._stat2(e,n,i,o,t)}));u&&r.lstat(n,u)},_.prototype._stat2=function(e,t,n,r,i){if(n&&("ENOENT"===n.code||"ENOTDIR"===n.code))return this.statCache[t]=!1,i();var o="/"===e.slice(-1);if(this.statCache[t]=r,"/"===t.slice(-1)&&r&&!r.isDirectory())return i(null,!1,r);var s=!0;return r&&(s=r.isDirectory()?"DIR":"FILE"),this.cache[t]=this.cache[t]||s,o&&"FILE"===s?i():i(null,s,r)}},function(e,t,n){e.exports=l,l.realpath=l,l.sync=f,l.realpathSync=f,l.monkeypatch=function(){r.realpath=l,r.realpathSync=f},l.unmonkeypatch=function(){r.realpath=i,r.realpathSync=o};var r=n(6),i=r.realpath,o=r.realpathSync,s=process.version,a=/^v[0-5]\./.test(s),c=n(57);function u(e){return e&&"realpath"===e.syscall&&("ELOOP"===e.code||"ENOMEM"===e.code||"ENAMETOOLONG"===e.code)}function l(e,t,n){if(a)return i(e,t,n);"function"==typeof t&&(n=t,t=null),i(e,t,(function(r,i){u(r)?c.realpath(e,t,n):n(r,i)}))}function f(e,t){if(a)return o(e,t);try{return o(e,t)}catch(n){if(u(n))return c.realpathSync(e,t);throw n}}},function(e,t){e.exports=require("events")},function(e,t,n){function r(e,t){return Object.prototype.hasOwnProperty.call(e,t)}t.alphasort=u,t.alphasorti=c,t.setopts=function(e,t,n){n||(n={});if(n.matchBase&&-1===t.indexOf("/")){if(n.noglobstar)throw new Error("base matching requires globstar");t="**/"+t}e.silent=!!n.silent,e.pattern=t,e.strict=!1!==n.strict,e.realpath=!!n.realpath,e.realpathCache=n.realpathCache||Object.create(null),e.follow=!!n.follow,e.dot=!!n.dot,e.mark=!!n.mark,e.nodir=!!n.nodir,e.nodir&&(e.mark=!0);e.sync=!!n.sync,e.nounique=!!n.nounique,e.nonull=!!n.nonull,e.nosort=!!n.nosort,e.nocase=!!n.nocase,e.stat=!!n.stat,e.noprocess=!!n.noprocess,e.absolute=!!n.absolute,e.maxLength=n.maxLength||1/0,e.cache=n.cache||Object.create(null),e.statCache=n.statCache||Object.create(null),e.symlinks=n.symlinks||Object.create(null),function(e,t){e.ignore=t.ignore||[],Array.isArray(e.ignore)||(e.ignore=[e.ignore]);e.ignore.length&&(e.ignore=e.ignore.map(l))}(e,n),e.changedCwd=!1;var o=process.cwd();r(n,"cwd")?(e.cwd=i.resolve(n.cwd),e.changedCwd=e.cwd!==o):e.cwd=o;e.root=n.root||i.resolve(e.cwd,"/"),e.root=i.resolve(e.root),"win32"===process.platform&&(e.root=e.root.replace(/\\/g,"/"));e.cwdAbs=s(e.cwd)?e.cwd:f(e,e.cwd),"win32"===process.platform&&(e.cwdAbs=e.cwdAbs.replace(/\\/g,"/"));e.nomount=!!n.nomount,n.nonegate=!0,n.nocomment=!0,e.minimatch=new a(t,n),e.options=e.minimatch.options},t.ownProp=r,t.makeAbs=f,t.finish=function(e){for(var t=e.nounique,n=t?[]:Object.create(null),r=0,i=e.matches.length;r<i;r++){var o=e.matches[r];if(o&&0!==Object.keys(o).length){var s=Object.keys(o);t?n.push.apply(n,s):s.forEach((function(e){n[e]=!0}))}else if(e.nonull){var a=e.minimatch.globSet[r];t?n.push(a):n[a]=!0}}t||(n=Object.keys(n));e.nosort||(n=n.sort(e.nocase?c:u));if(e.mark){for(r=0;r<n.length;r++)n[r]=e._mark(n[r]);e.nodir&&(n=n.filter((function(t){var n=!/\/$/.test(t),r=e.cache[t]||e.cache[f(e,t)];return n&&r&&(n="DIR"!==r&&!Array.isArray(r)),n})))}e.ignore.length&&(n=n.filter((function(t){return!d(e,t)})));e.found=n},t.mark=function(e,t){var n=f(e,t),r=e.cache[n],i=t;if(r){var o="DIR"===r||Array.isArray(r),s="/"===t.slice(-1);if(o&&!s?i+="/":!o&&s&&(i=i.slice(0,-1)),i!==t){var a=f(e,i);e.statCache[a]=e.statCache[n],e.cache[a]=e.cache[n]}}return i},t.isIgnored=d,t.childrenIgnored=function(e,t){return!!e.ignore.length&&e.ignore.some((function(e){return!(!e.gmatcher||!e.gmatcher.match(t))}))};var i=n(2),o=n(15),s=n(19),a=o.Minimatch;function c(e,t){return e.toLowerCase().localeCompare(t.toLowerCase())}function u(e,t){return e.localeCompare(t)}function l(e){var t=null;if("/**"===e.slice(-3)){var n=e.replace(/(\/\*\*)+$/,"");t=new a(n,{dot:!0})}return{matcher:new a(e,{dot:!0}),gmatcher:t}}function f(e,t){var n=t;return n="/"===t.charAt(0)?i.join(e.root,t):s(t)||""===t?t:e.changedCwd?i.resolve(e.cwd,t):i.resolve(t),"win32"===process.platform&&(n=n.replace(/\\/g,"/")),n}function d(e,t){return!!e.ignore.length&&e.ignore.some((function(e){return e.matcher.match(t)||!(!e.gmatcher||!e.gmatcher.match(t))}))}},function(e,t){e.exports=function e(t,n){if(t&&n)return e(t)(n);if("function"!=typeof t)throw new TypeError("need wrapper function");Object.keys(t).forEach((function(e){r[e]=t[e]}));return r;function r(){for(var e=new Array(arguments.length),n=0;n<e.length;n++)e[n]=arguments[n];var r=t.apply(this,e),i=e[e.length-1];return"function"==typeof r&&r!==i&&Object.keys(i).forEach((function(e){r[e]=i[e]})),r}}},function(e,t,n){var r=n(35);function i(e){var t=function(){return t.called?t.value:(t.called=!0,t.value=e.apply(this,arguments))};return t.called=!1,t}function o(e){var t=function(){if(t.called)throw new Error(t.onceError);return t.called=!0,t.value=e.apply(this,arguments)},n=e.name||"Function wrapped with `once`";return t.onceError=n+" shouldn't be called more than once",t.called=!1,t}e.exports=r(i),e.exports.strict=r(o),i.proto=i((function(){Object.defineProperty(Function.prototype,"once",{value:function(){return i(this)},configurable:!0}),Object.defineProperty(Function.prototype,"onceStrict",{value:function(){return o(this)},configurable:!0})}))},function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const i=n(16),o=r(n(66));t.execCli=(e,t,n)=>{const r=i.spawn(e,t,n);let o="";return r.stdout.on("data",e=>{o+=e.toString()}),new Promise((e,t)=>{r.stdout.on("error",e=>{t(e)}),r.stdout.on("end",()=>{e(o)})})},t.executable=async e=>{try{await o.default(e)}catch(e){return!1}return!0}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(5),i=n(0);t.SourceViewBuilder=class{async drawRowLine(e,t={}){return(await this.drawRow(e,t)).content}async drawRow(e,{highlightMode:t="conceal",relativeLineIndex:n}={}){const r=new o(this,t,n);return await e(r),r}};class o{constructor(e,t,n){this.view=e,this.highlightMode=t,this.relativeLineIndex=n,this.curPosition=0,this.content="",this.highlightPositions=[]}concealableColumn(e,t){const n=e.markerID;"conceal"===this.highlightMode&&(this.content+=r.HlEscapeCode.left(n)),t(),"conceal"===this.highlightMode&&(this.content+=r.HlEscapeCode.right(n))}add(e,t){let n="";if(t&&e){const o=t.markerID,s=this.curPosition;"conceal"===this.highlightMode&&(n+=r.HlEscapeCode.left(o)),n+=e,"conceal"===this.highlightMode&&(n+=r.HlEscapeCode.right(o)),this.highlightPositions.push({group:t.group,start:s,size:i.byteLength(n),relativeLineIndex:this.relativeLineIndex})}else n+=e;this.curPosition+=i.byteLength(n),this.content+=n}}t.SourceRowBuilder=o},function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const i=n(5),o=r(n(80));t.labelHighlight=i.hlGroupManager.linkGroup("Label","Label");t.ColumnManager=class{constructor(e){this.source=e,this.columnNames=[],this.columns=[],this.labelingColumns=[]}async registerColumns(e,t){this.columnNames.toString()!==e.toString()&&(this.columnNames=e,[this.columns,this.labelingColumns]=await t.getColumns(this.source,e))}async beforeDraw(e){let t=!1;for(const n of this.columns)n.beforeDraw&&await n.beforeDraw(e)&&(t=!0);return t}async reload(e){for(const t of this.columns)await(t.reload&&t.reload(e))}async draw(e,t,n,{columns:r=this.columns,isLabeling:i=!1}={}){for(const o of r)o.concealable?e.concealableColumn(o.concealable,async()=>{await o.draw(e,t,{nodeIndex:n,isLabeling:i})}):await o.draw(e,t,{nodeIndex:n,isLabeling:i});return e}async drawLabeling(e,n){const r=[],i=[];let s=0;for(const a of this.labelingColumns){const c=a.every(e=>e.labelOnly),u=await o.default(a,async t=>!t.labelOnly||await t.labelOnly(e,{nodeIndex:n}));if(!u.length)continue;const l=u.filter(e=>!e.labelOnly),f=await this.source.viewBuilder.drawRow(async r=>{r.add(u.map(e=>e.label).join(" & ")+(c?"":":"),t.labelHighlight),r.add(" "),await this.draw(r,e,n,{columns:l,isLabeling:!0})},{highlightMode:"highlight",relativeLineIndex:s});r.push(...f.highlightPositions),s+=1,i.push(f.content)}return{highlightPositions:r,lines:i}}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(1),i=n(82);t.ColumnRegistrar=class{constructor(){this.registeredColumns={}}async getColumns(e,t){const n=[],r=[];let o=!1;const s=async t=>{var n,r;const i=this.registeredColumns[t];if(i){const t=i.getColumn(e,i.getInitialData());if(t.inited)return t;if(!t.validate||t.validate())return await(null===(r=(n=t).init)||void 0===r?void 0:r.call(n)),t.inited=!0,t}};for(const e of t)if(Array.isArray(e)&&(o=!0),o){const t=[];for(const n of e){const e=await s(n);e&&t.push(Object.assign({label:i.startCase(n)},e))}r.push(t)}else{const t=e,r=await s(t);r&&n.push(Object.assign({label:i.startCase(t)},r))}return[n,r]}registerColumn(e,t,n=(()=>null)){return this.registeredColumns[e]={getColumn:t,getInitialData:n},r.Disposable.create(()=>{delete this.registeredColumns[e]})}}},function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const i=r(n(2)),o=n(7),s=n(3),a=n(0),c=s.fileColumnRegistrar.getColumnConfig("git.showIgnored");var u;!function(e){e.mixed="*",e.unmodified=" ",e.modified="M",e.added="A",e.deleted="D",e.renamed="R",e.copied="C",e.unmerged="U",e.untracked="?",e.ignored="!"}(u=t.GitFormat||(t.GitFormat={}));class l{spawn(e,{cwd:t}={}){return a.execCli(a.config.get("git.command"),e,{cwd:t})}async getRoot(e){return(await this.spawn(["rev-parse","--show-toplevel"],{cwd:e})).trim()}parseStatusFormat(e){for(const t in u){const n=Reflect.get(u,t);if(e===n)return n}return u.unmodified}parsePath(e,t){let n=0,r="",i=!1,o=!1,s=!1;const a=[];for(;n<e.length;){const c=e[n];i||o?(o?s?(r+="t"===c?"\t":c,s=!1):'"'===c?(a.push(r),o=!1,i=!1):"\\"===c?s=!0:r+=c:" "===c&&t&&" -> "===e.slice(n,n+4)?(r.length&&a.push(r),n+=3,i=!1):r+=c,n+=1):('"'===c&&(o=!0,n+=1),r="",i=!0)}return i&&(a.push(r),i=!1),a}parseStatusLine(e,t){const n=this.parseStatusFormat(t[0]),r=this.parseStatusFormat(t[1]),o=t.slice(3),s=[u.renamed,u.copied].includes(n)||[u.renamed,u.copied].includes(r);return[n,r,...this.parsePath(o,s).map(t=>i.default.join(e,t))]}async status(e){const t={},n=["status","--porcelain","-u"];return c&&n.push("--ignored"),(await this.spawn(n,{cwd:e})).split("\n").forEach(n=>{const[r,i,o,s]=this.parseStatusLine(e,n),a=[u.untracked,u.ignored].includes(r)?u.unmodified:r,c=[u.modified,u.added,u.deleted,u.renamed,u.copied],l=a===u.added||i===u.added,f=a===u.modified||i===u.modified,d=a===u.deleted||i===u.deleted,h=a===u.renamed||i===u.renamed,p=a===u.copied||i===u.copied,g=c.includes(a)&&i===u.unmodified,m=a===u.deleted&&i===u.deleted||a===u.added&&i===u.added||a===u.unmerged||i===u.unmerged,v=a===u.ignored,y=a===u.untracked,w=s||o;t[w]={fullpath:w,x:a,y:i,added:l,modified:f,deleted:d,renamed:h,copied:p,stated:g,unmerged:m,untracked:y,ignored:v}}),t}async stage(...e){if(e.length){const t=await this.getRoot(i.default.dirname(e[0]));await this.spawn(["add",...e],{cwd:t})}}async unstage(...e){if(e.length){const t=await this.getRoot(i.default.dirname(e[0]));await this.spawn(["reset",...e],{cwd:t})}}}t.gitManager=new class{constructor(){this.cmd=new l,this.rootCache={},this.statusCache={},this.mixedStatusCache={}}async getGitRoot(e){if(e in this.rootCache)return this.rootCache[e];const t=e.split(i.default.sep),n=t.indexOf(".git");if(-1!==n){const r=t.slice(0,n).join(i.default.sep);this.rootCache[e]=r}else try{const t=await this.cmd.getRoot(e);i.default.isAbsolute(t)?this.rootCache[e]=t:i.default.join(e,t)}catch(e){return void o.onError(e)}return this.rootCache[e]}async reload(e){const t=await this.getGitRoot(e);t&&(this.statusCache[t]=await this.cmd.status(t),this.mixedStatusCache[t]={},Object.entries(this.statusCache[t]).forEach(([e,n])=>{const r=i.default.relative(t,e).split(i.default.sep);for(let e=1;e<=r.length;e++){const o=i.default.join(t,r.slice(0,e).join(i.default.sep)),s=this.mixedStatusCache[t][o];s?(s.x!==u.mixed&&s.x!==n.x&&(s.x===u.unmodified?s.x=n.x:n.x!==u.unmodified&&(s.x=u.mixed)),s.y!==u.mixed&&s.y!==n.y&&(s.y===u.unmodified?s.y=n.y:n.y!==u.unmodified&&(s.y=u.mixed))):this.mixedStatusCache[t][o]={x:n.x,y:n.y}}}))}getRootStatuses(e){return this.mixedStatusCache[e]}async getStatuses(e){const t=await this.getGitRoot(e);return t&&this.getRootStatuses(t)||{}}getStatus(e){for(const[,t]of Object.entries(this.mixedStatusCache))if(e in t)return t[e];return null}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getSymbol=function(e,t,n){return Reflect.has(e,t)||Reflect.set(e,t,n()),Reflect.get(e,t)}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(8),i=n(3),o=n(4);t.indentChars=i.fileColumnRegistrar.getColumnConfig("indent.chars"),t.topLevel=i.fileColumnRegistrar.getColumnConfig("indent.topLevel");let s=i.fileColumnRegistrar.getColumnConfig("indent.indentLine");r.enableNerdfont&&void 0===s&&(s=!0),i.fileColumnRegistrar.registerColumn("indent",()=>({draw(e,n){s?e.add(function(e){let n="";if(!e.parent&&!t.topLevel)return n;n=e.isLastInLevel?"└ ":"│ ";let r=e.parent;for(;r&&(r.parent||t.topLevel);)n=r.isLastInLevel?"  "+n:"│ "+n,r=r.parent;return n}(n),o.fileHighlights.indentLine):e.add(t.indentChars.repeat(n.level-(t.topLevel?0:1)))}}))},function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const i=n(1),o=r(n(2)),s=n(0).config.get("file.diagnosticCountMax");t.diagnosticManager=new class{constructor(){this.errorPathCount={},this.warningPathCount={},this.errorMixedCount={},this.warningMixedCount={},this.lastReloadTime=0}reload(){const e=Date.now();if(e-this.lastReloadTime<300)return;this.lastReloadTime=e;const t={},n={};i.diagnosticManager.getDiagnosticList().forEach(e=>{const r=e.location.uri,o=i.Uri.parse(r).fsPath;"Error"===e.severity?(o in t||(t[o]=0),t[o]+=1):(o in n||(n[o]=0),n[o]+=1)}),this.errorPathCount=t,this.warningPathCount=n}errorReload(e){this.reload();const t={};Object.entries(this.errorPathCount).forEach(([n,r])=>{const i=o.default.relative(e,n).split(o.default.sep);for(let n=1;n<=i.length;n++){const s=o.default.join(e,i.slice(0,n).join(o.default.sep));t[s]?t[s]+=r:t[s]=r}}),this.errorMixedCount=Object.entries(t).reduce((e,[t,n])=>(e[t]=n>s?"●":n.toString(),e),{})}warningReload(e){this.reload();const t={};Object.entries(this.warningPathCount).forEach(([n,r])=>{const i=o.default.relative(e,n).split(o.default.sep);for(let n=1;n<=i.length;n++){const s=o.default.join(e,i.slice(0,n).join(o.default.sep));t[s]?t[s]+=r:t[s]=r}}),this.warningMixedCount=Object.entries(t).reduce((e,[t,n])=>(e[t]=n>s?"●":n.toString(),e),{})}}},function(e,t,n){"use strict";function r(e){for(var n in e)t.hasOwnProperty(n)||(t[n]=e[n])}Object.defineProperty(t,"__esModule",{value:!0});const i=n(9);t.ErrorCodes=i.ErrorCodes,t.ResponseError=i.ResponseError,t.CancellationToken=i.CancellationToken,t.CancellationTokenSource=i.CancellationTokenSource,t.Disposable=i.Disposable,t.Event=i.Event,t.Emitter=i.Emitter,t.Trace=i.Trace,t.TraceFormat=i.TraceFormat,t.SetTraceNotification=i.SetTraceNotification,t.LogTraceNotification=i.LogTraceNotification,t.RequestType=i.RequestType,t.RequestType0=i.RequestType0,t.NotificationType=i.NotificationType,t.NotificationType0=i.NotificationType0,t.MessageReader=i.MessageReader,t.MessageWriter=i.MessageWriter,t.ConnectionStrategy=i.ConnectionStrategy,t.StreamMessageReader=i.StreamMessageReader,t.StreamMessageWriter=i.StreamMessageWriter,t.IPCMessageReader=i.IPCMessageReader,t.IPCMessageWriter=i.IPCMessageWriter,t.createClientPipeTransport=i.createClientPipeTransport,t.createServerPipeTransport=i.createServerPipeTransport,t.generateRandomPipeName=i.generateRandomPipeName,t.createClientSocketTransport=i.createClientSocketTransport,t.createServerSocketTransport=i.createServerSocketTransport,r(n(119)),r(n(121)),t.createProtocolConnection=function(e,t,n,r){return i.createMessageConnection(e,t,n,r)}},function(e,t){e.exports=require("net")},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(1),i="coc_explorer_context";class o{constructor(e){this.name=e}async set(e){const t=await this.read();null===e?Reflect.deleteProperty(t,this.name):Reflect.set(t,this.name,e),await this.write(t)}async get(){var e;const t=await this.read();return null!=(e=Reflect.get(t,this.name))?e:null}}t.ContextVars=o;t.BuffuerContextVars=class extends o{constructor(e,t){super(e),this.name=e,this.explorer=t}async read(){return await this.explorer.buffer.getVar(i)||{}}async write(e){await this.explorer.buffer.setVar(i,e)}};t.GlobalContextVars=class extends o{constructor(){super(...arguments),this.nvim=r.workspace.nvim}async read(){var e;return null!=(e=await this.nvim.getVar(i))?e:{}}async write(e){await this.nvim.setVar(i,e)}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(1);t.floatSupported=function(){return r.workspace.floatSupported}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(1),i=n(7),o=n(5),s=n(75);t.activate=async e=>{const{subscriptions:t,logger:n}=e,{nvim:a}=r.workspace;i.registerLogger(n),o.hlGroupManager.group("SelectUI","ctermbg=27 ctermfg=0 guibg=#1593e5 guifg=#ffffff");const c=new s.ExplorerManager(e);t.push(r.commands.registerCommand("explorer",(...e)=>{c.open(e).catch(i.onError)})),a.getOption("runtimepath").then(async t=>{t.split(",").includes(e.extensionPath)||await a.command(`execute 'noa set rtp^='.fnameescape('${e.extensionPath.replace(/'/g,"''")}')`),c.emitterDidAutoload.fire()}).catch(i.onError)}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.byteIndex=function(e,t){const n=e.slice(0,t);return Buffer.byteLength(n)},t.byteLength=function(e){return Buffer.byteLength(e)},t.splitCount=function(e,t,n=2){const r=[];let i=e,o=e.indexOf(t);for(;-1!==o&&n>1;)r.push(i.slice(0,o)),o=(i=i.slice(o+1)).indexOf(t),n-=1;return r.push(i),r}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.unsigned=e=>"number"!=typeof e?0:e<0?0:Math.floor(e)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.flatten=function(e){const t=[...e],n=[];for(;t.length;){const e=t.shift();Array.isArray(e)?t.unshift(...e):n.push(e)}return n},t.chunk=function(e,n=1){const r=t.max([n,0]);if(!e.length||n<1)return[];const i=[];for(let t=0;t<Math.ceil(e.length/r);t++)i.push(e.slice(t*n,(t+1)*n));return i},t.sum=e=>e.reduce((e,t)=>e+t,0),t.max=e=>{let t=e.length-1,n=-1/0;for(;t>=0;)e[t]>n&&(n=e[t]),t-=1;return n},t.min=e=>{let t=e.length,n=1/0;for(;t>=0;)e[t]<n&&(n=e[t]),t-=1;return n},t.findLastIndex=function(e,t){let n=e.length-1;for(;n>=0;){if(t(e[n]))return n;n-=1}return-1},t.findLast=function(e,t){let n=e.length-1;for(;n>=0;){if(t(e[n]))return e[n];n-=1}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.delay=e=>new Promise(t=>{setTimeout(t,e)})},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(1),i=n(27),o=n(28),s=n(30);t.onEvents=(e,t,n)=>r.events.on(e,s.asyncCatchError(t),n);let a=!1;const c=[];let u=0;t.onBufEnter=function(e,n){const s=void 0!==n?o.throttle(n,e,{tail:!0}):e;return t.onEvents("BufEnter",async e=>{if(a)return;const t=c.indexOf(e);-1===t?(i.enableDebug&&r.workspace.showMessage(`BufEnter: Bufnr(${e}), Count(${u++})`,"more"),s(e)):c.splice(t,1)})},t.skipOnBufEnter=function(e){c.push(...e)},t.avoidOnBufEnter=async function(e){let t;try{return a=!0,t=await e()}catch(e){throw e}finally{a=!1}}},function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const i=r(n(6)),o=n(13),s=r(n(56)),a=r(n(65)),c=r(n(2)),u=n(37),l=n(20),f=n(0),d=r(n(70));async function h(e,n,r){const i=await t.fsReaddir(e);for(const o of i){const i=c.default.join(e,o),s=c.default.join(n,o);if(await t.fsExists(s)){const e=await t.fsLstat(i),n=await t.fsLstat(s);e.isDirectory()&&n.isDirectory()?await h(i,s,r):(await t.fsTrash(s),await r(i,s))}else await r(i,s)}}t.fsOpen=o.promisify(i.default.open),t.fsClose=o.promisify(i.default.close),t.fsTouch=async e=>await t.fsClose(await t.fsOpen(e,"w")),t.fsMkdirp=d.default,t.fsReaddir=o.promisify(i.default.readdir),t.fsReadlink=o.promisify(i.default.readlink),t.fsAccess=(e,t)=>new Promise(n=>{i.default.access(e,t,e=>{n(!e)})}),t.fsExists=t.fsAccess,t.fsStat=o.promisify(i.default.stat),t.fsLstat=o.promisify(i.default.lstat),t.fsCopyFile=o.promisify(i.default.copyFile),t.fsRename=o.promisify(i.default.rename),t.fsTrash=e=>a.default(e,{glob:!1}),t.fsRimraf=o.promisify(s.default),t.fsCopyFileRecursive=async function e(n,r){if((await t.fsLstat(n)).isDirectory()){await t.fsMkdirp(r);const i=await t.fsReaddir(n);for(const t of i)await e(c.default.join(n,t),c.default.join(r,t))}else await t.fsCopyFile(n,r)},t.fsMergeDirectory=h,t.overwritePrompt=async function e(n,r){var i;const o=async(e,n)=>{await t.fsMkdirp(c.default.dirname(n)),await r(e,n)};for(let d=0,p=n.length;d<p;d++){const g=n[d].source,m=n[d].target;if(!await t.fsExists(m)){await o(g,m);continue}const v="string"==typeof g?await t.fsLstat(g):null,y=await t.fsLstat(m);async function s(){const e=await f.input(`Rename: ${m} -> `,m,"file");if(e)return o(g,e);d-=1}async function a(){return await t.fsTrash(m),o(g,m)}function u(){d=p}async function l(e={}){var t,n;e=Object.assign(Object.assign({skip:null,rename:s,"force replace":a},e),{quit:u});const r=await f.prompt(`${m} already exists.`,Object.keys(e));if(r&&r in e)return null===(n=(t=e)[r])||void 0===n?void 0:n.call(t)}g&&(null===(i=v)||void 0===i?void 0:i.isDirectory())?y.isDirectory()?await l({merge:()=>h(g,m,o),"one by one":async()=>{const n=(await t.fsReaddir(g)).map(e=>({source:e,target:c.default.join(m,c.default.basename(e))}));await e(n,r)}}):await l():(y.isDirectory(),await l())}},t.listDrive=async function(){if(l.isWindows){return(await u.execCli("wmic",["logicaldisk","get","name"])).split("\n").map(e=>e.trim()).filter(e=>e.endsWith(":"))}throw new Error("not support listDrive in "+process.platform)}},function(e,t,n){const r=n(18),i=n(2),o=n(6);let s=void 0;try{s=n(31)}catch(e){}const a={nosort:!0,silent:!0};let c=0;const u="win32"===process.platform,l=e=>{if(["unlink","chmod","stat","lstat","rmdir","readdir"].forEach(t=>{e[t]=e[t]||o[t],e[t+="Sync"]=e[t]||o[t]}),e.maxBusyTries=e.maxBusyTries||3,e.emfileWait=e.emfileWait||1e3,!1===e.glob&&(e.disableGlob=!0),!0!==e.disableGlob&&void 0===s)throw Error("glob dependency not found, set `options.disableGlob = true` if intentional");e.disableGlob=e.disableGlob||!1,e.glob=e.glob||a},f=(e,t,n)=>{"function"==typeof t&&(n=t,t={}),r(e,"rimraf: missing path"),r.equal(typeof e,"string","rimraf: path should be a string"),r.equal(typeof n,"function","rimraf: callback function required"),r(t,"rimraf: invalid options argument provided"),r.equal(typeof t,"object","rimraf: options should be object"),l(t);let i=0,o=null,a=0;const u=(e,r)=>e?n(e):0===(a=r.length)?n():void r.forEach(e=>{const r=s=>{if(s){if(("EBUSY"===s.code||"ENOTEMPTY"===s.code||"EPERM"===s.code)&&i<t.maxBusyTries)return i++,setTimeout(()=>d(e,t,r),100*i);if("EMFILE"===s.code&&c<t.emfileWait)return setTimeout(()=>d(e,t,r),c++);"ENOENT"===s.code&&(s=null)}c=0,(e=>{o=o||e,0==--a&&n(o)})(s)};d(e,t,r)});if(t.disableGlob||!s.hasMagic(e))return u(null,[e]);t.lstat(e,(n,r)=>{if(!n)return u(null,[e]);s(e,t.glob,u)})},d=(e,t,n)=>{r(e),r(t),r("function"==typeof n),t.lstat(e,(r,i)=>r&&"ENOENT"===r.code?n(null):(r&&"EPERM"===r.code&&u&&h(e,t,r,n),i&&i.isDirectory()?g(e,t,r,n):void t.unlink(e,r=>{if(r){if("ENOENT"===r.code)return n(null);if("EPERM"===r.code)return u?h(e,t,r,n):g(e,t,r,n);if("EISDIR"===r.code)return g(e,t,r,n)}return n(r)})))},h=(e,t,n,i)=>{r(e),r(t),r("function"==typeof i),n&&r(n instanceof Error),t.chmod(e,438,r=>{r?i("ENOENT"===r.code?null:n):t.stat(e,(r,o)=>{r?i("ENOENT"===r.code?null:n):o.isDirectory()?g(e,t,n,i):t.unlink(e,i)})})},p=(e,t,n)=>{r(e),r(t),n&&r(n instanceof Error);try{t.chmodSync(e,438)}catch(e){if("ENOENT"===e.code)return;throw n}let i;try{i=t.statSync(e)}catch(e){if("ENOENT"===e.code)return;throw n}i.isDirectory()?y(e,t,n):t.unlinkSync(e)},g=(e,t,n,i)=>{r(e),r(t),n&&r(n instanceof Error),r("function"==typeof i),t.rmdir(e,r=>{!r||"ENOTEMPTY"!==r.code&&"EEXIST"!==r.code&&"EPERM"!==r.code?r&&"ENOTDIR"===r.code?i(n):i(r):m(e,t,i)})},m=(e,t,n)=>{r(e),r(t),r("function"==typeof n),t.readdir(e,(r,o)=>{if(r)return n(r);let s,a=o.length;if(0===a)return t.rmdir(e,n);o.forEach(r=>{f(i.join(e,r),t,r=>{if(!s)return r?n(s=r):void(0==--a&&t.rmdir(e,n))})})})},v=(e,t)=>{let n;if(l(t=t||{}),r(e,"rimraf: missing path"),r.equal(typeof e,"string","rimraf: path should be a string"),r(t,"rimraf: missing options"),r.equal(typeof t,"object","rimraf: options should be object"),t.disableGlob||!s.hasMagic(e))n=[e];else try{t.lstatSync(e),n=[e]}catch(r){n=s.sync(e,t.glob)}if(n.length)for(let e=0;e<n.length;e++){const r=n[e];let i;try{i=t.lstatSync(r)}catch(e){if("ENOENT"===e.code)return;"EPERM"===e.code&&u&&p(r,t,e)}try{i&&i.isDirectory()?y(r,t,null):t.unlinkSync(r)}catch(e){if("ENOENT"===e.code)return;if("EPERM"===e.code)return u?p(r,t,e):y(r,t,e);if("EISDIR"!==e.code)throw e;y(r,t,e)}}},y=(e,t,n)=>{r(e),r(t),n&&r(n instanceof Error);try{t.rmdirSync(e)}catch(r){if("ENOENT"===r.code)return;if("ENOTDIR"===r.code)throw n;"ENOTEMPTY"!==r.code&&"EEXIST"!==r.code&&"EPERM"!==r.code||w(e,t)}},w=(e,t)=>{r(e),r(t),t.readdirSync(e).forEach(n=>v(i.join(e,n),t));const n=u?100:1;let o=0;for(;;){let r=!0;try{const i=t.rmdirSync(e,t);return r=!1,i}finally{if(++o<n&&r)continue}}};e.exports=f,f.sync=v},function(e,t,n){var r=n(2),i="win32"===process.platform,o=n(6),s=process.env.NODE_DEBUG&&/fs/.test(process.env.NODE_DEBUG);function a(e){return"function"==typeof e?e:function(){var e;if(s){var t=new Error;e=function(e){e&&(t.message=e.message,n(e=t))}}else e=n;return e;function n(e){if(e){if(process.throwDeprecation)throw e;if(!process.noDeprecation){var t="fs: missing callback "+(e.stack||e.message);process.traceDeprecation?console.trace(t):console.error(t)}}}}()}r.normalize;if(i)var c=/(.*?)(?:[\/\\]+|$)/g;else c=/(.*?)(?:[\/]+|$)/g;if(i)var u=/^(?:[a-zA-Z]:|[\\\/]{2}[^\\\/]+[\\\/][^\\\/]+)?[\\\/]*/;else u=/^[\/]*/;t.realpathSync=function(e,t){if(e=r.resolve(e),t&&Object.prototype.hasOwnProperty.call(t,e))return t[e];var n,s,a,l,f=e,d={},h={};function p(){var t=u.exec(e);n=t[0].length,s=t[0],a=t[0],l="",i&&!h[a]&&(o.lstatSync(a),h[a]=!0)}for(p();n<e.length;){c.lastIndex=n;var g=c.exec(e);if(l=s,s+=g[0],a=l+g[1],n=c.lastIndex,!(h[a]||t&&t[a]===a)){var m;if(t&&Object.prototype.hasOwnProperty.call(t,a))m=t[a];else{var v=o.lstatSync(a);if(!v.isSymbolicLink()){h[a]=!0,t&&(t[a]=a);continue}var y=null;if(!i){var w=v.dev.toString(32)+":"+v.ino.toString(32);d.hasOwnProperty(w)&&(y=d[w])}null===y&&(o.statSync(a),y=o.readlinkSync(a)),m=r.resolve(l,y),t&&(t[a]=m),i||(d[w]=y)}e=r.resolve(m,e.slice(n)),p()}}return t&&(t[f]=e),e},t.realpath=function(e,t,n){if("function"!=typeof n&&(n=a(t),t=null),e=r.resolve(e),t&&Object.prototype.hasOwnProperty.call(t,e))return process.nextTick(n.bind(null,null,t[e]));var s,l,f,d,h=e,p={},g={};function m(){var t=u.exec(e);s=t[0].length,l=t[0],f=t[0],d="",i&&!g[f]?o.lstat(f,(function(e){if(e)return n(e);g[f]=!0,v()})):process.nextTick(v)}function v(){if(s>=e.length)return t&&(t[h]=e),n(null,e);c.lastIndex=s;var r=c.exec(e);return d=l,l+=r[0],f=d+r[1],s=c.lastIndex,g[f]||t&&t[f]===f?process.nextTick(v):t&&Object.prototype.hasOwnProperty.call(t,f)?b(t[f]):o.lstat(f,y)}function y(e,r){if(e)return n(e);if(!r.isSymbolicLink())return g[f]=!0,t&&(t[f]=f),process.nextTick(v);if(!i){var s=r.dev.toString(32)+":"+r.ino.toString(32);if(p.hasOwnProperty(s))return w(null,p[s],f)}o.stat(f,(function(e){if(e)return n(e);o.readlink(f,(function(e,t){i||(p[s]=t),w(e,t)}))}))}function w(e,i,o){if(e)return n(e);var s=r.resolve(d,i);t&&(t[o]=s),b(s)}function b(t){e=r.resolve(t,e.slice(s)),m()}m()}},function(e,t,n){var r=n(59),i=n(60);e.exports=function(e){if(!e)return[];"{}"===e.substr(0,2)&&(e="\\{\\}"+e.substr(2));return function e(t,n){var o=[];var s=i("{","}",t);if(!s||/\$$/.test(s.pre))return[t];var c=/^-?\d+\.\.-?\d+(?:\.\.-?\d+)?$/.test(s.body);var u=/^[a-zA-Z]\.\.[a-zA-Z](?:\.\.-?\d+)?$/.test(s.body);var f=c||u;var m=s.body.indexOf(",")>=0;if(!f&&!m)return s.post.match(/,.*\}/)?(t=s.pre+"{"+s.body+a+s.post,e(t)):[t];var v;if(f)v=s.body.split(/\.\./);else{if(1===(v=function e(t){if(!t)return[""];var n=[];var r=i("{","}",t);if(!r)return t.split(",");var o=r.pre;var s=r.body;var a=r.post;var c=o.split(",");c[c.length-1]+="{"+s+"}";var u=e(a);a.length&&(c[c.length-1]+=u.shift(),c.push.apply(c,u));n.push.apply(n,c);return n}(s.body)).length)if(1===(v=e(v[0],!1).map(d)).length)return(w=s.post.length?e(s.post,!1):[""]).map((function(e){return s.pre+v[0]+e}))}var y=s.pre;var w=s.post.length?e(s.post,!1):[""];var b;if(f){var _=l(v[0]),x=l(v[1]),E=Math.max(v[0].length,v[1].length),R=3==v.length?Math.abs(l(v[2])):1,O=p;x<_&&(R*=-1,O=g);var C=v.some(h);b=[];for(var N=_;O(N,x);N+=R){var S;if(u)"\\"===(S=String.fromCharCode(N))&&(S="");else if(S=String(N),C){var I=E-S.length;if(I>0){var M=new Array(I+1).join("0");S=N<0?"-"+M+S.slice(1):M+S}}b.push(S)}}else b=r(v,(function(t){return e(t,!1)}));for(var k=0;k<b.length;k++)for(var A=0;A<w.length;A++){var T=y+b[k]+w[A];(!n||f||T)&&o.push(T)}return o}(function(e){return e.split("\\\\").join(o).split("\\{").join(s).split("\\}").join(a).split("\\,").join(c).split("\\.").join(u)}(e),!0).map(f)};var o="\0SLASH"+Math.random()+"\0",s="\0OPEN"+Math.random()+"\0",a="\0CLOSE"+Math.random()+"\0",c="\0COMMA"+Math.random()+"\0",u="\0PERIOD"+Math.random()+"\0";function l(e){return parseInt(e,10)==e?parseInt(e,10):e.charCodeAt(0)}function f(e){return e.split(o).join("\\").split(s).join("{").split(a).join("}").split(c).join(",").split(u).join(".")}function d(e){return"{"+e+"}"}function h(e){return/^-?0\d/.test(e)}function p(e,t){return e<=t}function g(e,t){return e>=t}},function(e,t){e.exports=function(e,t){for(var r=[],i=0;i<e.length;i++){var o=t(e[i],i);n(o)?r.push.apply(r,o):r.push(o)}return r};var n=Array.isArray||function(e){return"[object Array]"===Object.prototype.toString.call(e)}},function(e,t,n){"use strict";function r(e,t,n){e instanceof RegExp&&(e=i(e,n)),t instanceof RegExp&&(t=i(t,n));var r=o(e,t,n);return r&&{start:r[0],end:r[1],pre:n.slice(0,r[0]),body:n.slice(r[0]+e.length,r[1]),post:n.slice(r[1]+t.length)}}function i(e,t){var n=t.match(e);return n?n[0]:null}function o(e,t,n){var r,i,o,s,a,c=n.indexOf(e),u=n.indexOf(t,c+1),l=c;if(c>=0&&u>0){for(r=[],o=n.length;l>=0&&!a;)l==c?(r.push(l),c=n.indexOf(e,l+1)):1==r.length?a=[r.pop(),u]:((i=r.pop())<o&&(o=i,s=u),u=n.indexOf(t,l+1)),l=c<u&&c>=0?c:u;r.length&&(a=[o,s])}return a}e.exports=r,r.range=o},function(e,t,n){try{var r=n(13);if("function"!=typeof r.inherits)throw"";e.exports=r.inherits}catch(t){e.exports=n(62)}},function(e,t){"function"==typeof Object.create?e.exports=function(e,t){t&&(e.super_=t,e.prototype=Object.create(t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}))}:e.exports=function(e,t){if(t){e.super_=t;var n=function(){};n.prototype=t.prototype,e.prototype=new n,e.prototype.constructor=e}}},function(e,t,n){e.exports=p,p.GlobSync=g;var r=n(6),i=n(32),o=n(15),s=(o.Minimatch,n(31).Glob,n(13),n(2)),a=n(18),c=n(19),u=n(34),l=(u.alphasort,u.alphasorti,u.setopts),f=u.ownProp,d=u.childrenIgnored,h=u.isIgnored;function p(e,t){if("function"==typeof t||3===arguments.length)throw new TypeError("callback provided to sync glob\nSee: https://github.com/isaacs/node-glob/issues/167");return new g(e,t).found}function g(e,t){if(!e)throw new Error("must provide pattern");if("function"==typeof t||3===arguments.length)throw new TypeError("callback provided to sync glob\nSee: https://github.com/isaacs/node-glob/issues/167");if(!(this instanceof g))return new g(e,t);if(l(this,e,t),this.noprocess)return this;var n=this.minimatch.set.length;this.matches=new Array(n);for(var r=0;r<n;r++)this._process(this.minimatch.set[r],r,!1);this._finish()}g.prototype._finish=function(){if(a(this instanceof g),this.realpath){var e=this;this.matches.forEach((function(t,n){var r=e.matches[n]=Object.create(null);for(var o in t)try{o=e._makeAbs(o),r[i.realpathSync(o,e.realpathCache)]=!0}catch(t){if("stat"!==t.syscall)throw t;r[e._makeAbs(o)]=!0}}))}u.finish(this)},g.prototype._process=function(e,t,n){a(this instanceof g);for(var r,i=0;"string"==typeof e[i];)i++;switch(i){case e.length:return void this._processSimple(e.join("/"),t);case 0:r=null;break;default:r=e.slice(0,i).join("/")}var s,u=e.slice(i);null===r?s=".":c(r)||c(e.join("/"))?(r&&c(r)||(r="/"+r),s=r):s=r;var l=this._makeAbs(s);d(this,s)||(u[0]===o.GLOBSTAR?this._processGlobStar(r,s,l,u,t,n):this._processReaddir(r,s,l,u,t,n))},g.prototype._processReaddir=function(e,t,n,r,i,o){var a=this._readdir(n,o);if(a){for(var c=r[0],u=!!this.minimatch.negate,l=c._glob,f=this.dot||"."===l.charAt(0),d=[],h=0;h<a.length;h++){if("."!==(m=a[h]).charAt(0)||f)(u&&!e?!m.match(c):m.match(c))&&d.push(m)}var p=d.length;if(0!==p)if(1!==r.length||this.mark||this.stat){r.shift();for(h=0;h<p;h++){var g;m=d[h];g=e?[e,m]:[m],this._process(g.concat(r),i,o)}}else{this.matches[i]||(this.matches[i]=Object.create(null));for(var h=0;h<p;h++){var m=d[h];e&&(m="/"!==e.slice(-1)?e+"/"+m:e+m),"/"!==m.charAt(0)||this.nomount||(m=s.join(this.root,m)),this._emitMatch(i,m)}}}},g.prototype._emitMatch=function(e,t){if(!h(this,t)){var n=this._makeAbs(t);if(this.mark&&(t=this._mark(t)),this.absolute&&(t=n),!this.matches[e][t]){if(this.nodir){var r=this.cache[n];if("DIR"===r||Array.isArray(r))return}this.matches[e][t]=!0,this.stat&&this._stat(t)}}},g.prototype._readdirInGlobStar=function(e){if(this.follow)return this._readdir(e,!1);var t,n;try{n=r.lstatSync(e)}catch(e){if("ENOENT"===e.code)return null}var i=n&&n.isSymbolicLink();return this.symlinks[e]=i,i||!n||n.isDirectory()?t=this._readdir(e,!1):this.cache[e]="FILE",t},g.prototype._readdir=function(e,t){if(t&&!f(this.symlinks,e))return this._readdirInGlobStar(e);if(f(this.cache,e)){var n=this.cache[e];if(!n||"FILE"===n)return null;if(Array.isArray(n))return n}try{return this._readdirEntries(e,r.readdirSync(e))}catch(t){return this._readdirError(e,t),null}},g.prototype._readdirEntries=function(e,t){if(!this.mark&&!this.stat)for(var n=0;n<t.length;n++){var r=t[n];r="/"===e?e+r:e+"/"+r,this.cache[r]=!0}return this.cache[e]=t,t},g.prototype._readdirError=function(e,t){switch(t.code){case"ENOTSUP":case"ENOTDIR":var n=this._makeAbs(e);if(this.cache[n]="FILE",n===this.cwdAbs){var r=new Error(t.code+" invalid cwd "+this.cwd);throw r.path=this.cwd,r.code=t.code,r}break;case"ENOENT":case"ELOOP":case"ENAMETOOLONG":case"UNKNOWN":this.cache[this._makeAbs(e)]=!1;break;default:if(this.cache[this._makeAbs(e)]=!1,this.strict)throw t;this.silent||console.error("glob error",t)}},g.prototype._processGlobStar=function(e,t,n,r,i,o){var s=this._readdir(n,o);if(s){var a=r.slice(1),c=e?[e]:[],u=c.concat(a);this._process(u,i,!1);var l=s.length;if(!this.symlinks[n]||!o)for(var f=0;f<l;f++){if("."!==s[f].charAt(0)||this.dot){var d=c.concat(s[f],a);this._process(d,i,!0);var h=c.concat(s[f],r);this._process(h,i,!0)}}}},g.prototype._processSimple=function(e,t){var n=this._stat(e);if(this.matches[t]||(this.matches[t]=Object.create(null)),n){if(e&&c(e)&&!this.nomount){var r=/[\/\\]$/.test(e);"/"===e.charAt(0)?e=s.join(this.root,e):(e=s.resolve(this.root,e),r&&(e+="/"))}"win32"===process.platform&&(e=e.replace(/\\/g,"/")),this._emitMatch(t,e)}},g.prototype._stat=function(e){var t=this._makeAbs(e),n="/"===e.slice(-1);if(e.length>this.maxLength)return!1;if(!this.stat&&f(this.cache,t)){var i=this.cache[t];if(Array.isArray(i)&&(i="DIR"),!n||"DIR"===i)return i;if(n&&"FILE"===i)return!1}var o=this.statCache[t];if(!o){var s;try{s=r.lstatSync(t)}catch(e){if(e&&("ENOENT"===e.code||"ENOTDIR"===e.code))return this.statCache[t]=!1,!1}if(s&&s.isSymbolicLink())try{o=r.statSync(t)}catch(e){o=s}else o=s}this.statCache[t]=o;i=!0;return o&&(i=o.isDirectory()?"DIR":"FILE"),this.cache[t]=this.cache[t]||i,(!n||"FILE"!==i)&&i},g.prototype._mark=function(e){return u.mark(this,e)},g.prototype._makeAbs=function(e){return u.makeAbs(this,e)}},function(e,t,n){var r=n(35),i=Object.create(null),o=n(36);function s(e){for(var t=e.length,n=[],r=0;r<t;r++)n[r]=e[r];return n}e.exports=r((function(e,t){return i[e]?(i[e].push(t),null):(i[e]=[t],function(e){return o((function t(){var n=i[e],r=n.length,o=s(arguments);try{for(var a=0;a<r;a++)n[a].apply(null,o)}finally{n.length>r?(n.splice(0,r),process.nextTick((function(){t.apply(null,o)}))):delete i[e]}}))}(e))}))},function(e,t){e.exports=require("trash")},function(e,t,n){const r="win32"===process.platform||"cygwin"===process.env.OSTYPE||"msys"===process.env.OSTYPE,i=n(2),o=r?";":":",s=n(67),a=e=>Object.assign(new Error(`not found: ${e}`),{code:"ENOENT"}),c=(e,t)=>{const n=t.colon||o,i=e.match(/\//)||r&&e.match(/\\/)?[""]:[...r?[process.cwd()]:[],...(t.path||process.env.PATH||"").split(n)],s=r?t.pathExt||process.env.PATHEXT||".EXE;.CMD;.BAT;.COM":"",a=r?s.split(n):[""];return r&&-1!==e.indexOf(".")&&""!==a[0]&&a.unshift(""),{pathEnv:i,pathExt:a,pathExtExe:s}},u=(e,t,n)=>{"function"==typeof t&&(n=t,t={}),t||(t={});const{pathEnv:r,pathExt:o,pathExtExe:u}=c(e,t),l=[],f=n=>new Promise((o,s)=>{if(n===r.length)return t.all&&l.length?o(l):s(a(e));const c=r[n],u=/^".*"$/.test(c)?c.slice(1,-1):c,f=i.join(u,e),h=!u&&/^\.[\\\/]/.test(e)?e.slice(0,2)+f:f;o(d(h,n,0))}),d=(e,n,r)=>new Promise((i,a)=>{if(r===o.length)return i(f(n+1));const c=o[r];s(e+c,{pathExt:u},(o,s)=>{if(!o&&s){if(!t.all)return i(e+c);l.push(e+c)}return i(d(e,n,r+1))})});return n?f(0).then(e=>n(null,e),n):f(0)};e.exports=u,u.sync=(e,t)=>{t=t||{};const{pathEnv:n,pathExt:r,pathExtExe:o}=c(e,t),u=[];for(let a=0;a<n.length;a++){const c=n[a],l=/^".*"$/.test(c)?c.slice(1,-1):c,f=i.join(l,e),d=!l&&/^\.[\\\/]/.test(e)?e.slice(0,2)+f:f;for(let e=0;e<r.length;e++){const n=d+r[e];try{if(s.sync(n,{pathExt:o})){if(!t.all)return n;u.push(n)}}catch(e){}}}if(t.all&&u.length)return u;if(t.nothrow)return null;throw a(e)}},function(e,t,n){var r;n(6);function i(e,t,n){if("function"==typeof t&&(n=t,t={}),!n){if("function"!=typeof Promise)throw new TypeError("callback not provided");return new Promise((function(n,r){i(e,t||{},(function(e,t){e?r(e):n(t)}))}))}r(e,t||{},(function(e,r){e&&("EACCES"===e.code||t&&t.ignoreErrors)&&(e=null,r=!1),n(e,r)}))}r="win32"===process.platform||global.TESTING_WINDOWS?n(68):n(69),e.exports=i,i.sync=function(e,t){try{return r.sync(e,t||{})}catch(e){if(t&&t.ignoreErrors||"EACCES"===e.code)return!1;throw e}}},function(e,t,n){e.exports=o,o.sync=function(e,t){return i(r.statSync(e),e,t)};var r=n(6);function i(e,t,n){return!(!e.isSymbolicLink()&&!e.isFile())&&function(e,t){var n=void 0!==t.pathExt?t.pathExt:process.env.PATHEXT;if(!n)return!0;if(-1!==(n=n.split(";")).indexOf(""))return!0;for(var r=0;r<n.length;r++){var i=n[r].toLowerCase();if(i&&e.substr(-i.length).toLowerCase()===i)return!0}return!1}(t,n)}function o(e,t,n){r.stat(e,(function(r,o){n(r,!r&&i(o,e,t))}))}},function(e,t,n){e.exports=i,i.sync=function(e,t){return o(r.statSync(e),t)};var r=n(6);function i(e,t,n){r.stat(e,(function(e,r){n(e,!e&&o(r,t))}))}function o(e,t){return e.isFile()&&function(e,t){var n=e.mode,r=e.uid,i=e.gid,o=void 0!==t.uid?t.uid:process.getuid&&process.getuid(),s=void 0!==t.gid?t.gid:process.getgid&&process.getgid(),a=parseInt("100",8),c=parseInt("010",8),u=parseInt("001",8),l=a|c;return n&u||n&c&&i===s||n&a&&r===o||n&l&&0===o}(e,t)}},function(e,t,n){"use strict";const r=n(6),i=n(2),{promisify:o}=n(13),s=n(71),a={mode:511&~process.umask(),fs:r},c=s.satisfies(process.version,">=10.12.0"),u=e=>{if("win32"===process.platform){if(/[<>:"|?*]/.test(e.replace(i.parse(e).root,""))){const t=new Error(`Path contains invalid characters: ${e}`);throw t.code="EINVAL",t}}},l=e=>{const t=new Error(`operation not permitted, mkdir '${e}'`);return t.code="EPERM",t.errno=-4048,t.path=e,t.syscall="mkdir",t};e.exports=async(e,t)=>{u(e),t={...a,...t};const n=o(t.fs.mkdir),s=o(t.fs.stat);if(c&&t.fs.mkdir===r.mkdir){const r=i.resolve(e);return await n(r,{mode:t.mode,recursive:!0}),r}const f=async e=>{try{return await n(e,t.mode),e}catch(t){if("EPERM"===t.code)throw t;if("ENOENT"===t.code){if(i.dirname(e)===e)throw l(e);if(t.message.includes("null bytes"))throw t;return await f(i.dirname(e)),f(e)}if(!(await s(e)).isDirectory())throw t;return e}};return f(i.resolve(e))},e.exports.sync=(e,t)=>{if(u(e),t={...a,...t},c&&t.fs.mkdirSync===r.mkdirSync){const n=i.resolve(e);return r.mkdirSync(n,{mode:t.mode,recursive:!0}),n}const n=e=>{try{t.fs.mkdirSync(e,t.mode)}catch(r){if("EPERM"===r.code)throw r;if("ENOENT"===r.code){if(i.dirname(e)===e)throw l(e);if(r.message.includes("null bytes"))throw r;return n(i.dirname(e)),n(e)}try{if(!t.fs.statSync(e).isDirectory())throw new Error("The path is not a directory")}catch(e){throw r}}return e};return n(i.resolve(e))}},function(e,t){var n;t=e.exports=d,n="object"==typeof process&&process.env&&process.env.NODE_DEBUG&&/\bsemver\b/i.test(process.env.NODE_DEBUG)?function(){var e=Array.prototype.slice.call(arguments,0);e.unshift("SEMVER"),console.log.apply(console,e)}:function(){},t.SEMVER_SPEC_VERSION="2.0.0";var r=256,i=Number.MAX_SAFE_INTEGER||9007199254740991,o=t.re=[],s=t.src=[],a=t.tokens={},c=0;function u(e){a[e]=c++}u("NUMERICIDENTIFIER"),s[a.NUMERICIDENTIFIER]="0|[1-9]\\d*",u("NUMERICIDENTIFIERLOOSE"),s[a.NUMERICIDENTIFIERLOOSE]="[0-9]+",u("NONNUMERICIDENTIFIER"),s[a.NONNUMERICIDENTIFIER]="\\d*[a-zA-Z-][a-zA-Z0-9-]*",u("MAINVERSION"),s[a.MAINVERSION]="("+s[a.NUMERICIDENTIFIER]+")\\.("+s[a.NUMERICIDENTIFIER]+")\\.("+s[a.NUMERICIDENTIFIER]+")",u("MAINVERSIONLOOSE"),s[a.MAINVERSIONLOOSE]="("+s[a.NUMERICIDENTIFIERLOOSE]+")\\.("+s[a.NUMERICIDENTIFIERLOOSE]+")\\.("+s[a.NUMERICIDENTIFIERLOOSE]+")",u("PRERELEASEIDENTIFIER"),s[a.PRERELEASEIDENTIFIER]="(?:"+s[a.NUMERICIDENTIFIER]+"|"+s[a.NONNUMERICIDENTIFIER]+")",u("PRERELEASEIDENTIFIERLOOSE"),s[a.PRERELEASEIDENTIFIERLOOSE]="(?:"+s[a.NUMERICIDENTIFIERLOOSE]+"|"+s[a.NONNUMERICIDENTIFIER]+")",u("PRERELEASE"),s[a.PRERELEASE]="(?:-("+s[a.PRERELEASEIDENTIFIER]+"(?:\\."+s[a.PRERELEASEIDENTIFIER]+")*))",u("PRERELEASELOOSE"),s[a.PRERELEASELOOSE]="(?:-?("+s[a.PRERELEASEIDENTIFIERLOOSE]+"(?:\\."+s[a.PRERELEASEIDENTIFIERLOOSE]+")*))",u("BUILDIDENTIFIER"),s[a.BUILDIDENTIFIER]="[0-9A-Za-z-]+",u("BUILD"),s[a.BUILD]="(?:\\+("+s[a.BUILDIDENTIFIER]+"(?:\\."+s[a.BUILDIDENTIFIER]+")*))",u("FULL"),u("FULLPLAIN"),s[a.FULLPLAIN]="v?"+s[a.MAINVERSION]+s[a.PRERELEASE]+"?"+s[a.BUILD]+"?",s[a.FULL]="^"+s[a.FULLPLAIN]+"$",u("LOOSEPLAIN"),s[a.LOOSEPLAIN]="[v=\\s]*"+s[a.MAINVERSIONLOOSE]+s[a.PRERELEASELOOSE]+"?"+s[a.BUILD]+"?",u("LOOSE"),s[a.LOOSE]="^"+s[a.LOOSEPLAIN]+"$",u("GTLT"),s[a.GTLT]="((?:<|>)?=?)",u("XRANGEIDENTIFIERLOOSE"),s[a.XRANGEIDENTIFIERLOOSE]=s[a.NUMERICIDENTIFIERLOOSE]+"|x|X|\\*",u("XRANGEIDENTIFIER"),s[a.XRANGEIDENTIFIER]=s[a.NUMERICIDENTIFIER]+"|x|X|\\*",u("XRANGEPLAIN"),s[a.XRANGEPLAIN]="[v=\\s]*("+s[a.XRANGEIDENTIFIER]+")(?:\\.("+s[a.XRANGEIDENTIFIER]+")(?:\\.("+s[a.XRANGEIDENTIFIER]+")(?:"+s[a.PRERELEASE]+")?"+s[a.BUILD]+"?)?)?",u("XRANGEPLAINLOOSE"),s[a.XRANGEPLAINLOOSE]="[v=\\s]*("+s[a.XRANGEIDENTIFIERLOOSE]+")(?:\\.("+s[a.XRANGEIDENTIFIERLOOSE]+")(?:\\.("+s[a.XRANGEIDENTIFIERLOOSE]+")(?:"+s[a.PRERELEASELOOSE]+")?"+s[a.BUILD]+"?)?)?",u("XRANGE"),s[a.XRANGE]="^"+s[a.GTLT]+"\\s*"+s[a.XRANGEPLAIN]+"$",u("XRANGELOOSE"),s[a.XRANGELOOSE]="^"+s[a.GTLT]+"\\s*"+s[a.XRANGEPLAINLOOSE]+"$",u("COERCE"),s[a.COERCE]="(^|[^\\d])(\\d{1,16})(?:\\.(\\d{1,16}))?(?:\\.(\\d{1,16}))?(?:$|[^\\d])",u("COERCERTL"),o[a.COERCERTL]=new RegExp(s[a.COERCE],"g"),u("LONETILDE"),s[a.LONETILDE]="(?:~>?)",u("TILDETRIM"),s[a.TILDETRIM]="(\\s*)"+s[a.LONETILDE]+"\\s+",o[a.TILDETRIM]=new RegExp(s[a.TILDETRIM],"g");u("TILDE"),s[a.TILDE]="^"+s[a.LONETILDE]+s[a.XRANGEPLAIN]+"$",u("TILDELOOSE"),s[a.TILDELOOSE]="^"+s[a.LONETILDE]+s[a.XRANGEPLAINLOOSE]+"$",u("LONECARET"),s[a.LONECARET]="(?:\\^)",u("CARETTRIM"),s[a.CARETTRIM]="(\\s*)"+s[a.LONECARET]+"\\s+",o[a.CARETTRIM]=new RegExp(s[a.CARETTRIM],"g");u("CARET"),s[a.CARET]="^"+s[a.LONECARET]+s[a.XRANGEPLAIN]+"$",u("CARETLOOSE"),s[a.CARETLOOSE]="^"+s[a.LONECARET]+s[a.XRANGEPLAINLOOSE]+"$",u("COMPARATORLOOSE"),s[a.COMPARATORLOOSE]="^"+s[a.GTLT]+"\\s*("+s[a.LOOSEPLAIN]+")$|^$",u("COMPARATOR"),s[a.COMPARATOR]="^"+s[a.GTLT]+"\\s*("+s[a.FULLPLAIN]+")$|^$",u("COMPARATORTRIM"),s[a.COMPARATORTRIM]="(\\s*)"+s[a.GTLT]+"\\s*("+s[a.LOOSEPLAIN]+"|"+s[a.XRANGEPLAIN]+")",o[a.COMPARATORTRIM]=new RegExp(s[a.COMPARATORTRIM],"g");u("HYPHENRANGE"),s[a.HYPHENRANGE]="^\\s*("+s[a.XRANGEPLAIN]+")\\s+-\\s+("+s[a.XRANGEPLAIN]+")\\s*$",u("HYPHENRANGELOOSE"),s[a.HYPHENRANGELOOSE]="^\\s*("+s[a.XRANGEPLAINLOOSE]+")\\s+-\\s+("+s[a.XRANGEPLAINLOOSE]+")\\s*$",u("STAR"),s[a.STAR]="(<|>)?=?\\s*\\*";for(var l=0;l<c;l++)n(l,s[l]),o[l]||(o[l]=new RegExp(s[l]));function f(e,t){if(t&&"object"==typeof t||(t={loose:!!t,includePrerelease:!1}),e instanceof d)return e;if("string"!=typeof e)return null;if(e.length>r)return null;if(!(t.loose?o[a.LOOSE]:o[a.FULL]).test(e))return null;try{return new d(e,t)}catch(e){return null}}function d(e,t){if(t&&"object"==typeof t||(t={loose:!!t,includePrerelease:!1}),e instanceof d){if(e.loose===t.loose)return e;e=e.version}else if("string"!=typeof e)throw new TypeError("Invalid Version: "+e);if(e.length>r)throw new TypeError("version is longer than "+r+" characters");if(!(this instanceof d))return new d(e,t);n("SemVer",e,t),this.options=t,this.loose=!!t.loose;var s=e.trim().match(t.loose?o[a.LOOSE]:o[a.FULL]);if(!s)throw new TypeError("Invalid Version: "+e);if(this.raw=e,this.major=+s[1],this.minor=+s[2],this.patch=+s[3],this.major>i||this.major<0)throw new TypeError("Invalid major version");if(this.minor>i||this.minor<0)throw new TypeError("Invalid minor version");if(this.patch>i||this.patch<0)throw new TypeError("Invalid patch version");s[4]?this.prerelease=s[4].split(".").map((function(e){if(/^[0-9]+$/.test(e)){var t=+e;if(t>=0&&t<i)return t}return e})):this.prerelease=[],this.build=s[5]?s[5].split("."):[],this.format()}t.parse=f,t.valid=function(e,t){var n=f(e,t);return n?n.version:null},t.clean=function(e,t){var n=f(e.trim().replace(/^[=v]+/,""),t);return n?n.version:null},t.SemVer=d,d.prototype.format=function(){return this.version=this.major+"."+this.minor+"."+this.patch,this.prerelease.length&&(this.version+="-"+this.prerelease.join(".")),this.version},d.prototype.toString=function(){return this.version},d.prototype.compare=function(e){return n("SemVer.compare",this.version,this.options,e),e instanceof d||(e=new d(e,this.options)),this.compareMain(e)||this.comparePre(e)},d.prototype.compareMain=function(e){return e instanceof d||(e=new d(e,this.options)),p(this.major,e.major)||p(this.minor,e.minor)||p(this.patch,e.patch)},d.prototype.comparePre=function(e){if(e instanceof d||(e=new d(e,this.options)),this.prerelease.length&&!e.prerelease.length)return-1;if(!this.prerelease.length&&e.prerelease.length)return 1;if(!this.prerelease.length&&!e.prerelease.length)return 0;var t=0;do{var r=this.prerelease[t],i=e.prerelease[t];if(n("prerelease compare",t,r,i),void 0===r&&void 0===i)return 0;if(void 0===i)return 1;if(void 0===r)return-1;if(r!==i)return p(r,i)}while(++t)},d.prototype.compareBuild=function(e){e instanceof d||(e=new d(e,this.options));var t=0;do{var r=this.build[t],i=e.build[t];if(n("prerelease compare",t,r,i),void 0===r&&void 0===i)return 0;if(void 0===i)return 1;if(void 0===r)return-1;if(r!==i)return p(r,i)}while(++t)},d.prototype.inc=function(e,t){switch(e){case"premajor":this.prerelease.length=0,this.patch=0,this.minor=0,this.major++,this.inc("pre",t);break;case"preminor":this.prerelease.length=0,this.patch=0,this.minor++,this.inc("pre",t);break;case"prepatch":this.prerelease.length=0,this.inc("patch",t),this.inc("pre",t);break;case"prerelease":0===this.prerelease.length&&this.inc("patch",t),this.inc("pre",t);break;case"major":0===this.minor&&0===this.patch&&0!==this.prerelease.length||this.major++,this.minor=0,this.patch=0,this.prerelease=[];break;case"minor":0===this.patch&&0!==this.prerelease.length||this.minor++,this.patch=0,this.prerelease=[];break;case"patch":0===this.prerelease.length&&this.patch++,this.prerelease=[];break;case"pre":if(0===this.prerelease.length)this.prerelease=[0];else{for(var n=this.prerelease.length;--n>=0;)"number"==typeof this.prerelease[n]&&(this.prerelease[n]++,n=-2);-1===n&&this.prerelease.push(0)}t&&(this.prerelease[0]===t?isNaN(this.prerelease[1])&&(this.prerelease=[t,0]):this.prerelease=[t,0]);break;default:throw new Error("invalid increment argument: "+e)}return this.format(),this.raw=this.version,this},t.inc=function(e,t,n,r){"string"==typeof n&&(r=n,n=void 0);try{return new d(e,n).inc(t,r).version}catch(e){return null}},t.diff=function(e,t){if(y(e,t))return null;var n=f(e),r=f(t),i="";if(n.prerelease.length||r.prerelease.length){i="pre";var o="prerelease"}for(var s in n)if(("major"===s||"minor"===s||"patch"===s)&&n[s]!==r[s])return i+s;return o},t.compareIdentifiers=p;var h=/^[0-9]+$/;function p(e,t){var n=h.test(e),r=h.test(t);return n&&r&&(e=+e,t=+t),e===t?0:n&&!r?-1:r&&!n?1:e<t?-1:1}function g(e,t,n){return new d(e,n).compare(new d(t,n))}function m(e,t,n){return g(e,t,n)>0}function v(e,t,n){return g(e,t,n)<0}function y(e,t,n){return 0===g(e,t,n)}function w(e,t,n){return 0!==g(e,t,n)}function b(e,t,n){return g(e,t,n)>=0}function _(e,t,n){return g(e,t,n)<=0}function x(e,t,n,r){switch(t){case"===":return"object"==typeof e&&(e=e.version),"object"==typeof n&&(n=n.version),e===n;case"!==":return"object"==typeof e&&(e=e.version),"object"==typeof n&&(n=n.version),e!==n;case"":case"=":case"==":return y(e,n,r);case"!=":return w(e,n,r);case">":return m(e,n,r);case">=":return b(e,n,r);case"<":return v(e,n,r);case"<=":return _(e,n,r);default:throw new TypeError("Invalid operator: "+t)}}function E(e,t){if(t&&"object"==typeof t||(t={loose:!!t,includePrerelease:!1}),e instanceof E){if(e.loose===!!t.loose)return e;e=e.value}if(!(this instanceof E))return new E(e,t);n("comparator",e,t),this.options=t,this.loose=!!t.loose,this.parse(e),this.semver===R?this.value="":this.value=this.operator+this.semver.version,n("comp",this)}t.rcompareIdentifiers=function(e,t){return p(t,e)},t.major=function(e,t){return new d(e,t).major},t.minor=function(e,t){return new d(e,t).minor},t.patch=function(e,t){return new d(e,t).patch},t.compare=g,t.compareLoose=function(e,t){return g(e,t,!0)},t.compareBuild=function(e,t,n){var r=new d(e,n),i=new d(t,n);return r.compare(i)||r.compareBuild(i)},t.rcompare=function(e,t,n){return g(t,e,n)},t.sort=function(e,n){return e.sort((function(e,r){return t.compareBuild(e,r,n)}))},t.rsort=function(e,n){return e.sort((function(e,r){return t.compareBuild(r,e,n)}))},t.gt=m,t.lt=v,t.eq=y,t.neq=w,t.gte=b,t.lte=_,t.cmp=x,t.Comparator=E;var R={};function O(e,t){if(t&&"object"==typeof t||(t={loose:!!t,includePrerelease:!1}),e instanceof O)return e.loose===!!t.loose&&e.includePrerelease===!!t.includePrerelease?e:new O(e.raw,t);if(e instanceof E)return new O(e.value,t);if(!(this instanceof O))return new O(e,t);if(this.options=t,this.loose=!!t.loose,this.includePrerelease=!!t.includePrerelease,this.raw=e,this.set=e.split(/\s*\|\|\s*/).map((function(e){return this.parseRange(e.trim())}),this).filter((function(e){return e.length})),!this.set.length)throw new TypeError("Invalid SemVer Range: "+e);this.format()}function C(e,t){for(var n=!0,r=e.slice(),i=r.pop();n&&r.length;)n=r.every((function(e){return i.intersects(e,t)})),i=r.pop();return n}function N(e){return!e||"x"===e.toLowerCase()||"*"===e}function S(e,t,n,r,i,o,s,a,c,u,l,f,d){return((t=N(n)?"":N(r)?">="+n+".0.0":N(i)?">="+n+"."+r+".0":">="+t)+" "+(a=N(c)?"":N(u)?"<"+(+c+1)+".0.0":N(l)?"<"+c+"."+(+u+1)+".0":f?"<="+c+"."+u+"."+l+"-"+f:"<="+a)).trim()}function I(e,t,r){for(var i=0;i<e.length;i++)if(!e[i].test(t))return!1;if(t.prerelease.length&&!r.includePrerelease){for(i=0;i<e.length;i++)if(n(e[i].semver),e[i].semver!==R&&e[i].semver.prerelease.length>0){var o=e[i].semver;if(o.major===t.major&&o.minor===t.minor&&o.patch===t.patch)return!0}return!1}return!0}function M(e,t,n){try{t=new O(t,n)}catch(e){return!1}return t.test(e)}function k(e,t,n,r){var i,o,s,a,c;switch(e=new d(e,r),t=new O(t,r),n){case">":i=m,o=_,s=v,a=">",c=">=";break;case"<":i=v,o=b,s=m,a="<",c="<=";break;default:throw new TypeError('Must provide a hilo val of "<" or ">"')}if(M(e,t,r))return!1;for(var u=0;u<t.set.length;++u){var l=t.set[u],f=null,h=null;if(l.forEach((function(e){e.semver===R&&(e=new E(">=0.0.0")),f=f||e,h=h||e,i(e.semver,f.semver,r)?f=e:s(e.semver,h.semver,r)&&(h=e)})),f.operator===a||f.operator===c)return!1;if((!h.operator||h.operator===a)&&o(e,h.semver))return!1;if(h.operator===c&&s(e,h.semver))return!1}return!0}E.prototype.parse=function(e){var t=this.options.loose?o[a.COMPARATORLOOSE]:o[a.COMPARATOR],n=e.match(t);if(!n)throw new TypeError("Invalid comparator: "+e);this.operator=void 0!==n[1]?n[1]:"","="===this.operator&&(this.operator=""),n[2]?this.semver=new d(n[2],this.options.loose):this.semver=R},E.prototype.toString=function(){return this.value},E.prototype.test=function(e){if(n("Comparator.test",e,this.options.loose),this.semver===R||e===R)return!0;if("string"==typeof e)try{e=new d(e,this.options)}catch(e){return!1}return x(e,this.operator,this.semver,this.options)},E.prototype.intersects=function(e,t){if(!(e instanceof E))throw new TypeError("a Comparator is required");var n;if(t&&"object"==typeof t||(t={loose:!!t,includePrerelease:!1}),""===this.operator)return""===this.value||(n=new O(e.value,t),M(this.value,n,t));if(""===e.operator)return""===e.value||(n=new O(this.value,t),M(e.semver,n,t));var r=!(">="!==this.operator&&">"!==this.operator||">="!==e.operator&&">"!==e.operator),i=!("<="!==this.operator&&"<"!==this.operator||"<="!==e.operator&&"<"!==e.operator),o=this.semver.version===e.semver.version,s=!(">="!==this.operator&&"<="!==this.operator||">="!==e.operator&&"<="!==e.operator),a=x(this.semver,"<",e.semver,t)&&(">="===this.operator||">"===this.operator)&&("<="===e.operator||"<"===e.operator),c=x(this.semver,">",e.semver,t)&&("<="===this.operator||"<"===this.operator)&&(">="===e.operator||">"===e.operator);return r||i||o&&s||a||c},t.Range=O,O.prototype.format=function(){return this.range=this.set.map((function(e){return e.join(" ").trim()})).join("||").trim(),this.range},O.prototype.toString=function(){return this.range},O.prototype.parseRange=function(e){var t=this.options.loose;e=e.trim();var r=t?o[a.HYPHENRANGELOOSE]:o[a.HYPHENRANGE];e=e.replace(r,S),n("hyphen replace",e),e=e.replace(o[a.COMPARATORTRIM],"$1$2$3"),n("comparator trim",e,o[a.COMPARATORTRIM]),e=(e=(e=e.replace(o[a.TILDETRIM],"$1~")).replace(o[a.CARETTRIM],"$1^")).split(/\s+/).join(" ");var i=t?o[a.COMPARATORLOOSE]:o[a.COMPARATOR],s=e.split(" ").map((function(e){return function(e,t){return n("comp",e,t),e=function(e,t){return e.trim().split(/\s+/).map((function(e){return function(e,t){n("caret",e,t);var r=t.loose?o[a.CARETLOOSE]:o[a.CARET];return e.replace(r,(function(t,r,i,o,s){var a;return n("caret",e,t,r,i,o,s),N(r)?a="":N(i)?a=">="+r+".0.0 <"+(+r+1)+".0.0":N(o)?a="0"===r?">="+r+"."+i+".0 <"+r+"."+(+i+1)+".0":">="+r+"."+i+".0 <"+(+r+1)+".0.0":s?(n("replaceCaret pr",s),a="0"===r?"0"===i?">="+r+"."+i+"."+o+"-"+s+" <"+r+"."+i+"."+(+o+1):">="+r+"."+i+"."+o+"-"+s+" <"+r+"."+(+i+1)+".0":">="+r+"."+i+"."+o+"-"+s+" <"+(+r+1)+".0.0"):(n("no pr"),a="0"===r?"0"===i?">="+r+"."+i+"."+o+" <"+r+"."+i+"."+(+o+1):">="+r+"."+i+"."+o+" <"+r+"."+(+i+1)+".0":">="+r+"."+i+"."+o+" <"+(+r+1)+".0.0"),n("caret return",a),a}))}(e,t)})).join(" ")}(e,t),n("caret",e),e=function(e,t){return e.trim().split(/\s+/).map((function(e){return function(e,t){var r=t.loose?o[a.TILDELOOSE]:o[a.TILDE];return e.replace(r,(function(t,r,i,o,s){var a;return n("tilde",e,t,r,i,o,s),N(r)?a="":N(i)?a=">="+r+".0.0 <"+(+r+1)+".0.0":N(o)?a=">="+r+"."+i+".0 <"+r+"."+(+i+1)+".0":s?(n("replaceTilde pr",s),a=">="+r+"."+i+"."+o+"-"+s+" <"+r+"."+(+i+1)+".0"):a=">="+r+"."+i+"."+o+" <"+r+"."+(+i+1)+".0",n("tilde return",a),a}))}(e,t)})).join(" ")}(e,t),n("tildes",e),e=function(e,t){return n("replaceXRanges",e,t),e.split(/\s+/).map((function(e){return function(e,t){e=e.trim();var r=t.loose?o[a.XRANGELOOSE]:o[a.XRANGE];return e.replace(r,(function(r,i,o,s,a,c){n("xRange",e,r,i,o,s,a,c);var u=N(o),l=u||N(s),f=l||N(a),d=f;return"="===i&&d&&(i=""),c=t.includePrerelease?"-0":"",u?r=">"===i||"<"===i?"<0.0.0-0":"*":i&&d?(l&&(s=0),a=0,">"===i?(i=">=",l?(o=+o+1,s=0,a=0):(s=+s+1,a=0)):"<="===i&&(i="<",l?o=+o+1:s=+s+1),r=i+o+"."+s+"."+a+c):l?r=">="+o+".0.0"+c+" <"+(+o+1)+".0.0"+c:f&&(r=">="+o+"."+s+".0"+c+" <"+o+"."+(+s+1)+".0"+c),n("xRange return",r),r}))}(e,t)})).join(" ")}(e,t),n("xrange",e),e=function(e,t){return n("replaceStars",e,t),e.trim().replace(o[a.STAR],"")}(e,t),n("stars",e),e}(e,this.options)}),this).join(" ").split(/\s+/);return this.options.loose&&(s=s.filter((function(e){return!!e.match(i)}))),s=s.map((function(e){return new E(e,this.options)}),this)},O.prototype.intersects=function(e,t){if(!(e instanceof O))throw new TypeError("a Range is required");return this.set.some((function(n){return C(n,t)&&e.set.some((function(e){return C(e,t)&&n.every((function(n){return e.every((function(e){return n.intersects(e,t)}))}))}))}))},t.toComparators=function(e,t){return new O(e,t).set.map((function(e){return e.map((function(e){return e.value})).join(" ").trim().split(" ")}))},O.prototype.test=function(e){if(!e)return!1;if("string"==typeof e)try{e=new d(e,this.options)}catch(e){return!1}for(var t=0;t<this.set.length;t++)if(I(this.set[t],e,this.options))return!0;return!1},t.satisfies=M,t.maxSatisfying=function(e,t,n){var r=null,i=null;try{var o=new O(t,n)}catch(e){return null}return e.forEach((function(e){o.test(e)&&(r&&-1!==i.compare(e)||(i=new d(r=e,n)))})),r},t.minSatisfying=function(e,t,n){var r=null,i=null;try{var o=new O(t,n)}catch(e){return null}return e.forEach((function(e){o.test(e)&&(r&&1!==i.compare(e)||(i=new d(r=e,n)))})),r},t.minVersion=function(e,t){e=new O(e,t);var n=new d("0.0.0");if(e.test(n))return n;if(n=new d("0.0.0-0"),e.test(n))return n;n=null;for(var r=0;r<e.set.length;++r){e.set[r].forEach((function(e){var t=new d(e.semver.version);switch(e.operator){case">":0===t.prerelease.length?t.patch++:t.prerelease.push(0),t.raw=t.format();case"":case">=":n&&!m(n,t)||(n=t);break;case"<":case"<=":break;default:throw new Error("Unexpected operation: "+e.operator)}}))}if(n&&e.test(n))return n;return null},t.validRange=function(e,t){try{return new O(e,t).range||"*"}catch(e){return null}},t.ltr=function(e,t,n){return k(e,t,"<",n)},t.gtr=function(e,t,n){return k(e,t,">",n)},t.outside=k,t.prerelease=function(e,t){var n=f(e,t);return n&&n.prerelease.length?n.prerelease:null},t.intersects=function(e,t,n){return e=new O(e,n),t=new O(t,n),e.intersects(t)},t.coerce=function(e,t){if(e instanceof d)return e;"number"==typeof e&&(e=String(e));if("string"!=typeof e)return null;var n=null;if((t=t||{}).rtl){for(var r;(r=o[a.COERCERTL].exec(e))&&(!n||n.index+n[0].length!==e.length);)n&&r.index+r[0].length===n.index+n[0].length||(n=r),o[a.COERCERTL].lastIndex=r.index+r[1].length+r[2].length;o[a.COERCERTL].lastIndex=-1}else n=e.match(o[a.COERCE]);if(null===n)return null;return f(n[2]+"."+(n[3]||"0")+"."+(n[4]||"0"),t)}},function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const i=r(n(21)),o=r(n(2)),s=n(20);t.getExtensions=function(e){return function e(t,n){if(t.includes(".",1)){const r=o.default.extname(t);return n.unshift(r.slice(1)),e(o.default.basename(t,r),n)}return{basename:t,extensions:n}}(e,[])},t.normalizePath=function(e){let t=o.default.normalize(e);if("~"===t[0]&&(t=o.default.join(i.default.homedir(),t.slice(1))),s.isWindows&&/[a-z]:/.test(t)){t=t[0].toUpperCase()+t.slice(1)}return t}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(1).workspace.nvim;t.execNotifyBlock=async function(e,t=!1){if(t||r.pauseNotification(),await e(),!t)return await r.resumeNotification()}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(1),{nvim:i}=r.workspace;let o=null;t.supportSetbufline=async function(){return null===o&&(o=Boolean(await i.call("exists",["*setbufline"]))),o},t.supportBufferHighlight=function(){return!r.workspace.env.isVim||r.workspace.env.textprop},t.enableWrapscan=async function(){return!!await i.getOption("wrapscan")},t.prompt=async function(e,t,n){t||(t=["yes","no"],n="no");const r=n?t.indexOf(n):-1,o=await i.call("confirm",[e,t.map(e=>{let t=[...e].findIndex(e=>/[A-Z]/.test(e));return-1===t&&(t=0),e.slice(0,t)+"&"+e[t].toUpperCase()+e.slice(t+1)}).join("\n"),r+1]);return 0===o?null:t[o-1]||null},t.input=async function(e,t="",n){return await i.call("input",[e,t,n])||null}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(1),i=n(76),o=n(11),s=n(7),a=n(22),c=n(0),u=n(47);t.ExplorerManager=class{constructor(e){this.context=e,this.bufferName="[coc-explorer]",this.filetype="coc-explorer",this.emitterDidAutoload=new r.Emitter,this.previousBufnr=new u.GlobalContextVars("previousBufnr"),this.previousWindowID=new u.GlobalContextVars("previousWindowID"),this.maxExplorerID=0,this.tabContainer={},this.rootPathRecords=new Set,this.nvim=r.workspace.nvim,this.mappings={},this.registeredMapping=!1,this.onRegisteredMapping=new r.Emitter,this.initedState={initedCount:0,list:["onRegisteredMapping","emitterDidAutoload"]},this.onInited=new r.Emitter,this.subscriptions=e.subscriptions,this.initedState.list.forEach(e=>{this[e].event(()=>{this.initedState.initedCount+=1,this.initedState.initedCount>=this.initedState.list.length&&this.onInited.fire()})}),this.emitterDidAutoload.event(()=>{this.registerMappings().catch(s.onError)}),this.updatePreviousBufnr(r.workspace.bufnr).catch(s.onError),this.subscriptions.push(c.onBufEnter(async e=>{await this.updatePreviousBufnr(e)}))}async currentTabId(){return await this.nvim.call("coc_explorer#tab_id")}async currentTabIdMax(){return await this.nvim.call("coc_explorer#tab_id_max")}async updatePreviousBufnr(e){if(!this.bufnrs().includes(e)){if(await this.nvim.getVar("&filetype")!==this.filetype){await this.previousBufnr.set(e);const t=await this.nvim.call("bufwinid",[e]);await this.previousWindowID.set(-1===t?null:t)}}}async prevWinnrByPrevBufnr(){const e=await this.previousBufnr.get();if(!e)return null;const t=await this.nvim.call("bufwinnr",[e]);return t<=0||(await this.winnrs()).includes(t)?null:t}async prevWinnrByPrevWindowID(){const e=await this.previousWindowID.get();if(!e)return null;const t=await this.nvim.call("win_id2win",[e]);return t<=0||(await this.winnrs()).includes(t)?null:t}bufnrs(){return this.explorers().map(e=>e.bufnr)}async winnrs(){const e=await this.currentTabId(),t=[],n=this.tabContainer[e];return n&&(t.push(...n.left),t.push(...n.right),t.push(...n.tab)),(await Promise.all(t.map(e=>e.winnr))).filter(e=>null!==e)}explorers(){const e=[];for(const t of Object.values(this.tabContainer))e.push(...t.left),e.push(...t.right),e.push(...t.tab);return e}currentExplorer(){const e=r.workspace.bufnr;return this.explorers().find(t=>t.bufnr===e)}inExplorer(){return void 0!==this.currentExplorer()}async registerMappings(){this.mappings={},Object.entries(a.mappings).forEach(([e,t])=>{this.mappings[e]={},["n","v"].forEach(n=>{if("v"===n&&["o","j","k"].includes(e))return;const i=`explorer-action-${n}-${e.replace(/\<(.*)\>/,"[$1]")}`;this.subscriptions.push(r.workspace.registerKeymap([n],i,async()=>{var e;const r=await this.nvim.eval("v:count");null===(e=this.currentExplorer())||void 0===e||e.doActions(t,n,r||1).catch(s.onError)},{sync:!0})),this.mappings[e][n]=`<Plug>(coc-${i})`})}),await this.nvim.call("coc_explorer#register_mappings",[this.mappings]),this.registeredMapping=!0,this.onRegisteredMapping.fire()}async executeMappings(){await this.nvim.call("coc_explorer#execute_mappings",[this.mappings])}async clearMappings(){await this.nvim.call("coc_explorer#clear_mappings",[this.mappings])}async open(e){this.registeredMapping||await new Promise(e=>{this.onInited.event(e)});const t=await o.Args.parse(e),n=await t.value(o.argOptions.position),r="tab"===n?await this.currentTabIdMax()+1:await this.currentTabId();r in this.tabContainer||(this.tabContainer[r]={left:[],right:[],tab:[]});let s=[];"left"===n?s=this.tabContainer[r].left:"right"===n?s=this.tabContainer[r].right:"tab"===n&&(s=this.tabContainer[r].tab);const a=await this.nvim.eval('bufwinid(bufnr("%"))');let c=s[0];if(c)if(await this.nvim.call("bufexists",[c.bufnr]))if(await c.inited.get()){if(await c.win&&await t.value(o.argOptions.toggle))return void await c.quit();await c.resume(t)}else await this.nvim.command(`bwipeout! ${c.bufnr}`),c=await i.Explorer.create(this,t),s[0]=c;else c=await i.Explorer.create(this,t),s[0]=c;else c=await i.Explorer.create(this,t),s.push(c);await c.sourceWinid.set(a),await c.open(t)}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(1),i=n(22),o=n(11),s=n(77);n(78);const a=n(23),c=n(0),u=n(5),l=n(47),f=n(38),d=n(133),h=u.hlGroupManager.linkGroup.bind(u.hlGroupManager),p={line:h("HelpLine","Operator"),mappingKey:h("HelpMappingKey","PreProc"),action:h("HelpAction","Identifier"),arg:h("HelpArg","Identifier"),description:h("HelpDescription","Comment")};class g{constructor(e,t,n){this.explorerID=e,this.explorerManager=t,this.bufnr=n,this.nvim=r.workspace.nvim,this.isHelpUI=!1,this.indexesManager=new s.IndexesManager(this),this.inited=new l.BuffuerContextVars("inited",this),this.sourceWinid=new l.BuffuerContextVars("sourceWinid",this),this.globalActions={},this.floatingWindow=new d.FloatingPreview(this),this.context=t.context,c.config.get("previewAction.onHover")&&(c.onEvents("CursorMoved",async e=>{e===this.bufnr&&await this.floatingWindow.hoverPreview()}),c.onBufEnter(async e=>{e===this.bufnr?await this.floatingWindow.hoverPreview():this.floatingWindow.hoverPreviewCancel()})),this.addGlobalAction("nodePrev",async()=>{const e=await this.currentLineIndex();null!==e&&await this.gotoLineIndex(e-1,1)},"previous node",{multi:!1}),this.addGlobalAction("nodeNext",async()=>{const e=await this.currentLineIndex();null!==e&&await this.gotoLineIndex(e+1,1)},"next node",{multi:!1}),this.addGlobalAction("normal",async(e,t)=>{t&&await this.nvim.command("normal "+t)},"execute vim normal mode commands",{multi:!1}),this.addGlobalAction("quit",async()=>{await this.quit()},"quit explorer",{multi:!1}),this.addGlobalAction("preview",async(e,t)=>{const n=await this.currentSource();if(e&&e[0]&&n){const r=e[0],i=n.getLineByNode(r);await this.floatingWindow.previewNode(t||c.previewStrategy,n,r,i)}},"preview",{multi:!1}),this.addGlobalAction("gotoSource",async(e,t)=>{const n=this.sources.find(e=>e.sourceName===t);n&&await n.gotoLineIndex(0)},"go to source"),this.addGlobalAction("sourceNext",async()=>{const e=this.sources[await this.currentSourceIndex()+1];e?await e.gotoLineIndex(0):await c.enableWrapscan()&&await this.sources[0].gotoLineIndex(0)},"go to next source"),this.addGlobalAction("sourcePrev",async()=>{const e=this.sources[await this.currentSourceIndex()-1];e?await e.gotoLineIndex(0):await c.enableWrapscan()&&await this.sources[this.sources.length-1].gotoLineIndex(0)},"go to previous source"),this.addGlobalAction("diagnosticPrev",async()=>{await this.gotoPrevLineIndex("diagnosticError","diagnosticWarning")},"go to previous diagnostic"),this.addGlobalAction("diagnosticNext",async()=>{await this.gotoNextLineIndex("diagnosticError","diagnosticWarning")},"go to next diagnostic"),this.addGlobalAction("gitPrev",async()=>{await this.gotoPrevLineIndex("git")},"go to previous git changed"),this.addGlobalAction("gitNext",async()=>{await this.gotoNextLineIndex("git")},"go to next git changed")}static async create(e,t){e.maxExplorerID+=1;const n=await c.avoidOnBufEnter(async()=>{const n=await t.value(o.argOptions.position),i=await t.value(o.argOptions.width),s=await r.workspace.nvim.call("coc_explorer#create",[e.bufferName,e.maxExplorerID,n,i]);return new g(e.maxExplorerID,e,s)});return await n.inited.set(!0),n}get args(){if(!this._args)throw Error("Explorer args not initialized yet");return this._args}get sources(){if(!this._sources)throw Error("Explorer sources not initialized yet");return this._sources}get buffer(){return this._buffer||(this._buffer=this.nvim.createBuffer(this.bufnr)),this._buffer}get win(){return this.winid.then(e=>e?this.nvim.createWindow(e):null)}get winnr(){return this.nvim.call("bufwinnr",this.bufnr).then(e=>e>0?e:null)}get winid(){return this.winnr.then(async e=>{if(e){const t=await this.nvim.call("win_getid",e);return t>=0?t:null}return null})}async sourceWinnr(){const e=await this.sourceWinid.get();if(!e)return null;const t=await this.nvim.call("win_id2win",[e]);return t<=0||(await this.explorerManager.winnrs()).includes(t)?null:t}async sourceBufnrBySourceWinid(){const e=await this.sourceWinid.get();if(!e)return null;const t=await this.nvim.call("winbufnr",[e]);return t<=0?null:t}async executeHighlightSyntax(){const e=await this.winnr,t=await this.nvim.call("winnr");e&&await c.execNotifyBlock(async()=>{e!==t&&this.nvim.command(`${e}wincmd w`,!0),await u.hlGroupManager.executeHighlightSyntax(!0),e!==t&&this.nvim.command(`${t}wincmd w`,!0)})}async resume(e){const t=await this.win;if(t)await this.nvim.command(`${await t.number}wincmd w`);else{const t=await e.value(o.argOptions.position),n=await e.value(o.argOptions.width);await this.nvim.call("coc_explorer#resume",[this.bufnr,t,n])}}async open(e){this.isHelpUI&&await this.quitHelp(),await this.executeHighlightSyntax(),await this.initArgs(e),await c.execNotifyBlock(async()=>{for(const e of this.sources)await e.open(!0);await this.reloadAll({render:!1,notify:!0}),await this.renderAll({notify:!0});for(const e of this.sources)await e.opened(!0)})}async quit(){const e=await this.win;e&&await this.nvim.command(`${await e.number}wincmd q`)}async initArgs(e){this._args=e;const t=await e.value(o.argOptions.sources);t&&(this.lastArgSources&&this.lastArgSources===t.toString()||(this.lastArgSources=t.toString(),this._sources=t.map(e=>a.sourceManager.createSource(e.name,this,e.expand)).filter(e=>null!==e)),this.explorerManager.rootPathRecords.add(await this.args.rootPath()))}addGlobalAction(e,t,n,r={}){this.globalActions[e]={callback:t,description:n,options:r}}async doActions(e,t,n=1){return this._doActions||(this._doActions=c.queueAsyncFunction(async(e,t,n=1)=>{for(var r=0;r<n;r++)for(const n of e)await this.doAction(n,t);await c.execNotifyBlock(async()=>{await Promise.all(this.sources.map(async e=>e.emitRequestRenderNodes(!0)))})})),this._doActions(e,t,n)}async doAction(e,t="n"){const{nvim:n}=this,i=Date.now(),o=[],s=await r.workspace.document;if("v"===t){const e=await r.workspace.getSelectedRange("v",s);if(e)for(let t=e.start.line;t<=e.end.line;t++)o.push(t)}else{const e=await n.call("line",".")-1;o.push(e)}const a=new Map;for(const e of o){const[t]=this.findSourceByLineIndex(e);if(t){a.has(t)||a.set(t,new Set);const n=e-t.startLine;a.get(t).add(0===n?null:t.flattenedNodes[n])}}if(await Promise.all(Array.from(a.entries()).map(async([n,r])=>{r.has(null)?await n.doRootAction(e.name,e.arg):await n.doAction(e.name,Array.from(r).filter(e=>e),e.arg,t)})),c.enableDebug){let t=e.name;e.arg&&(t+=":"+e.arg),r.workspace.showMessage(`action(${t}): ${Date.now()-i}ms`,"more")}}addIndexes(e,t){this.indexesManager.addLine(e,t)}removeIndexes(e,t){this.indexesManager.removeLine(e,t)}async gotoPrevLineIndex(...e){const t=await this.indexesManager.prevLineIndex(...e);return!!t&&(await this.gotoLineIndex(t),!0)}async gotoNextLineIndex(...e){const t=await this.indexesManager.nextLineIndex(...e);return!!t&&(await this.gotoLineIndex(t),!0)}findSourceByLineIndex(e){const t=this.sources.findIndex(t=>e<t.endLine);return-1===t?[null,-1]:[this.sources[t],t]}async currentSource(){return this.sources[await this.currentSourceIndex()]}async currentSourceIndex(){const e=await this.currentLineIndex();return this.sources.findIndex(t=>e>=t.startLine&&e<t.endLine)}async currentNode(){const e=await this.currentSource();if(e){const t=await this.currentLineIndex()-e.startLine;return e.flattenedNodes[t]}}async currentCursor(){const e=await this.win;if(e){const[t,n]=await e.cursor;return{lineIndex:t-1,col:n+1}}return null}async currentLineIndex(){const e=await this.currentCursor();return e?e.lineIndex:0}async currentCol(){const e=await this.currentCursor();return e?e.col:0}async storeCursor(){const e=await this.currentCursor();let t=await this.nvim.call("winsaveview");if(t={topline:t.topline},e){const[,n]=this.findSourceByLineIndex(e.lineIndex),r=this.sources[n];if(r){const n=e.lineIndex-r.startLine,i=r.getNodeByLine(n);return async(o=!1)=>{await c.execNotifyBlock(async()=>{this.nvim.call("winrestview",[t],!0),await r.gotoNode(i,{lineIndex:n,col:e.col,notify:!0})},o)}}}return async(e=!1)=>{await c.execNotifyBlock(()=>{this.nvim.call("winrestview",t,!0)},e)}}async gotoLineIndex(e,t,n=!1){await c.execNotifyBlock(async()=>{const n=void 0===t?await this.currentCol():t,r=await this.win;r&&(r.setCursor([e+1,n-1],!0),this.explorerManager.currentExplorer()||this.nvim.command("redraw!",!0))},n)}async setLines(e,t,n,r=!1){await c.execNotifyBlock(async()=>{this.buffer.setOption("modifiable",!0,!0),await this.buffer.setLines(e,{start:t,end:n},!0),this.buffer.setOption("modifiable",!1,!0)},r)}async reloadAll({render:e=!0,notify:t=!1}={}){await c.execNotifyBlock(async()=>{await Promise.all(this.sources.map(e=>e.reload(e.rootNode,{render:!1,notify:!0}))),e&&await this.renderAll({notify:!0,storeCursor:!1})},t)}async renderAll({notify:e=!1,storeCursor:t=!1}={}){await c.execNotifyBlock(async()=>{const e=t?await this.storeCursor():null;for(const e of this.sources)await e.render({notify:!0,storeCursor:!1,force:!0});e&&await e(!0)},e)}async selectWindowsUI(e,t=(()=>{})){const n=await this.nvim.call("coc_explorer#select_wins",[this.explorerManager.bufferName,c.config.get("openAction.select.filterFloatWindows")]);n>0?await Promise.resolve(e(n)):0===n&&await Promise.resolve(t())}async showHelp(e,t){this.isHelpUI=!0;const n=new f.SourceViewBuilder,o=await this.nvim.call("winwidth","%"),s=await this.storeCursor(),a=[];a.push(await n.drawRowLine(n=>{n.add(`Help for [${e.sourceName}${t?" root":""}], (use q or <esc> return to explorer)`)})),a.push(await n.drawRowLine(e=>{e.add("—".repeat(o),p.line)}));const u=Object.assign(Object.assign({},this.globalActions),t?e.rootActions:e.actions),l=(e,t)=>{e.add(t.name,p.action),t.arg&&e.add(`(${t.arg})`,p.arg),e.add(" "),e.add(u[t.name].description,p.description)};for(const[e,t]of Object.entries(i.mappings))if(t.every(e=>e.name in u)){a.push(await n.drawRowLine(n=>{n.add(" "),n.add(e,p.mappingKey),n.add(" - "),l(n,t[0])}));for(const r of t.slice(1))a.push(await n.drawRowLine(t=>{t.add(" ".repeat(e.length+4)),l(t,r)}))}await c.execNotifyBlock(async()=>{await this.setLines(a,0,-1,!0)}),await this.explorerManager.clearMappings();const d=[];["<esc>","q"].forEach(e=>{d.push(r.workspace.registerLocalKeymap("n",e,async()=>{d.forEach(e=>e.dispose()),await this.quitHelp(),await this.renderAll({storeCursor:!1}),await s()},!0))})}async quitHelp(){await this.explorerManager.executeMappings(),this.isHelpUI=!1}}t.Explorer=g},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(0);t.IndexesManager=class{constructor(e){this.explorer=e,this.linesMap=new Map}addLine(e,t){this.linesMap.has(e)||this.linesMap.set(e,new Set),this.linesMap.get(e).add(t)}removeLine(e,t){this.linesMap.has(e)||this.linesMap.set(e,new Set),this.linesMap.get(e).delete(t)}async prevLineIndex(...e){let t=[];for(const n of e){const e=this.linesMap.get(n);t=t.concat(e?Array.from(e):[])}if(t.length){const e=await this.explorer.currentLineIndex(),n=t.sort((e,t)=>t-e),i=n.find(t=>t<e);if(i)return i;if(await r.enableWrapscan())return n[0]}return null}async nextLineIndex(...e){let t=[];for(const n of e){const e=this.linesMap.get(n);t=t.concat(e?Array.from(e):[])}if(t.length){const e=await this.explorer.currentLineIndex(),n=t.sort((e,t)=>e-t),i=n.find(t=>t>e);if(i)return i;if(await r.enableWrapscan())return n[0]}return null}removeLines(e,t=1/0){if(Array.isArray(e))this.linesMap.forEach(t=>{e.forEach(e=>{t.delete(e)})});else{const n=e;this.linesMap.forEach(e=>{e.forEach(r=>{n<=r&&r<=t&&e.delete(r)})})}}offsetLines(e,t,n=1/0){this.linesMap.forEach((r,i)=>{const o=new Set;r.forEach(r=>{o.add(t<=r&&r<=n?r+e:r)}),this.linesMap.set(i,o)})}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),n(12),n(4)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(1),i=n(7);class o extends r.BasicList{constructor(e){super(e),this.defaultAction="do",this.name="explorerActions",this.explorerActions=[],this.addAction("do",e=>{new Promise(async t=>{e.data.root?await e.data.callback():await e.data.callback(e.data.nodes),t()}).catch(i.onError)})}setExplorerActions(e){this.explorerActions=e}async loadItems(){return this.explorerActions.map(e=>({label:`${e.name} [${e.key||""}] ${e.description}`,data:{root:e.root,callback:e.callback,nodes:e.nodes}}))}doHighlight(){const{nvim:e}=this;e.pauseNotification(),e.command("syntax match CocExplorerActionName /\\v^\\w+/",!0),e.command("syntax match CocExplorerActionKey /\\v\\[.*\\]/",!0),e.command("syntax match CocExplorerActionDescription /\\v\\] \\zs.*/",!0),e.command("highlight default link CocExplorerActionName PreProc",!0),e.command("highlight default link CocExplorerActionKey Identifier",!0),e.command("highlight default link CocExplorerActionDescription Comment",!0),e.resumeNotification().catch(i.onError)}}t.ExplorerActionList=o,t.explorerActionList=new o(r.workspace.nvim)},function(e,t,n){"use strict";const r=n(81),i=async(e,t,n)=>{return(await r(e,(e,n)=>Promise.all([t(e,n),e]),n)).filter(e=>Boolean(e[0])).map(e=>e[1])};e.exports=i,e.exports.default=i},function(e,t,n){"use strict";const r=(e,t,n)=>new Promise((r,i)=>{if(n=Object.assign({concurrency:1/0},n),"function"!=typeof t)throw new TypeError("Mapper function is required");const{concurrency:o}=n;if(!("number"==typeof o&&o>=1))throw new TypeError(`Expected \`concurrency\` to be a number from 1 and up, got \`${o}\` (${typeof o})`);const s=[],a=e[Symbol.iterator]();let c=!1,u=!1,l=0,f=0;const d=()=>{if(c)return;const e=a.next(),n=f;if(f++,e.done)return u=!0,void(0===l&&r(s));l++,Promise.resolve(e.value).then(e=>t(e,n)).then(e=>{s[n]=e,l--,d()},e=>{c=!0,i(e)})};for(let e=0;e<o&&(d(),!u);e++);});e.exports=r,e.exports.default=r},function(e,t,n){(function(e){var r;
/**
 * @license
 * Lodash <https://lodash.com/>
 * Copyright OpenJS Foundation and other contributors <https://openjsf.org/>
 * Released under MIT license <https://lodash.com/license>
 * Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>
 * Copyright Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors
 */(function(){var i,o=200,s="Unsupported core-js use. Try https://npms.io/search?q=ponyfill.",a="Expected a function",c="__lodash_hash_undefined__",u=500,l="__lodash_placeholder__",f=1,d=2,h=4,p=1,g=2,m=1,v=2,y=4,w=8,b=16,_=32,x=64,E=128,R=256,O=512,C=30,N="...",S=800,I=16,M=1,k=2,A=1/0,T=9007199254740991,L=17976931348623157e292,j=NaN,P=4294967295,D=P-1,q=P>>>1,$=[["ary",E],["bind",m],["bindKey",v],["curry",w],["curryRight",b],["flip",O],["partial",_],["partialRight",x],["rearg",R]],F="[object Arguments]",B="[object Array]",W="[object AsyncFunction]",H="[object Boolean]",G="[object Date]",z="[object DOMException]",U="[object Error]",V="[object Function]",K="[object GeneratorFunction]",X="[object Map]",Y="[object Number]",J="[object Null]",Z="[object Object]",Q="[object Proxy]",ee="[object RegExp]",te="[object Set]",ne="[object String]",re="[object Symbol]",ie="[object Undefined]",oe="[object WeakMap]",se="[object WeakSet]",ae="[object ArrayBuffer]",ce="[object DataView]",ue="[object Float32Array]",le="[object Float64Array]",fe="[object Int8Array]",de="[object Int16Array]",he="[object Int32Array]",pe="[object Uint8Array]",ge="[object Uint8ClampedArray]",me="[object Uint16Array]",ve="[object Uint32Array]",ye=/\b__p \+= '';/g,we=/\b(__p \+=) '' \+/g,be=/(__e\(.*?\)|\b__t\)) \+\n'';/g,_e=/&(?:amp|lt|gt|quot|#39);/g,xe=/[&<>"']/g,Ee=RegExp(_e.source),Re=RegExp(xe.source),Oe=/<%-([\s\S]+?)%>/g,Ce=/<%([\s\S]+?)%>/g,Ne=/<%=([\s\S]+?)%>/g,Se=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,Ie=/^\w*$/,Me=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,ke=/[\\^$.*+?()[\]{}|]/g,Ae=RegExp(ke.source),Te=/^\s+|\s+$/g,Le=/^\s+/,je=/\s+$/,Pe=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,De=/\{\n\/\* \[wrapped with (.+)\] \*/,qe=/,? & /,$e=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,Fe=/\\(\\)?/g,Be=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,We=/\w*$/,He=/^[-+]0x[0-9a-f]+$/i,Ge=/^0b[01]+$/i,ze=/^\[object .+?Constructor\]$/,Ue=/^0o[0-7]+$/i,Ve=/^(?:0|[1-9]\d*)$/,Ke=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,Xe=/($^)/,Ye=/['\n\r\u2028\u2029\\]/g,Je="\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff",Ze="\\xac\\xb1\\xd7\\xf7\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf\\u2000-\\u206f \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",Qe="[\\ud800-\\udfff]",et="["+Ze+"]",tt="["+Je+"]",nt="\\d+",rt="[\\u2700-\\u27bf]",it="[a-z\\xdf-\\xf6\\xf8-\\xff]",ot="[^\\ud800-\\udfff"+Ze+nt+"\\u2700-\\u27bfa-z\\xdf-\\xf6\\xf8-\\xffA-Z\\xc0-\\xd6\\xd8-\\xde]",st="\\ud83c[\\udffb-\\udfff]",at="[^\\ud800-\\udfff]",ct="(?:\\ud83c[\\udde6-\\uddff]){2}",ut="[\\ud800-\\udbff][\\udc00-\\udfff]",lt="[A-Z\\xc0-\\xd6\\xd8-\\xde]",ft="(?:"+it+"|"+ot+")",dt="(?:"+lt+"|"+ot+")",ht="(?:"+tt+"|"+st+")"+"?",pt="[\\ufe0e\\ufe0f]?"+ht+("(?:\\u200d(?:"+[at,ct,ut].join("|")+")[\\ufe0e\\ufe0f]?"+ht+")*"),gt="(?:"+[rt,ct,ut].join("|")+")"+pt,mt="(?:"+[at+tt+"?",tt,ct,ut,Qe].join("|")+")",vt=RegExp("['’]","g"),yt=RegExp(tt,"g"),wt=RegExp(st+"(?="+st+")|"+mt+pt,"g"),bt=RegExp([lt+"?"+it+"+(?:['’](?:d|ll|m|re|s|t|ve))?(?="+[et,lt,"$"].join("|")+")",dt+"+(?:['’](?:D|LL|M|RE|S|T|VE))?(?="+[et,lt+ft,"$"].join("|")+")",lt+"?"+ft+"+(?:['’](?:d|ll|m|re|s|t|ve))?",lt+"+(?:['’](?:D|LL|M|RE|S|T|VE))?","\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])","\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",nt,gt].join("|"),"g"),_t=RegExp("[\\u200d\\ud800-\\udfff"+Je+"\\ufe0e\\ufe0f]"),xt=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,Et=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],Rt=-1,Ot={};Ot[ue]=Ot[le]=Ot[fe]=Ot[de]=Ot[he]=Ot[pe]=Ot[ge]=Ot[me]=Ot[ve]=!0,Ot[F]=Ot[B]=Ot[ae]=Ot[H]=Ot[ce]=Ot[G]=Ot[U]=Ot[V]=Ot[X]=Ot[Y]=Ot[Z]=Ot[ee]=Ot[te]=Ot[ne]=Ot[oe]=!1;var Ct={};Ct[F]=Ct[B]=Ct[ae]=Ct[ce]=Ct[H]=Ct[G]=Ct[ue]=Ct[le]=Ct[fe]=Ct[de]=Ct[he]=Ct[X]=Ct[Y]=Ct[Z]=Ct[ee]=Ct[te]=Ct[ne]=Ct[re]=Ct[pe]=Ct[ge]=Ct[me]=Ct[ve]=!0,Ct[U]=Ct[V]=Ct[oe]=!1;var Nt={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},St=parseFloat,It=parseInt,Mt="object"==typeof global&&global&&global.Object===Object&&global,kt="object"==typeof self&&self&&self.Object===Object&&self,At=Mt||kt||Function("return this")(),Tt=t&&!t.nodeType&&t,Lt=Tt&&"object"==typeof e&&e&&!e.nodeType&&e,jt=Lt&&Lt.exports===Tt,Pt=jt&&Mt.process,Dt=function(){try{var e=Lt&&Lt.require&&Lt.require("util").types;return e||Pt&&Pt.binding&&Pt.binding("util")}catch(e){}}(),qt=Dt&&Dt.isArrayBuffer,$t=Dt&&Dt.isDate,Ft=Dt&&Dt.isMap,Bt=Dt&&Dt.isRegExp,Wt=Dt&&Dt.isSet,Ht=Dt&&Dt.isTypedArray;function Gt(e,t,n){switch(n.length){case 0:return e.call(t);case 1:return e.call(t,n[0]);case 2:return e.call(t,n[0],n[1]);case 3:return e.call(t,n[0],n[1],n[2])}return e.apply(t,n)}function zt(e,t,n,r){for(var i=-1,o=null==e?0:e.length;++i<o;){var s=e[i];t(r,s,n(s),e)}return r}function Ut(e,t){for(var n=-1,r=null==e?0:e.length;++n<r&&!1!==t(e[n],n,e););return e}function Vt(e,t){for(var n=null==e?0:e.length;n--&&!1!==t(e[n],n,e););return e}function Kt(e,t){for(var n=-1,r=null==e?0:e.length;++n<r;)if(!t(e[n],n,e))return!1;return!0}function Xt(e,t){for(var n=-1,r=null==e?0:e.length,i=0,o=[];++n<r;){var s=e[n];t(s,n,e)&&(o[i++]=s)}return o}function Yt(e,t){return!!(null==e?0:e.length)&&an(e,t,0)>-1}function Jt(e,t,n){for(var r=-1,i=null==e?0:e.length;++r<i;)if(n(t,e[r]))return!0;return!1}function Zt(e,t){for(var n=-1,r=null==e?0:e.length,i=Array(r);++n<r;)i[n]=t(e[n],n,e);return i}function Qt(e,t){for(var n=-1,r=t.length,i=e.length;++n<r;)e[i+n]=t[n];return e}function en(e,t,n,r){var i=-1,o=null==e?0:e.length;for(r&&o&&(n=e[++i]);++i<o;)n=t(n,e[i],i,e);return n}function tn(e,t,n,r){var i=null==e?0:e.length;for(r&&i&&(n=e[--i]);i--;)n=t(n,e[i],i,e);return n}function nn(e,t){for(var n=-1,r=null==e?0:e.length;++n<r;)if(t(e[n],n,e))return!0;return!1}var rn=fn("length");function on(e,t,n){var r;return n(e,(function(e,n,i){if(t(e,n,i))return r=n,!1})),r}function sn(e,t,n,r){for(var i=e.length,o=n+(r?1:-1);r?o--:++o<i;)if(t(e[o],o,e))return o;return-1}function an(e,t,n){return t==t?function(e,t,n){var r=n-1,i=e.length;for(;++r<i;)if(e[r]===t)return r;return-1}(e,t,n):sn(e,un,n)}function cn(e,t,n,r){for(var i=n-1,o=e.length;++i<o;)if(r(e[i],t))return i;return-1}function un(e){return e!=e}function ln(e,t){var n=null==e?0:e.length;return n?pn(e,t)/n:j}function fn(e){return function(t){return null==t?i:t[e]}}function dn(e){return function(t){return null==e?i:e[t]}}function hn(e,t,n,r,i){return i(e,(function(e,i,o){n=r?(r=!1,e):t(n,e,i,o)})),n}function pn(e,t){for(var n,r=-1,o=e.length;++r<o;){var s=t(e[r]);s!==i&&(n=n===i?s:n+s)}return n}function gn(e,t){for(var n=-1,r=Array(e);++n<e;)r[n]=t(n);return r}function mn(e){return function(t){return e(t)}}function vn(e,t){return Zt(t,(function(t){return e[t]}))}function yn(e,t){return e.has(t)}function wn(e,t){for(var n=-1,r=e.length;++n<r&&an(t,e[n],0)>-1;);return n}function bn(e,t){for(var n=e.length;n--&&an(t,e[n],0)>-1;);return n}var _n=dn({"À":"A","Á":"A","Â":"A","Ã":"A","Ä":"A","Å":"A","à":"a","á":"a","â":"a","ã":"a","ä":"a","å":"a","Ç":"C","ç":"c","Ð":"D","ð":"d","È":"E","É":"E","Ê":"E","Ë":"E","è":"e","é":"e","ê":"e","ë":"e","Ì":"I","Í":"I","Î":"I","Ï":"I","ì":"i","í":"i","î":"i","ï":"i","Ñ":"N","ñ":"n","Ò":"O","Ó":"O","Ô":"O","Õ":"O","Ö":"O","Ø":"O","ò":"o","ó":"o","ô":"o","õ":"o","ö":"o","ø":"o","Ù":"U","Ú":"U","Û":"U","Ü":"U","ù":"u","ú":"u","û":"u","ü":"u","Ý":"Y","ý":"y","ÿ":"y","Æ":"Ae","æ":"ae","Þ":"Th","þ":"th","ß":"ss","Ā":"A","Ă":"A","Ą":"A","ā":"a","ă":"a","ą":"a","Ć":"C","Ĉ":"C","Ċ":"C","Č":"C","ć":"c","ĉ":"c","ċ":"c","č":"c","Ď":"D","Đ":"D","ď":"d","đ":"d","Ē":"E","Ĕ":"E","Ė":"E","Ę":"E","Ě":"E","ē":"e","ĕ":"e","ė":"e","ę":"e","ě":"e","Ĝ":"G","Ğ":"G","Ġ":"G","Ģ":"G","ĝ":"g","ğ":"g","ġ":"g","ģ":"g","Ĥ":"H","Ħ":"H","ĥ":"h","ħ":"h","Ĩ":"I","Ī":"I","Ĭ":"I","Į":"I","İ":"I","ĩ":"i","ī":"i","ĭ":"i","į":"i","ı":"i","Ĵ":"J","ĵ":"j","Ķ":"K","ķ":"k","ĸ":"k","Ĺ":"L","Ļ":"L","Ľ":"L","Ŀ":"L","Ł":"L","ĺ":"l","ļ":"l","ľ":"l","ŀ":"l","ł":"l","Ń":"N","Ņ":"N","Ň":"N","Ŋ":"N","ń":"n","ņ":"n","ň":"n","ŋ":"n","Ō":"O","Ŏ":"O","Ő":"O","ō":"o","ŏ":"o","ő":"o","Ŕ":"R","Ŗ":"R","Ř":"R","ŕ":"r","ŗ":"r","ř":"r","Ś":"S","Ŝ":"S","Ş":"S","Š":"S","ś":"s","ŝ":"s","ş":"s","š":"s","Ţ":"T","Ť":"T","Ŧ":"T","ţ":"t","ť":"t","ŧ":"t","Ũ":"U","Ū":"U","Ŭ":"U","Ů":"U","Ű":"U","Ų":"U","ũ":"u","ū":"u","ŭ":"u","ů":"u","ű":"u","ų":"u","Ŵ":"W","ŵ":"w","Ŷ":"Y","ŷ":"y","Ÿ":"Y","Ź":"Z","Ż":"Z","Ž":"Z","ź":"z","ż":"z","ž":"z","Ĳ":"IJ","ĳ":"ij","Œ":"Oe","œ":"oe","ŉ":"'n","ſ":"s"}),xn=dn({"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"});function En(e){return"\\"+Nt[e]}function Rn(e){return _t.test(e)}function On(e){var t=-1,n=Array(e.size);return e.forEach((function(e,r){n[++t]=[r,e]})),n}function Cn(e,t){return function(n){return e(t(n))}}function Nn(e,t){for(var n=-1,r=e.length,i=0,o=[];++n<r;){var s=e[n];s!==t&&s!==l||(e[n]=l,o[i++]=n)}return o}function Sn(e){var t=-1,n=Array(e.size);return e.forEach((function(e){n[++t]=e})),n}function In(e){var t=-1,n=Array(e.size);return e.forEach((function(e){n[++t]=[e,e]})),n}function Mn(e){return Rn(e)?function(e){var t=wt.lastIndex=0;for(;wt.test(e);)++t;return t}(e):rn(e)}function kn(e){return Rn(e)?function(e){return e.match(wt)||[]}(e):function(e){return e.split("")}(e)}var An=dn({"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"});var Tn=function e(t){var n,r=(t=null==t?At:Tn.defaults(At.Object(),t,Tn.pick(At,Et))).Array,Je=t.Date,Ze=t.Error,Qe=t.Function,et=t.Math,tt=t.Object,nt=t.RegExp,rt=t.String,it=t.TypeError,ot=r.prototype,st=Qe.prototype,at=tt.prototype,ct=t["__core-js_shared__"],ut=st.toString,lt=at.hasOwnProperty,ft=0,dt=(n=/[^.]+$/.exec(ct&&ct.keys&&ct.keys.IE_PROTO||""))?"Symbol(src)_1."+n:"",ht=at.toString,pt=ut.call(tt),gt=At._,mt=nt("^"+ut.call(lt).replace(ke,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),wt=jt?t.Buffer:i,_t=t.Symbol,Nt=t.Uint8Array,Mt=wt?wt.allocUnsafe:i,kt=Cn(tt.getPrototypeOf,tt),Tt=tt.create,Lt=at.propertyIsEnumerable,Pt=ot.splice,Dt=_t?_t.isConcatSpreadable:i,rn=_t?_t.iterator:i,dn=_t?_t.toStringTag:i,Ln=function(){try{var e=$o(tt,"defineProperty");return e({},"",{}),e}catch(e){}}(),jn=t.clearTimeout!==At.clearTimeout&&t.clearTimeout,Pn=Je&&Je.now!==At.Date.now&&Je.now,Dn=t.setTimeout!==At.setTimeout&&t.setTimeout,qn=et.ceil,$n=et.floor,Fn=tt.getOwnPropertySymbols,Bn=wt?wt.isBuffer:i,Wn=t.isFinite,Hn=ot.join,Gn=Cn(tt.keys,tt),zn=et.max,Un=et.min,Vn=Je.now,Kn=t.parseInt,Xn=et.random,Yn=ot.reverse,Jn=$o(t,"DataView"),Zn=$o(t,"Map"),Qn=$o(t,"Promise"),er=$o(t,"Set"),tr=$o(t,"WeakMap"),nr=$o(tt,"create"),rr=tr&&new tr,ir={},or=fs(Jn),sr=fs(Zn),ar=fs(Qn),cr=fs(er),ur=fs(tr),lr=_t?_t.prototype:i,fr=lr?lr.valueOf:i,dr=lr?lr.toString:i;function hr(e){if(Sa(e)&&!va(e)&&!(e instanceof vr)){if(e instanceof mr)return e;if(lt.call(e,"__wrapped__"))return ds(e)}return new mr(e)}var pr=function(){function e(){}return function(t){if(!Na(t))return{};if(Tt)return Tt(t);e.prototype=t;var n=new e;return e.prototype=i,n}}();function gr(){}function mr(e,t){this.__wrapped__=e,this.__actions__=[],this.__chain__=!!t,this.__index__=0,this.__values__=i}function vr(e){this.__wrapped__=e,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=P,this.__views__=[]}function yr(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function wr(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function br(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function _r(e){var t=-1,n=null==e?0:e.length;for(this.__data__=new br;++t<n;)this.add(e[t])}function xr(e){var t=this.__data__=new wr(e);this.size=t.size}function Er(e,t){var n=va(e),r=!n&&ma(e),i=!n&&!r&&_a(e),o=!n&&!r&&!i&&Pa(e),s=n||r||i||o,a=s?gn(e.length,rt):[],c=a.length;for(var u in e)!t&&!lt.call(e,u)||s&&("length"==u||i&&("offset"==u||"parent"==u)||o&&("buffer"==u||"byteLength"==u||"byteOffset"==u)||Uo(u,c))||a.push(u);return a}function Rr(e){var t=e.length;return t?e[_i(0,t-1)]:i}function Or(e,t){return cs(no(e),Lr(t,0,e.length))}function Cr(e){return cs(no(e))}function Nr(e,t,n){(n===i||ha(e[t],n))&&(n!==i||t in e)||Ar(e,t,n)}function Sr(e,t,n){var r=e[t];lt.call(e,t)&&ha(r,n)&&(n!==i||t in e)||Ar(e,t,n)}function Ir(e,t){for(var n=e.length;n--;)if(ha(e[n][0],t))return n;return-1}function Mr(e,t,n,r){return $r(e,(function(e,i,o){t(r,e,n(e),o)})),r}function kr(e,t){return e&&ro(t,ic(t),e)}function Ar(e,t,n){"__proto__"==t&&Ln?Ln(e,t,{configurable:!0,enumerable:!0,value:n,writable:!0}):e[t]=n}function Tr(e,t){for(var n=-1,o=t.length,s=r(o),a=null==e;++n<o;)s[n]=a?i:Qa(e,t[n]);return s}function Lr(e,t,n){return e==e&&(n!==i&&(e=e<=n?e:n),t!==i&&(e=e>=t?e:t)),e}function jr(e,t,n,r,o,s){var a,c=t&f,u=t&d,l=t&h;if(n&&(a=o?n(e,r,o,s):n(e)),a!==i)return a;if(!Na(e))return e;var p=va(e);if(p){if(a=function(e){var t=e.length,n=new e.constructor(t);t&&"string"==typeof e[0]&&lt.call(e,"index")&&(n.index=e.index,n.input=e.input);return n}(e),!c)return no(e,a)}else{var g=Wo(e),m=g==V||g==K;if(_a(e))return Yi(e,c);if(g==Z||g==F||m&&!o){if(a=u||m?{}:Go(e),!c)return u?function(e,t){return ro(e,Bo(e),t)}(e,function(e,t){return e&&ro(t,oc(t),e)}(a,e)):function(e,t){return ro(e,Fo(e),t)}(e,kr(a,e))}else{if(!Ct[g])return o?e:{};a=function(e,t,n){var r=e.constructor;switch(t){case ae:return Ji(e);case H:case G:return new r(+e);case ce:return function(e,t){var n=t?Ji(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.byteLength)}(e,n);case ue:case le:case fe:case de:case he:case pe:case ge:case me:case ve:return Zi(e,n);case X:return new r;case Y:case ne:return new r(e);case ee:return function(e){var t=new e.constructor(e.source,We.exec(e));return t.lastIndex=e.lastIndex,t}(e);case te:return new r;case re:return i=e,fr?tt(fr.call(i)):{}}var i}(e,g,c)}}s||(s=new xr);var v=s.get(e);if(v)return v;s.set(e,a),Ta(e)?e.forEach((function(r){a.add(jr(r,t,n,r,e,s))})):Ia(e)&&e.forEach((function(r,i){a.set(i,jr(r,t,n,i,e,s))}));var y=p?i:(l?u?Ao:ko:u?oc:ic)(e);return Ut(y||e,(function(r,i){y&&(r=e[i=r]),Sr(a,i,jr(r,t,n,i,e,s))})),a}function Pr(e,t,n){var r=n.length;if(null==e)return!r;for(e=tt(e);r--;){var o=n[r],s=t[o],a=e[o];if(a===i&&!(o in e)||!s(a))return!1}return!0}function Dr(e,t,n){if("function"!=typeof e)throw new it(a);return is((function(){e.apply(i,n)}),t)}function qr(e,t,n,r){var i=-1,s=Yt,a=!0,c=e.length,u=[],l=t.length;if(!c)return u;n&&(t=Zt(t,mn(n))),r?(s=Jt,a=!1):t.length>=o&&(s=yn,a=!1,t=new _r(t));e:for(;++i<c;){var f=e[i],d=null==n?f:n(f);if(f=r||0!==f?f:0,a&&d==d){for(var h=l;h--;)if(t[h]===d)continue e;u.push(f)}else s(t,d,r)||u.push(f)}return u}hr.templateSettings={escape:Oe,evaluate:Ce,interpolate:Ne,variable:"",imports:{_:hr}},hr.prototype=gr.prototype,hr.prototype.constructor=hr,mr.prototype=pr(gr.prototype),mr.prototype.constructor=mr,vr.prototype=pr(gr.prototype),vr.prototype.constructor=vr,yr.prototype.clear=function(){this.__data__=nr?nr(null):{},this.size=0},yr.prototype.delete=function(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t},yr.prototype.get=function(e){var t=this.__data__;if(nr){var n=t[e];return n===c?i:n}return lt.call(t,e)?t[e]:i},yr.prototype.has=function(e){var t=this.__data__;return nr?t[e]!==i:lt.call(t,e)},yr.prototype.set=function(e,t){var n=this.__data__;return this.size+=this.has(e)?0:1,n[e]=nr&&t===i?c:t,this},wr.prototype.clear=function(){this.__data__=[],this.size=0},wr.prototype.delete=function(e){var t=this.__data__,n=Ir(t,e);return!(n<0)&&(n==t.length-1?t.pop():Pt.call(t,n,1),--this.size,!0)},wr.prototype.get=function(e){var t=this.__data__,n=Ir(t,e);return n<0?i:t[n][1]},wr.prototype.has=function(e){return Ir(this.__data__,e)>-1},wr.prototype.set=function(e,t){var n=this.__data__,r=Ir(n,e);return r<0?(++this.size,n.push([e,t])):n[r][1]=t,this},br.prototype.clear=function(){this.size=0,this.__data__={hash:new yr,map:new(Zn||wr),string:new yr}},br.prototype.delete=function(e){var t=Do(this,e).delete(e);return this.size-=t?1:0,t},br.prototype.get=function(e){return Do(this,e).get(e)},br.prototype.has=function(e){return Do(this,e).has(e)},br.prototype.set=function(e,t){var n=Do(this,e),r=n.size;return n.set(e,t),this.size+=n.size==r?0:1,this},_r.prototype.add=_r.prototype.push=function(e){return this.__data__.set(e,c),this},_r.prototype.has=function(e){return this.__data__.has(e)},xr.prototype.clear=function(){this.__data__=new wr,this.size=0},xr.prototype.delete=function(e){var t=this.__data__,n=t.delete(e);return this.size=t.size,n},xr.prototype.get=function(e){return this.__data__.get(e)},xr.prototype.has=function(e){return this.__data__.has(e)},xr.prototype.set=function(e,t){var n=this.__data__;if(n instanceof wr){var r=n.__data__;if(!Zn||r.length<o-1)return r.push([e,t]),this.size=++n.size,this;n=this.__data__=new br(r)}return n.set(e,t),this.size=n.size,this};var $r=so(Vr),Fr=so(Kr,!0);function Br(e,t){var n=!0;return $r(e,(function(e,r,i){return n=!!t(e,r,i)})),n}function Wr(e,t,n){for(var r=-1,o=e.length;++r<o;){var s=e[r],a=t(s);if(null!=a&&(c===i?a==a&&!ja(a):n(a,c)))var c=a,u=s}return u}function Hr(e,t){var n=[];return $r(e,(function(e,r,i){t(e,r,i)&&n.push(e)})),n}function Gr(e,t,n,r,i){var o=-1,s=e.length;for(n||(n=zo),i||(i=[]);++o<s;){var a=e[o];t>0&&n(a)?t>1?Gr(a,t-1,n,r,i):Qt(i,a):r||(i[i.length]=a)}return i}var zr=ao(),Ur=ao(!0);function Vr(e,t){return e&&zr(e,t,ic)}function Kr(e,t){return e&&Ur(e,t,ic)}function Xr(e,t){return Xt(t,(function(t){return Ra(e[t])}))}function Yr(e,t){for(var n=0,r=(t=Ui(t,e)).length;null!=e&&n<r;)e=e[ls(t[n++])];return n&&n==r?e:i}function Jr(e,t,n){var r=t(e);return va(e)?r:Qt(r,n(e))}function Zr(e){return null==e?e===i?ie:J:dn&&dn in tt(e)?function(e){var t=lt.call(e,dn),n=e[dn];try{e[dn]=i;var r=!0}catch(e){}var o=ht.call(e);r&&(t?e[dn]=n:delete e[dn]);return o}(e):function(e){return ht.call(e)}(e)}function Qr(e,t){return e>t}function ei(e,t){return null!=e&&lt.call(e,t)}function ti(e,t){return null!=e&&t in tt(e)}function ni(e,t,n){for(var o=n?Jt:Yt,s=e[0].length,a=e.length,c=a,u=r(a),l=1/0,f=[];c--;){var d=e[c];c&&t&&(d=Zt(d,mn(t))),l=Un(d.length,l),u[c]=!n&&(t||s>=120&&d.length>=120)?new _r(c&&d):i}d=e[0];var h=-1,p=u[0];e:for(;++h<s&&f.length<l;){var g=d[h],m=t?t(g):g;if(g=n||0!==g?g:0,!(p?yn(p,m):o(f,m,n))){for(c=a;--c;){var v=u[c];if(!(v?yn(v,m):o(e[c],m,n)))continue e}p&&p.push(m),f.push(g)}}return f}function ri(e,t,n){var r=null==(e=ts(e,t=Ui(t,e)))?e:e[ls(Es(t))];return null==r?i:Gt(r,e,n)}function ii(e){return Sa(e)&&Zr(e)==F}function oi(e,t,n,r,o){return e===t||(null==e||null==t||!Sa(e)&&!Sa(t)?e!=e&&t!=t:function(e,t,n,r,o,s){var a=va(e),c=va(t),u=a?B:Wo(e),l=c?B:Wo(t),f=(u=u==F?Z:u)==Z,d=(l=l==F?Z:l)==Z,h=u==l;if(h&&_a(e)){if(!_a(t))return!1;a=!0,f=!1}if(h&&!f)return s||(s=new xr),a||Pa(e)?Io(e,t,n,r,o,s):function(e,t,n,r,i,o,s){switch(n){case ce:if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case ae:return!(e.byteLength!=t.byteLength||!o(new Nt(e),new Nt(t)));case H:case G:case Y:return ha(+e,+t);case U:return e.name==t.name&&e.message==t.message;case ee:case ne:return e==t+"";case X:var a=On;case te:var c=r&p;if(a||(a=Sn),e.size!=t.size&&!c)return!1;var u=s.get(e);if(u)return u==t;r|=g,s.set(e,t);var l=Io(a(e),a(t),r,i,o,s);return s.delete(e),l;case re:if(fr)return fr.call(e)==fr.call(t)}return!1}(e,t,u,n,r,o,s);if(!(n&p)){var m=f&&lt.call(e,"__wrapped__"),v=d&&lt.call(t,"__wrapped__");if(m||v){var y=m?e.value():e,w=v?t.value():t;return s||(s=new xr),o(y,w,n,r,s)}}if(!h)return!1;return s||(s=new xr),function(e,t,n,r,o,s){var a=n&p,c=ko(e),u=c.length,l=ko(t).length;if(u!=l&&!a)return!1;var f=u;for(;f--;){var d=c[f];if(!(a?d in t:lt.call(t,d)))return!1}var h=s.get(e);if(h&&s.get(t))return h==t;var g=!0;s.set(e,t),s.set(t,e);var m=a;for(;++f<u;){d=c[f];var v=e[d],y=t[d];if(r)var w=a?r(y,v,d,t,e,s):r(v,y,d,e,t,s);if(!(w===i?v===y||o(v,y,n,r,s):w)){g=!1;break}m||(m="constructor"==d)}if(g&&!m){var b=e.constructor,_=t.constructor;b!=_&&"constructor"in e&&"constructor"in t&&!("function"==typeof b&&b instanceof b&&"function"==typeof _&&_ instanceof _)&&(g=!1)}return s.delete(e),s.delete(t),g}(e,t,n,r,o,s)}(e,t,n,r,oi,o))}function si(e,t,n,r){var o=n.length,s=o,a=!r;if(null==e)return!s;for(e=tt(e);o--;){var c=n[o];if(a&&c[2]?c[1]!==e[c[0]]:!(c[0]in e))return!1}for(;++o<s;){var u=(c=n[o])[0],l=e[u],f=c[1];if(a&&c[2]){if(l===i&&!(u in e))return!1}else{var d=new xr;if(r)var h=r(l,f,u,e,t,d);if(!(h===i?oi(f,l,p|g,r,d):h))return!1}}return!0}function ai(e){return!(!Na(e)||(t=e,dt&&dt in t))&&(Ra(e)?mt:ze).test(fs(e));var t}function ci(e){return"function"==typeof e?e:null==e?Mc:"object"==typeof e?va(e)?pi(e[0],e[1]):hi(e):$c(e)}function ui(e){if(!Jo(e))return Gn(e);var t=[];for(var n in tt(e))lt.call(e,n)&&"constructor"!=n&&t.push(n);return t}function li(e){if(!Na(e))return function(e){var t=[];if(null!=e)for(var n in tt(e))t.push(n);return t}(e);var t=Jo(e),n=[];for(var r in e)("constructor"!=r||!t&&lt.call(e,r))&&n.push(r);return n}function fi(e,t){return e<t}function di(e,t){var n=-1,i=wa(e)?r(e.length):[];return $r(e,(function(e,r,o){i[++n]=t(e,r,o)})),i}function hi(e){var t=qo(e);return 1==t.length&&t[0][2]?Qo(t[0][0],t[0][1]):function(n){return n===e||si(n,e,t)}}function pi(e,t){return Ko(e)&&Zo(t)?Qo(ls(e),t):function(n){var r=Qa(n,e);return r===i&&r===t?ec(n,e):oi(t,r,p|g)}}function gi(e,t,n,r,o){e!==t&&zr(t,(function(s,a){if(o||(o=new xr),Na(s))!function(e,t,n,r,o,s,a){var c=ns(e,n),u=ns(t,n),l=a.get(u);if(l)return void Nr(e,n,l);var f=s?s(c,u,n+"",e,t,a):i,d=f===i;if(d){var h=va(u),p=!h&&_a(u),g=!h&&!p&&Pa(u);f=u,h||p||g?va(c)?f=c:ba(c)?f=no(c):p?(d=!1,f=Yi(u,!0)):g?(d=!1,f=Zi(u,!0)):f=[]:ka(u)||ma(u)?(f=c,ma(c)?f=Ga(c):Na(c)&&!Ra(c)||(f=Go(u))):d=!1}d&&(a.set(u,f),o(f,u,r,s,a),a.delete(u));Nr(e,n,f)}(e,t,a,n,gi,r,o);else{var c=r?r(ns(e,a),s,a+"",e,t,o):i;c===i&&(c=s),Nr(e,a,c)}}),oc)}function mi(e,t){var n=e.length;if(n)return Uo(t+=t<0?n:0,n)?e[t]:i}function vi(e,t,n){var r=-1;return t=Zt(t.length?t:[Mc],mn(Po())),function(e,t){var n=e.length;for(e.sort(t);n--;)e[n]=e[n].value;return e}(di(e,(function(e,n,i){return{criteria:Zt(t,(function(t){return t(e)})),index:++r,value:e}})),(function(e,t){return function(e,t,n){var r=-1,i=e.criteria,o=t.criteria,s=i.length,a=n.length;for(;++r<s;){var c=Qi(i[r],o[r]);if(c){if(r>=a)return c;var u=n[r];return c*("desc"==u?-1:1)}}return e.index-t.index}(e,t,n)}))}function yi(e,t,n){for(var r=-1,i=t.length,o={};++r<i;){var s=t[r],a=Yr(e,s);n(a,s)&&Ci(o,Ui(s,e),a)}return o}function wi(e,t,n,r){var i=r?cn:an,o=-1,s=t.length,a=e;for(e===t&&(t=no(t)),n&&(a=Zt(e,mn(n)));++o<s;)for(var c=0,u=t[o],l=n?n(u):u;(c=i(a,l,c,r))>-1;)a!==e&&Pt.call(a,c,1),Pt.call(e,c,1);return e}function bi(e,t){for(var n=e?t.length:0,r=n-1;n--;){var i=t[n];if(n==r||i!==o){var o=i;Uo(i)?Pt.call(e,i,1):qi(e,i)}}return e}function _i(e,t){return e+$n(Xn()*(t-e+1))}function xi(e,t){var n="";if(!e||t<1||t>T)return n;do{t%2&&(n+=e),(t=$n(t/2))&&(e+=e)}while(t);return n}function Ei(e,t){return os(es(e,t,Mc),e+"")}function Ri(e){return Rr(hc(e))}function Oi(e,t){var n=hc(e);return cs(n,Lr(t,0,n.length))}function Ci(e,t,n,r){if(!Na(e))return e;for(var o=-1,s=(t=Ui(t,e)).length,a=s-1,c=e;null!=c&&++o<s;){var u=ls(t[o]),l=n;if(o!=a){var f=c[u];(l=r?r(f,u,c):i)===i&&(l=Na(f)?f:Uo(t[o+1])?[]:{})}Sr(c,u,l),c=c[u]}return e}var Ni=rr?function(e,t){return rr.set(e,t),e}:Mc,Si=Ln?function(e,t){return Ln(e,"toString",{configurable:!0,enumerable:!1,value:Nc(t),writable:!0})}:Mc;function Ii(e){return cs(hc(e))}function Mi(e,t,n){var i=-1,o=e.length;t<0&&(t=-t>o?0:o+t),(n=n>o?o:n)<0&&(n+=o),o=t>n?0:n-t>>>0,t>>>=0;for(var s=r(o);++i<o;)s[i]=e[i+t];return s}function ki(e,t){var n;return $r(e,(function(e,r,i){return!(n=t(e,r,i))})),!!n}function Ai(e,t,n){var r=0,i=null==e?r:e.length;if("number"==typeof t&&t==t&&i<=q){for(;r<i;){var o=r+i>>>1,s=e[o];null!==s&&!ja(s)&&(n?s<=t:s<t)?r=o+1:i=o}return i}return Ti(e,t,Mc,n)}function Ti(e,t,n,r){t=n(t);for(var o=0,s=null==e?0:e.length,a=t!=t,c=null===t,u=ja(t),l=t===i;o<s;){var f=$n((o+s)/2),d=n(e[f]),h=d!==i,p=null===d,g=d==d,m=ja(d);if(a)var v=r||g;else v=l?g&&(r||h):c?g&&h&&(r||!p):u?g&&h&&!p&&(r||!m):!p&&!m&&(r?d<=t:d<t);v?o=f+1:s=f}return Un(s,D)}function Li(e,t){for(var n=-1,r=e.length,i=0,o=[];++n<r;){var s=e[n],a=t?t(s):s;if(!n||!ha(a,c)){var c=a;o[i++]=0===s?0:s}}return o}function ji(e){return"number"==typeof e?e:ja(e)?j:+e}function Pi(e){if("string"==typeof e)return e;if(va(e))return Zt(e,Pi)+"";if(ja(e))return dr?dr.call(e):"";var t=e+"";return"0"==t&&1/e==-A?"-0":t}function Di(e,t,n){var r=-1,i=Yt,s=e.length,a=!0,c=[],u=c;if(n)a=!1,i=Jt;else if(s>=o){var l=t?null:Eo(e);if(l)return Sn(l);a=!1,i=yn,u=new _r}else u=t?[]:c;e:for(;++r<s;){var f=e[r],d=t?t(f):f;if(f=n||0!==f?f:0,a&&d==d){for(var h=u.length;h--;)if(u[h]===d)continue e;t&&u.push(d),c.push(f)}else i(u,d,n)||(u!==c&&u.push(d),c.push(f))}return c}function qi(e,t){return null==(e=ts(e,t=Ui(t,e)))||delete e[ls(Es(t))]}function $i(e,t,n,r){return Ci(e,t,n(Yr(e,t)),r)}function Fi(e,t,n,r){for(var i=e.length,o=r?i:-1;(r?o--:++o<i)&&t(e[o],o,e););return n?Mi(e,r?0:o,r?o+1:i):Mi(e,r?o+1:0,r?i:o)}function Bi(e,t){var n=e;return n instanceof vr&&(n=n.value()),en(t,(function(e,t){return t.func.apply(t.thisArg,Qt([e],t.args))}),n)}function Wi(e,t,n){var i=e.length;if(i<2)return i?Di(e[0]):[];for(var o=-1,s=r(i);++o<i;)for(var a=e[o],c=-1;++c<i;)c!=o&&(s[o]=qr(s[o]||a,e[c],t,n));return Di(Gr(s,1),t,n)}function Hi(e,t,n){for(var r=-1,o=e.length,s=t.length,a={};++r<o;){var c=r<s?t[r]:i;n(a,e[r],c)}return a}function Gi(e){return ba(e)?e:[]}function zi(e){return"function"==typeof e?e:Mc}function Ui(e,t){return va(e)?e:Ko(e,t)?[e]:us(za(e))}var Vi=Ei;function Ki(e,t,n){var r=e.length;return n=n===i?r:n,!t&&n>=r?e:Mi(e,t,n)}var Xi=jn||function(e){return At.clearTimeout(e)};function Yi(e,t){if(t)return e.slice();var n=e.length,r=Mt?Mt(n):new e.constructor(n);return e.copy(r),r}function Ji(e){var t=new e.constructor(e.byteLength);return new Nt(t).set(new Nt(e)),t}function Zi(e,t){var n=t?Ji(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.length)}function Qi(e,t){if(e!==t){var n=e!==i,r=null===e,o=e==e,s=ja(e),a=t!==i,c=null===t,u=t==t,l=ja(t);if(!c&&!l&&!s&&e>t||s&&a&&u&&!c&&!l||r&&a&&u||!n&&u||!o)return 1;if(!r&&!s&&!l&&e<t||l&&n&&o&&!r&&!s||c&&n&&o||!a&&o||!u)return-1}return 0}function eo(e,t,n,i){for(var o=-1,s=e.length,a=n.length,c=-1,u=t.length,l=zn(s-a,0),f=r(u+l),d=!i;++c<u;)f[c]=t[c];for(;++o<a;)(d||o<s)&&(f[n[o]]=e[o]);for(;l--;)f[c++]=e[o++];return f}function to(e,t,n,i){for(var o=-1,s=e.length,a=-1,c=n.length,u=-1,l=t.length,f=zn(s-c,0),d=r(f+l),h=!i;++o<f;)d[o]=e[o];for(var p=o;++u<l;)d[p+u]=t[u];for(;++a<c;)(h||o<s)&&(d[p+n[a]]=e[o++]);return d}function no(e,t){var n=-1,i=e.length;for(t||(t=r(i));++n<i;)t[n]=e[n];return t}function ro(e,t,n,r){var o=!n;n||(n={});for(var s=-1,a=t.length;++s<a;){var c=t[s],u=r?r(n[c],e[c],c,n,e):i;u===i&&(u=e[c]),o?Ar(n,c,u):Sr(n,c,u)}return n}function io(e,t){return function(n,r){var i=va(n)?zt:Mr,o=t?t():{};return i(n,e,Po(r,2),o)}}function oo(e){return Ei((function(t,n){var r=-1,o=n.length,s=o>1?n[o-1]:i,a=o>2?n[2]:i;for(s=e.length>3&&"function"==typeof s?(o--,s):i,a&&Vo(n[0],n[1],a)&&(s=o<3?i:s,o=1),t=tt(t);++r<o;){var c=n[r];c&&e(t,c,r,s)}return t}))}function so(e,t){return function(n,r){if(null==n)return n;if(!wa(n))return e(n,r);for(var i=n.length,o=t?i:-1,s=tt(n);(t?o--:++o<i)&&!1!==r(s[o],o,s););return n}}function ao(e){return function(t,n,r){for(var i=-1,o=tt(t),s=r(t),a=s.length;a--;){var c=s[e?a:++i];if(!1===n(o[c],c,o))break}return t}}function co(e){return function(t){var n=Rn(t=za(t))?kn(t):i,r=n?n[0]:t.charAt(0),o=n?Ki(n,1).join(""):t.slice(1);return r[e]()+o}}function uo(e){return function(t){return en(Rc(mc(t).replace(vt,"")),e,"")}}function lo(e){return function(){var t=arguments;switch(t.length){case 0:return new e;case 1:return new e(t[0]);case 2:return new e(t[0],t[1]);case 3:return new e(t[0],t[1],t[2]);case 4:return new e(t[0],t[1],t[2],t[3]);case 5:return new e(t[0],t[1],t[2],t[3],t[4]);case 6:return new e(t[0],t[1],t[2],t[3],t[4],t[5]);case 7:return new e(t[0],t[1],t[2],t[3],t[4],t[5],t[6])}var n=pr(e.prototype),r=e.apply(n,t);return Na(r)?r:n}}function fo(e){return function(t,n,r){var o=tt(t);if(!wa(t)){var s=Po(n,3);t=ic(t),n=function(e){return s(o[e],e,o)}}var a=e(t,n,r);return a>-1?o[s?t[a]:a]:i}}function ho(e){return Mo((function(t){var n=t.length,r=n,o=mr.prototype.thru;for(e&&t.reverse();r--;){var s=t[r];if("function"!=typeof s)throw new it(a);if(o&&!c&&"wrapper"==Lo(s))var c=new mr([],!0)}for(r=c?r:n;++r<n;){var u=Lo(s=t[r]),l="wrapper"==u?To(s):i;c=l&&Xo(l[0])&&l[1]==(E|w|_|R)&&!l[4].length&&1==l[9]?c[Lo(l[0])].apply(c,l[3]):1==s.length&&Xo(s)?c[u]():c.thru(s)}return function(){var e=arguments,r=e[0];if(c&&1==e.length&&va(r))return c.plant(r).value();for(var i=0,o=n?t[i].apply(this,e):r;++i<n;)o=t[i].call(this,o);return o}}))}function po(e,t,n,o,s,a,c,u,l,f){var d=t&E,h=t&m,p=t&v,g=t&(w|b),y=t&O,_=p?i:lo(e);return function m(){for(var v=arguments.length,w=r(v),b=v;b--;)w[b]=arguments[b];if(g)var x=jo(m),E=function(e,t){for(var n=e.length,r=0;n--;)e[n]===t&&++r;return r}(w,x);if(o&&(w=eo(w,o,s,g)),a&&(w=to(w,a,c,g)),v-=E,g&&v<f){var R=Nn(w,x);return _o(e,t,po,m.placeholder,n,w,R,u,l,f-v)}var O=h?n:this,C=p?O[e]:e;return v=w.length,u?w=function(e,t){var n=e.length,r=Un(t.length,n),o=no(e);for(;r--;){var s=t[r];e[r]=Uo(s,n)?o[s]:i}return e}(w,u):y&&v>1&&w.reverse(),d&&l<v&&(w.length=l),this&&this!==At&&this instanceof m&&(C=_||lo(C)),C.apply(O,w)}}function go(e,t){return function(n,r){return function(e,t,n,r){return Vr(e,(function(e,i,o){t(r,n(e),i,o)})),r}(n,e,t(r),{})}}function mo(e,t){return function(n,r){var o;if(n===i&&r===i)return t;if(n!==i&&(o=n),r!==i){if(o===i)return r;"string"==typeof n||"string"==typeof r?(n=Pi(n),r=Pi(r)):(n=ji(n),r=ji(r)),o=e(n,r)}return o}}function vo(e){return Mo((function(t){return t=Zt(t,mn(Po())),Ei((function(n){var r=this;return e(t,(function(e){return Gt(e,r,n)}))}))}))}function yo(e,t){var n=(t=t===i?" ":Pi(t)).length;if(n<2)return n?xi(t,e):t;var r=xi(t,qn(e/Mn(t)));return Rn(t)?Ki(kn(r),0,e).join(""):r.slice(0,e)}function wo(e){return function(t,n,o){return o&&"number"!=typeof o&&Vo(t,n,o)&&(n=o=i),t=Fa(t),n===i?(n=t,t=0):n=Fa(n),function(e,t,n,i){for(var o=-1,s=zn(qn((t-e)/(n||1)),0),a=r(s);s--;)a[i?s:++o]=e,e+=n;return a}(t,n,o=o===i?t<n?1:-1:Fa(o),e)}}function bo(e){return function(t,n){return"string"==typeof t&&"string"==typeof n||(t=Ha(t),n=Ha(n)),e(t,n)}}function _o(e,t,n,r,o,s,a,c,u,l){var f=t&w;t|=f?_:x,(t&=~(f?x:_))&y||(t&=~(m|v));var d=[e,t,o,f?s:i,f?a:i,f?i:s,f?i:a,c,u,l],h=n.apply(i,d);return Xo(e)&&rs(h,d),h.placeholder=r,ss(h,e,t)}function xo(e){var t=et[e];return function(e,n){if(e=Ha(e),(n=null==n?0:Un(Ba(n),292))&&Wn(e)){var r=(za(e)+"e").split("e");return+((r=(za(t(r[0]+"e"+(+r[1]+n)))+"e").split("e"))[0]+"e"+(+r[1]-n))}return t(e)}}var Eo=er&&1/Sn(new er([,-0]))[1]==A?function(e){return new er(e)}:jc;function Ro(e){return function(t){var n=Wo(t);return n==X?On(t):n==te?In(t):function(e,t){return Zt(t,(function(t){return[t,e[t]]}))}(t,e(t))}}function Oo(e,t,n,o,s,c,u,f){var d=t&v;if(!d&&"function"!=typeof e)throw new it(a);var h=o?o.length:0;if(h||(t&=~(_|x),o=s=i),u=u===i?u:zn(Ba(u),0),f=f===i?f:Ba(f),h-=s?s.length:0,t&x){var p=o,g=s;o=s=i}var O=d?i:To(e),C=[e,t,n,o,s,p,g,c,u,f];if(O&&function(e,t){var n=e[1],r=t[1],i=n|r,o=i<(m|v|E),s=r==E&&n==w||r==E&&n==R&&e[7].length<=t[8]||r==(E|R)&&t[7].length<=t[8]&&n==w;if(!o&&!s)return e;r&m&&(e[2]=t[2],i|=n&m?0:y);var a=t[3];if(a){var c=e[3];e[3]=c?eo(c,a,t[4]):a,e[4]=c?Nn(e[3],l):t[4]}(a=t[5])&&(c=e[5],e[5]=c?to(c,a,t[6]):a,e[6]=c?Nn(e[5],l):t[6]);(a=t[7])&&(e[7]=a);r&E&&(e[8]=null==e[8]?t[8]:Un(e[8],t[8]));null==e[9]&&(e[9]=t[9]);e[0]=t[0],e[1]=i}(C,O),e=C[0],t=C[1],n=C[2],o=C[3],s=C[4],!(f=C[9]=C[9]===i?d?0:e.length:zn(C[9]-h,0))&&t&(w|b)&&(t&=~(w|b)),t&&t!=m)N=t==w||t==b?function(e,t,n){var o=lo(e);return function s(){for(var a=arguments.length,c=r(a),u=a,l=jo(s);u--;)c[u]=arguments[u];var f=a<3&&c[0]!==l&&c[a-1]!==l?[]:Nn(c,l);return(a-=f.length)<n?_o(e,t,po,s.placeholder,i,c,f,i,i,n-a):Gt(this&&this!==At&&this instanceof s?o:e,this,c)}}(e,t,f):t!=_&&t!=(m|_)||s.length?po.apply(i,C):function(e,t,n,i){var o=t&m,s=lo(e);return function t(){for(var a=-1,c=arguments.length,u=-1,l=i.length,f=r(l+c),d=this&&this!==At&&this instanceof t?s:e;++u<l;)f[u]=i[u];for(;c--;)f[u++]=arguments[++a];return Gt(d,o?n:this,f)}}(e,t,n,o);else var N=function(e,t,n){var r=t&m,i=lo(e);return function t(){return(this&&this!==At&&this instanceof t?i:e).apply(r?n:this,arguments)}}(e,t,n);return ss((O?Ni:rs)(N,C),e,t)}function Co(e,t,n,r){return e===i||ha(e,at[n])&&!lt.call(r,n)?t:e}function No(e,t,n,r,o,s){return Na(e)&&Na(t)&&(s.set(t,e),gi(e,t,i,No,s),s.delete(t)),e}function So(e){return ka(e)?i:e}function Io(e,t,n,r,o,s){var a=n&p,c=e.length,u=t.length;if(c!=u&&!(a&&u>c))return!1;var l=s.get(e);if(l&&s.get(t))return l==t;var f=-1,d=!0,h=n&g?new _r:i;for(s.set(e,t),s.set(t,e);++f<c;){var m=e[f],v=t[f];if(r)var y=a?r(v,m,f,t,e,s):r(m,v,f,e,t,s);if(y!==i){if(y)continue;d=!1;break}if(h){if(!nn(t,(function(e,t){if(!yn(h,t)&&(m===e||o(m,e,n,r,s)))return h.push(t)}))){d=!1;break}}else if(m!==v&&!o(m,v,n,r,s)){d=!1;break}}return s.delete(e),s.delete(t),d}function Mo(e){return os(es(e,i,ys),e+"")}function ko(e){return Jr(e,ic,Fo)}function Ao(e){return Jr(e,oc,Bo)}var To=rr?function(e){return rr.get(e)}:jc;function Lo(e){for(var t=e.name+"",n=ir[t],r=lt.call(ir,t)?n.length:0;r--;){var i=n[r],o=i.func;if(null==o||o==e)return i.name}return t}function jo(e){return(lt.call(hr,"placeholder")?hr:e).placeholder}function Po(){var e=hr.iteratee||kc;return e=e===kc?ci:e,arguments.length?e(arguments[0],arguments[1]):e}function Do(e,t){var n,r,i=e.__data__;return("string"==(r=typeof(n=t))||"number"==r||"symbol"==r||"boolean"==r?"__proto__"!==n:null===n)?i["string"==typeof t?"string":"hash"]:i.map}function qo(e){for(var t=ic(e),n=t.length;n--;){var r=t[n],i=e[r];t[n]=[r,i,Zo(i)]}return t}function $o(e,t){var n=function(e,t){return null==e?i:e[t]}(e,t);return ai(n)?n:i}var Fo=Fn?function(e){return null==e?[]:(e=tt(e),Xt(Fn(e),(function(t){return Lt.call(e,t)})))}:Wc,Bo=Fn?function(e){for(var t=[];e;)Qt(t,Fo(e)),e=kt(e);return t}:Wc,Wo=Zr;function Ho(e,t,n){for(var r=-1,i=(t=Ui(t,e)).length,o=!1;++r<i;){var s=ls(t[r]);if(!(o=null!=e&&n(e,s)))break;e=e[s]}return o||++r!=i?o:!!(i=null==e?0:e.length)&&Ca(i)&&Uo(s,i)&&(va(e)||ma(e))}function Go(e){return"function"!=typeof e.constructor||Jo(e)?{}:pr(kt(e))}function zo(e){return va(e)||ma(e)||!!(Dt&&e&&e[Dt])}function Uo(e,t){var n=typeof e;return!!(t=null==t?T:t)&&("number"==n||"symbol"!=n&&Ve.test(e))&&e>-1&&e%1==0&&e<t}function Vo(e,t,n){if(!Na(n))return!1;var r=typeof t;return!!("number"==r?wa(n)&&Uo(t,n.length):"string"==r&&t in n)&&ha(n[t],e)}function Ko(e,t){if(va(e))return!1;var n=typeof e;return!("number"!=n&&"symbol"!=n&&"boolean"!=n&&null!=e&&!ja(e))||(Ie.test(e)||!Se.test(e)||null!=t&&e in tt(t))}function Xo(e){var t=Lo(e),n=hr[t];if("function"!=typeof n||!(t in vr.prototype))return!1;if(e===n)return!0;var r=To(n);return!!r&&e===r[0]}(Jn&&Wo(new Jn(new ArrayBuffer(1)))!=ce||Zn&&Wo(new Zn)!=X||Qn&&"[object Promise]"!=Wo(Qn.resolve())||er&&Wo(new er)!=te||tr&&Wo(new tr)!=oe)&&(Wo=function(e){var t=Zr(e),n=t==Z?e.constructor:i,r=n?fs(n):"";if(r)switch(r){case or:return ce;case sr:return X;case ar:return"[object Promise]";case cr:return te;case ur:return oe}return t});var Yo=ct?Ra:Hc;function Jo(e){var t=e&&e.constructor;return e===("function"==typeof t&&t.prototype||at)}function Zo(e){return e==e&&!Na(e)}function Qo(e,t){return function(n){return null!=n&&(n[e]===t&&(t!==i||e in tt(n)))}}function es(e,t,n){return t=zn(t===i?e.length-1:t,0),function(){for(var i=arguments,o=-1,s=zn(i.length-t,0),a=r(s);++o<s;)a[o]=i[t+o];o=-1;for(var c=r(t+1);++o<t;)c[o]=i[o];return c[t]=n(a),Gt(e,this,c)}}function ts(e,t){return t.length<2?e:Yr(e,Mi(t,0,-1))}function ns(e,t){if(("constructor"!==t||"function"!=typeof e[t])&&"__proto__"!=t)return e[t]}var rs=as(Ni),is=Dn||function(e,t){return At.setTimeout(e,t)},os=as(Si);function ss(e,t,n){var r=t+"";return os(e,function(e,t){var n=t.length;if(!n)return e;var r=n-1;return t[r]=(n>1?"& ":"")+t[r],t=t.join(n>2?", ":" "),e.replace(Pe,"{\n/* [wrapped with "+t+"] */\n")}(r,function(e,t){return Ut($,(function(n){var r="_."+n[0];t&n[1]&&!Yt(e,r)&&e.push(r)})),e.sort()}(function(e){var t=e.match(De);return t?t[1].split(qe):[]}(r),n)))}function as(e){var t=0,n=0;return function(){var r=Vn(),o=I-(r-n);if(n=r,o>0){if(++t>=S)return arguments[0]}else t=0;return e.apply(i,arguments)}}function cs(e,t){var n=-1,r=e.length,o=r-1;for(t=t===i?r:t;++n<t;){var s=_i(n,o),a=e[s];e[s]=e[n],e[n]=a}return e.length=t,e}var us=function(e){var t=aa(e,(function(e){return n.size===u&&n.clear(),e})),n=t.cache;return t}((function(e){var t=[];return 46===e.charCodeAt(0)&&t.push(""),e.replace(Me,(function(e,n,r,i){t.push(r?i.replace(Fe,"$1"):n||e)})),t}));function ls(e){if("string"==typeof e||ja(e))return e;var t=e+"";return"0"==t&&1/e==-A?"-0":t}function fs(e){if(null!=e){try{return ut.call(e)}catch(e){}try{return e+""}catch(e){}}return""}function ds(e){if(e instanceof vr)return e.clone();var t=new mr(e.__wrapped__,e.__chain__);return t.__actions__=no(e.__actions__),t.__index__=e.__index__,t.__values__=e.__values__,t}var hs=Ei((function(e,t){return ba(e)?qr(e,Gr(t,1,ba,!0)):[]})),ps=Ei((function(e,t){var n=Es(t);return ba(n)&&(n=i),ba(e)?qr(e,Gr(t,1,ba,!0),Po(n,2)):[]})),gs=Ei((function(e,t){var n=Es(t);return ba(n)&&(n=i),ba(e)?qr(e,Gr(t,1,ba,!0),i,n):[]}));function ms(e,t,n){var r=null==e?0:e.length;if(!r)return-1;var i=null==n?0:Ba(n);return i<0&&(i=zn(r+i,0)),sn(e,Po(t,3),i)}function vs(e,t,n){var r=null==e?0:e.length;if(!r)return-1;var o=r-1;return n!==i&&(o=Ba(n),o=n<0?zn(r+o,0):Un(o,r-1)),sn(e,Po(t,3),o,!0)}function ys(e){return(null==e?0:e.length)?Gr(e,1):[]}function ws(e){return e&&e.length?e[0]:i}var bs=Ei((function(e){var t=Zt(e,Gi);return t.length&&t[0]===e[0]?ni(t):[]})),_s=Ei((function(e){var t=Es(e),n=Zt(e,Gi);return t===Es(n)?t=i:n.pop(),n.length&&n[0]===e[0]?ni(n,Po(t,2)):[]})),xs=Ei((function(e){var t=Es(e),n=Zt(e,Gi);return(t="function"==typeof t?t:i)&&n.pop(),n.length&&n[0]===e[0]?ni(n,i,t):[]}));function Es(e){var t=null==e?0:e.length;return t?e[t-1]:i}var Rs=Ei(Os);function Os(e,t){return e&&e.length&&t&&t.length?wi(e,t):e}var Cs=Mo((function(e,t){var n=null==e?0:e.length,r=Tr(e,t);return bi(e,Zt(t,(function(e){return Uo(e,n)?+e:e})).sort(Qi)),r}));function Ns(e){return null==e?e:Yn.call(e)}var Ss=Ei((function(e){return Di(Gr(e,1,ba,!0))})),Is=Ei((function(e){var t=Es(e);return ba(t)&&(t=i),Di(Gr(e,1,ba,!0),Po(t,2))})),Ms=Ei((function(e){var t=Es(e);return t="function"==typeof t?t:i,Di(Gr(e,1,ba,!0),i,t)}));function ks(e){if(!e||!e.length)return[];var t=0;return e=Xt(e,(function(e){if(ba(e))return t=zn(e.length,t),!0})),gn(t,(function(t){return Zt(e,fn(t))}))}function As(e,t){if(!e||!e.length)return[];var n=ks(e);return null==t?n:Zt(n,(function(e){return Gt(t,i,e)}))}var Ts=Ei((function(e,t){return ba(e)?qr(e,t):[]})),Ls=Ei((function(e){return Wi(Xt(e,ba))})),js=Ei((function(e){var t=Es(e);return ba(t)&&(t=i),Wi(Xt(e,ba),Po(t,2))})),Ps=Ei((function(e){var t=Es(e);return t="function"==typeof t?t:i,Wi(Xt(e,ba),i,t)})),Ds=Ei(ks);var qs=Ei((function(e){var t=e.length,n=t>1?e[t-1]:i;return n="function"==typeof n?(e.pop(),n):i,As(e,n)}));function $s(e){var t=hr(e);return t.__chain__=!0,t}function Fs(e,t){return t(e)}var Bs=Mo((function(e){var t=e.length,n=t?e[0]:0,r=this.__wrapped__,o=function(t){return Tr(t,e)};return!(t>1||this.__actions__.length)&&r instanceof vr&&Uo(n)?((r=r.slice(n,+n+(t?1:0))).__actions__.push({func:Fs,args:[o],thisArg:i}),new mr(r,this.__chain__).thru((function(e){return t&&!e.length&&e.push(i),e}))):this.thru(o)}));var Ws=io((function(e,t,n){lt.call(e,n)?++e[n]:Ar(e,n,1)}));var Hs=fo(ms),Gs=fo(vs);function zs(e,t){return(va(e)?Ut:$r)(e,Po(t,3))}function Us(e,t){return(va(e)?Vt:Fr)(e,Po(t,3))}var Vs=io((function(e,t,n){lt.call(e,n)?e[n].push(t):Ar(e,n,[t])}));var Ks=Ei((function(e,t,n){var i=-1,o="function"==typeof t,s=wa(e)?r(e.length):[];return $r(e,(function(e){s[++i]=o?Gt(t,e,n):ri(e,t,n)})),s})),Xs=io((function(e,t,n){Ar(e,n,t)}));function Ys(e,t){return(va(e)?Zt:di)(e,Po(t,3))}var Js=io((function(e,t,n){e[n?0:1].push(t)}),(function(){return[[],[]]}));var Zs=Ei((function(e,t){if(null==e)return[];var n=t.length;return n>1&&Vo(e,t[0],t[1])?t=[]:n>2&&Vo(t[0],t[1],t[2])&&(t=[t[0]]),vi(e,Gr(t,1),[])})),Qs=Pn||function(){return At.Date.now()};function ea(e,t,n){return t=n?i:t,t=e&&null==t?e.length:t,Oo(e,E,i,i,i,i,t)}function ta(e,t){var n;if("function"!=typeof t)throw new it(a);return e=Ba(e),function(){return--e>0&&(n=t.apply(this,arguments)),e<=1&&(t=i),n}}var na=Ei((function(e,t,n){var r=m;if(n.length){var i=Nn(n,jo(na));r|=_}return Oo(e,r,t,n,i)})),ra=Ei((function(e,t,n){var r=m|v;if(n.length){var i=Nn(n,jo(ra));r|=_}return Oo(t,r,e,n,i)}));function ia(e,t,n){var r,o,s,c,u,l,f=0,d=!1,h=!1,p=!0;if("function"!=typeof e)throw new it(a);function g(t){var n=r,s=o;return r=o=i,f=t,c=e.apply(s,n)}function m(e){var n=e-l;return l===i||n>=t||n<0||h&&e-f>=s}function v(){var e=Qs();if(m(e))return y(e);u=is(v,function(e){var n=t-(e-l);return h?Un(n,s-(e-f)):n}(e))}function y(e){return u=i,p&&r?g(e):(r=o=i,c)}function w(){var e=Qs(),n=m(e);if(r=arguments,o=this,l=e,n){if(u===i)return function(e){return f=e,u=is(v,t),d?g(e):c}(l);if(h)return Xi(u),u=is(v,t),g(l)}return u===i&&(u=is(v,t)),c}return t=Ha(t)||0,Na(n)&&(d=!!n.leading,s=(h="maxWait"in n)?zn(Ha(n.maxWait)||0,t):s,p="trailing"in n?!!n.trailing:p),w.cancel=function(){u!==i&&Xi(u),f=0,r=l=o=u=i},w.flush=function(){return u===i?c:y(Qs())},w}var oa=Ei((function(e,t){return Dr(e,1,t)})),sa=Ei((function(e,t,n){return Dr(e,Ha(t)||0,n)}));function aa(e,t){if("function"!=typeof e||null!=t&&"function"!=typeof t)throw new it(a);var n=function(){var r=arguments,i=t?t.apply(this,r):r[0],o=n.cache;if(o.has(i))return o.get(i);var s=e.apply(this,r);return n.cache=o.set(i,s)||o,s};return n.cache=new(aa.Cache||br),n}function ca(e){if("function"!=typeof e)throw new it(a);return function(){var t=arguments;switch(t.length){case 0:return!e.call(this);case 1:return!e.call(this,t[0]);case 2:return!e.call(this,t[0],t[1]);case 3:return!e.call(this,t[0],t[1],t[2])}return!e.apply(this,t)}}aa.Cache=br;var ua=Vi((function(e,t){var n=(t=1==t.length&&va(t[0])?Zt(t[0],mn(Po())):Zt(Gr(t,1),mn(Po()))).length;return Ei((function(r){for(var i=-1,o=Un(r.length,n);++i<o;)r[i]=t[i].call(this,r[i]);return Gt(e,this,r)}))})),la=Ei((function(e,t){var n=Nn(t,jo(la));return Oo(e,_,i,t,n)})),fa=Ei((function(e,t){var n=Nn(t,jo(fa));return Oo(e,x,i,t,n)})),da=Mo((function(e,t){return Oo(e,R,i,i,i,t)}));function ha(e,t){return e===t||e!=e&&t!=t}var pa=bo(Qr),ga=bo((function(e,t){return e>=t})),ma=ii(function(){return arguments}())?ii:function(e){return Sa(e)&&lt.call(e,"callee")&&!Lt.call(e,"callee")},va=r.isArray,ya=qt?mn(qt):function(e){return Sa(e)&&Zr(e)==ae};function wa(e){return null!=e&&Ca(e.length)&&!Ra(e)}function ba(e){return Sa(e)&&wa(e)}var _a=Bn||Hc,xa=$t?mn($t):function(e){return Sa(e)&&Zr(e)==G};function Ea(e){if(!Sa(e))return!1;var t=Zr(e);return t==U||t==z||"string"==typeof e.message&&"string"==typeof e.name&&!ka(e)}function Ra(e){if(!Na(e))return!1;var t=Zr(e);return t==V||t==K||t==W||t==Q}function Oa(e){return"number"==typeof e&&e==Ba(e)}function Ca(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=T}function Na(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)}function Sa(e){return null!=e&&"object"==typeof e}var Ia=Ft?mn(Ft):function(e){return Sa(e)&&Wo(e)==X};function Ma(e){return"number"==typeof e||Sa(e)&&Zr(e)==Y}function ka(e){if(!Sa(e)||Zr(e)!=Z)return!1;var t=kt(e);if(null===t)return!0;var n=lt.call(t,"constructor")&&t.constructor;return"function"==typeof n&&n instanceof n&&ut.call(n)==pt}var Aa=Bt?mn(Bt):function(e){return Sa(e)&&Zr(e)==ee};var Ta=Wt?mn(Wt):function(e){return Sa(e)&&Wo(e)==te};function La(e){return"string"==typeof e||!va(e)&&Sa(e)&&Zr(e)==ne}function ja(e){return"symbol"==typeof e||Sa(e)&&Zr(e)==re}var Pa=Ht?mn(Ht):function(e){return Sa(e)&&Ca(e.length)&&!!Ot[Zr(e)]};var Da=bo(fi),qa=bo((function(e,t){return e<=t}));function $a(e){if(!e)return[];if(wa(e))return La(e)?kn(e):no(e);if(rn&&e[rn])return function(e){for(var t,n=[];!(t=e.next()).done;)n.push(t.value);return n}(e[rn]());var t=Wo(e);return(t==X?On:t==te?Sn:hc)(e)}function Fa(e){return e?(e=Ha(e))===A||e===-A?(e<0?-1:1)*L:e==e?e:0:0===e?e:0}function Ba(e){var t=Fa(e),n=t%1;return t==t?n?t-n:t:0}function Wa(e){return e?Lr(Ba(e),0,P):0}function Ha(e){if("number"==typeof e)return e;if(ja(e))return j;if(Na(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=Na(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=e.replace(Te,"");var n=Ge.test(e);return n||Ue.test(e)?It(e.slice(2),n?2:8):He.test(e)?j:+e}function Ga(e){return ro(e,oc(e))}function za(e){return null==e?"":Pi(e)}var Ua=oo((function(e,t){if(Jo(t)||wa(t))ro(t,ic(t),e);else for(var n in t)lt.call(t,n)&&Sr(e,n,t[n])})),Va=oo((function(e,t){ro(t,oc(t),e)})),Ka=oo((function(e,t,n,r){ro(t,oc(t),e,r)})),Xa=oo((function(e,t,n,r){ro(t,ic(t),e,r)})),Ya=Mo(Tr);var Ja=Ei((function(e,t){e=tt(e);var n=-1,r=t.length,o=r>2?t[2]:i;for(o&&Vo(t[0],t[1],o)&&(r=1);++n<r;)for(var s=t[n],a=oc(s),c=-1,u=a.length;++c<u;){var l=a[c],f=e[l];(f===i||ha(f,at[l])&&!lt.call(e,l))&&(e[l]=s[l])}return e})),Za=Ei((function(e){return e.push(i,No),Gt(ac,i,e)}));function Qa(e,t,n){var r=null==e?i:Yr(e,t);return r===i?n:r}function ec(e,t){return null!=e&&Ho(e,t,ti)}var tc=go((function(e,t,n){null!=t&&"function"!=typeof t.toString&&(t=ht.call(t)),e[t]=n}),Nc(Mc)),nc=go((function(e,t,n){null!=t&&"function"!=typeof t.toString&&(t=ht.call(t)),lt.call(e,t)?e[t].push(n):e[t]=[n]}),Po),rc=Ei(ri);function ic(e){return wa(e)?Er(e):ui(e)}function oc(e){return wa(e)?Er(e,!0):li(e)}var sc=oo((function(e,t,n){gi(e,t,n)})),ac=oo((function(e,t,n,r){gi(e,t,n,r)})),cc=Mo((function(e,t){var n={};if(null==e)return n;var r=!1;t=Zt(t,(function(t){return t=Ui(t,e),r||(r=t.length>1),t})),ro(e,Ao(e),n),r&&(n=jr(n,f|d|h,So));for(var i=t.length;i--;)qi(n,t[i]);return n}));var uc=Mo((function(e,t){return null==e?{}:function(e,t){return yi(e,t,(function(t,n){return ec(e,n)}))}(e,t)}));function lc(e,t){if(null==e)return{};var n=Zt(Ao(e),(function(e){return[e]}));return t=Po(t),yi(e,n,(function(e,n){return t(e,n[0])}))}var fc=Ro(ic),dc=Ro(oc);function hc(e){return null==e?[]:vn(e,ic(e))}var pc=uo((function(e,t,n){return t=t.toLowerCase(),e+(n?gc(t):t)}));function gc(e){return Ec(za(e).toLowerCase())}function mc(e){return(e=za(e))&&e.replace(Ke,_n).replace(yt,"")}var vc=uo((function(e,t,n){return e+(n?"-":"")+t.toLowerCase()})),yc=uo((function(e,t,n){return e+(n?" ":"")+t.toLowerCase()})),wc=co("toLowerCase");var bc=uo((function(e,t,n){return e+(n?"_":"")+t.toLowerCase()}));var _c=uo((function(e,t,n){return e+(n?" ":"")+Ec(t)}));var xc=uo((function(e,t,n){return e+(n?" ":"")+t.toUpperCase()})),Ec=co("toUpperCase");function Rc(e,t,n){return e=za(e),(t=n?i:t)===i?function(e){return xt.test(e)}(e)?function(e){return e.match(bt)||[]}(e):function(e){return e.match($e)||[]}(e):e.match(t)||[]}var Oc=Ei((function(e,t){try{return Gt(e,i,t)}catch(e){return Ea(e)?e:new Ze(e)}})),Cc=Mo((function(e,t){return Ut(t,(function(t){t=ls(t),Ar(e,t,na(e[t],e))})),e}));function Nc(e){return function(){return e}}var Sc=ho(),Ic=ho(!0);function Mc(e){return e}function kc(e){return ci("function"==typeof e?e:jr(e,f))}var Ac=Ei((function(e,t){return function(n){return ri(n,e,t)}})),Tc=Ei((function(e,t){return function(n){return ri(e,n,t)}}));function Lc(e,t,n){var r=ic(t),i=Xr(t,r);null!=n||Na(t)&&(i.length||!r.length)||(n=t,t=e,e=this,i=Xr(t,ic(t)));var o=!(Na(n)&&"chain"in n&&!n.chain),s=Ra(e);return Ut(i,(function(n){var r=t[n];e[n]=r,s&&(e.prototype[n]=function(){var t=this.__chain__;if(o||t){var n=e(this.__wrapped__),i=n.__actions__=no(this.__actions__);return i.push({func:r,args:arguments,thisArg:e}),n.__chain__=t,n}return r.apply(e,Qt([this.value()],arguments))})})),e}function jc(){}var Pc=vo(Zt),Dc=vo(Kt),qc=vo(nn);function $c(e){return Ko(e)?fn(ls(e)):function(e){return function(t){return Yr(t,e)}}(e)}var Fc=wo(),Bc=wo(!0);function Wc(){return[]}function Hc(){return!1}var Gc=mo((function(e,t){return e+t}),0),zc=xo("ceil"),Uc=mo((function(e,t){return e/t}),1),Vc=xo("floor");var Kc,Xc=mo((function(e,t){return e*t}),1),Yc=xo("round"),Jc=mo((function(e,t){return e-t}),0);return hr.after=function(e,t){if("function"!=typeof t)throw new it(a);return e=Ba(e),function(){if(--e<1)return t.apply(this,arguments)}},hr.ary=ea,hr.assign=Ua,hr.assignIn=Va,hr.assignInWith=Ka,hr.assignWith=Xa,hr.at=Ya,hr.before=ta,hr.bind=na,hr.bindAll=Cc,hr.bindKey=ra,hr.castArray=function(){if(!arguments.length)return[];var e=arguments[0];return va(e)?e:[e]},hr.chain=$s,hr.chunk=function(e,t,n){t=(n?Vo(e,t,n):t===i)?1:zn(Ba(t),0);var o=null==e?0:e.length;if(!o||t<1)return[];for(var s=0,a=0,c=r(qn(o/t));s<o;)c[a++]=Mi(e,s,s+=t);return c},hr.compact=function(e){for(var t=-1,n=null==e?0:e.length,r=0,i=[];++t<n;){var o=e[t];o&&(i[r++]=o)}return i},hr.concat=function(){var e=arguments.length;if(!e)return[];for(var t=r(e-1),n=arguments[0],i=e;i--;)t[i-1]=arguments[i];return Qt(va(n)?no(n):[n],Gr(t,1))},hr.cond=function(e){var t=null==e?0:e.length,n=Po();return e=t?Zt(e,(function(e){if("function"!=typeof e[1])throw new it(a);return[n(e[0]),e[1]]})):[],Ei((function(n){for(var r=-1;++r<t;){var i=e[r];if(Gt(i[0],this,n))return Gt(i[1],this,n)}}))},hr.conforms=function(e){return function(e){var t=ic(e);return function(n){return Pr(n,e,t)}}(jr(e,f))},hr.constant=Nc,hr.countBy=Ws,hr.create=function(e,t){var n=pr(e);return null==t?n:kr(n,t)},hr.curry=function e(t,n,r){var o=Oo(t,w,i,i,i,i,i,n=r?i:n);return o.placeholder=e.placeholder,o},hr.curryRight=function e(t,n,r){var o=Oo(t,b,i,i,i,i,i,n=r?i:n);return o.placeholder=e.placeholder,o},hr.debounce=ia,hr.defaults=Ja,hr.defaultsDeep=Za,hr.defer=oa,hr.delay=sa,hr.difference=hs,hr.differenceBy=ps,hr.differenceWith=gs,hr.drop=function(e,t,n){var r=null==e?0:e.length;return r?Mi(e,(t=n||t===i?1:Ba(t))<0?0:t,r):[]},hr.dropRight=function(e,t,n){var r=null==e?0:e.length;return r?Mi(e,0,(t=r-(t=n||t===i?1:Ba(t)))<0?0:t):[]},hr.dropRightWhile=function(e,t){return e&&e.length?Fi(e,Po(t,3),!0,!0):[]},hr.dropWhile=function(e,t){return e&&e.length?Fi(e,Po(t,3),!0):[]},hr.fill=function(e,t,n,r){var o=null==e?0:e.length;return o?(n&&"number"!=typeof n&&Vo(e,t,n)&&(n=0,r=o),function(e,t,n,r){var o=e.length;for((n=Ba(n))<0&&(n=-n>o?0:o+n),(r=r===i||r>o?o:Ba(r))<0&&(r+=o),r=n>r?0:Wa(r);n<r;)e[n++]=t;return e}(e,t,n,r)):[]},hr.filter=function(e,t){return(va(e)?Xt:Hr)(e,Po(t,3))},hr.flatMap=function(e,t){return Gr(Ys(e,t),1)},hr.flatMapDeep=function(e,t){return Gr(Ys(e,t),A)},hr.flatMapDepth=function(e,t,n){return n=n===i?1:Ba(n),Gr(Ys(e,t),n)},hr.flatten=ys,hr.flattenDeep=function(e){return(null==e?0:e.length)?Gr(e,A):[]},hr.flattenDepth=function(e,t){return(null==e?0:e.length)?Gr(e,t=t===i?1:Ba(t)):[]},hr.flip=function(e){return Oo(e,O)},hr.flow=Sc,hr.flowRight=Ic,hr.fromPairs=function(e){for(var t=-1,n=null==e?0:e.length,r={};++t<n;){var i=e[t];r[i[0]]=i[1]}return r},hr.functions=function(e){return null==e?[]:Xr(e,ic(e))},hr.functionsIn=function(e){return null==e?[]:Xr(e,oc(e))},hr.groupBy=Vs,hr.initial=function(e){return(null==e?0:e.length)?Mi(e,0,-1):[]},hr.intersection=bs,hr.intersectionBy=_s,hr.intersectionWith=xs,hr.invert=tc,hr.invertBy=nc,hr.invokeMap=Ks,hr.iteratee=kc,hr.keyBy=Xs,hr.keys=ic,hr.keysIn=oc,hr.map=Ys,hr.mapKeys=function(e,t){var n={};return t=Po(t,3),Vr(e,(function(e,r,i){Ar(n,t(e,r,i),e)})),n},hr.mapValues=function(e,t){var n={};return t=Po(t,3),Vr(e,(function(e,r,i){Ar(n,r,t(e,r,i))})),n},hr.matches=function(e){return hi(jr(e,f))},hr.matchesProperty=function(e,t){return pi(e,jr(t,f))},hr.memoize=aa,hr.merge=sc,hr.mergeWith=ac,hr.method=Ac,hr.methodOf=Tc,hr.mixin=Lc,hr.negate=ca,hr.nthArg=function(e){return e=Ba(e),Ei((function(t){return mi(t,e)}))},hr.omit=cc,hr.omitBy=function(e,t){return lc(e,ca(Po(t)))},hr.once=function(e){return ta(2,e)},hr.orderBy=function(e,t,n,r){return null==e?[]:(va(t)||(t=null==t?[]:[t]),va(n=r?i:n)||(n=null==n?[]:[n]),vi(e,t,n))},hr.over=Pc,hr.overArgs=ua,hr.overEvery=Dc,hr.overSome=qc,hr.partial=la,hr.partialRight=fa,hr.partition=Js,hr.pick=uc,hr.pickBy=lc,hr.property=$c,hr.propertyOf=function(e){return function(t){return null==e?i:Yr(e,t)}},hr.pull=Rs,hr.pullAll=Os,hr.pullAllBy=function(e,t,n){return e&&e.length&&t&&t.length?wi(e,t,Po(n,2)):e},hr.pullAllWith=function(e,t,n){return e&&e.length&&t&&t.length?wi(e,t,i,n):e},hr.pullAt=Cs,hr.range=Fc,hr.rangeRight=Bc,hr.rearg=da,hr.reject=function(e,t){return(va(e)?Xt:Hr)(e,ca(Po(t,3)))},hr.remove=function(e,t){var n=[];if(!e||!e.length)return n;var r=-1,i=[],o=e.length;for(t=Po(t,3);++r<o;){var s=e[r];t(s,r,e)&&(n.push(s),i.push(r))}return bi(e,i),n},hr.rest=function(e,t){if("function"!=typeof e)throw new it(a);return Ei(e,t=t===i?t:Ba(t))},hr.reverse=Ns,hr.sampleSize=function(e,t,n){return t=(n?Vo(e,t,n):t===i)?1:Ba(t),(va(e)?Or:Oi)(e,t)},hr.set=function(e,t,n){return null==e?e:Ci(e,t,n)},hr.setWith=function(e,t,n,r){return r="function"==typeof r?r:i,null==e?e:Ci(e,t,n,r)},hr.shuffle=function(e){return(va(e)?Cr:Ii)(e)},hr.slice=function(e,t,n){var r=null==e?0:e.length;return r?(n&&"number"!=typeof n&&Vo(e,t,n)?(t=0,n=r):(t=null==t?0:Ba(t),n=n===i?r:Ba(n)),Mi(e,t,n)):[]},hr.sortBy=Zs,hr.sortedUniq=function(e){return e&&e.length?Li(e):[]},hr.sortedUniqBy=function(e,t){return e&&e.length?Li(e,Po(t,2)):[]},hr.split=function(e,t,n){return n&&"number"!=typeof n&&Vo(e,t,n)&&(t=n=i),(n=n===i?P:n>>>0)?(e=za(e))&&("string"==typeof t||null!=t&&!Aa(t))&&!(t=Pi(t))&&Rn(e)?Ki(kn(e),0,n):e.split(t,n):[]},hr.spread=function(e,t){if("function"!=typeof e)throw new it(a);return t=null==t?0:zn(Ba(t),0),Ei((function(n){var r=n[t],i=Ki(n,0,t);return r&&Qt(i,r),Gt(e,this,i)}))},hr.tail=function(e){var t=null==e?0:e.length;return t?Mi(e,1,t):[]},hr.take=function(e,t,n){return e&&e.length?Mi(e,0,(t=n||t===i?1:Ba(t))<0?0:t):[]},hr.takeRight=function(e,t,n){var r=null==e?0:e.length;return r?Mi(e,(t=r-(t=n||t===i?1:Ba(t)))<0?0:t,r):[]},hr.takeRightWhile=function(e,t){return e&&e.length?Fi(e,Po(t,3),!1,!0):[]},hr.takeWhile=function(e,t){return e&&e.length?Fi(e,Po(t,3)):[]},hr.tap=function(e,t){return t(e),e},hr.throttle=function(e,t,n){var r=!0,i=!0;if("function"!=typeof e)throw new it(a);return Na(n)&&(r="leading"in n?!!n.leading:r,i="trailing"in n?!!n.trailing:i),ia(e,t,{leading:r,maxWait:t,trailing:i})},hr.thru=Fs,hr.toArray=$a,hr.toPairs=fc,hr.toPairsIn=dc,hr.toPath=function(e){return va(e)?Zt(e,ls):ja(e)?[e]:no(us(za(e)))},hr.toPlainObject=Ga,hr.transform=function(e,t,n){var r=va(e),i=r||_a(e)||Pa(e);if(t=Po(t,4),null==n){var o=e&&e.constructor;n=i?r?new o:[]:Na(e)&&Ra(o)?pr(kt(e)):{}}return(i?Ut:Vr)(e,(function(e,r,i){return t(n,e,r,i)})),n},hr.unary=function(e){return ea(e,1)},hr.union=Ss,hr.unionBy=Is,hr.unionWith=Ms,hr.uniq=function(e){return e&&e.length?Di(e):[]},hr.uniqBy=function(e,t){return e&&e.length?Di(e,Po(t,2)):[]},hr.uniqWith=function(e,t){return t="function"==typeof t?t:i,e&&e.length?Di(e,i,t):[]},hr.unset=function(e,t){return null==e||qi(e,t)},hr.unzip=ks,hr.unzipWith=As,hr.update=function(e,t,n){return null==e?e:$i(e,t,zi(n))},hr.updateWith=function(e,t,n,r){return r="function"==typeof r?r:i,null==e?e:$i(e,t,zi(n),r)},hr.values=hc,hr.valuesIn=function(e){return null==e?[]:vn(e,oc(e))},hr.without=Ts,hr.words=Rc,hr.wrap=function(e,t){return la(zi(t),e)},hr.xor=Ls,hr.xorBy=js,hr.xorWith=Ps,hr.zip=Ds,hr.zipObject=function(e,t){return Hi(e||[],t||[],Sr)},hr.zipObjectDeep=function(e,t){return Hi(e||[],t||[],Ci)},hr.zipWith=qs,hr.entries=fc,hr.entriesIn=dc,hr.extend=Va,hr.extendWith=Ka,Lc(hr,hr),hr.add=Gc,hr.attempt=Oc,hr.camelCase=pc,hr.capitalize=gc,hr.ceil=zc,hr.clamp=function(e,t,n){return n===i&&(n=t,t=i),n!==i&&(n=(n=Ha(n))==n?n:0),t!==i&&(t=(t=Ha(t))==t?t:0),Lr(Ha(e),t,n)},hr.clone=function(e){return jr(e,h)},hr.cloneDeep=function(e){return jr(e,f|h)},hr.cloneDeepWith=function(e,t){return jr(e,f|h,t="function"==typeof t?t:i)},hr.cloneWith=function(e,t){return jr(e,h,t="function"==typeof t?t:i)},hr.conformsTo=function(e,t){return null==t||Pr(e,t,ic(t))},hr.deburr=mc,hr.defaultTo=function(e,t){return null==e||e!=e?t:e},hr.divide=Uc,hr.endsWith=function(e,t,n){e=za(e),t=Pi(t);var r=e.length,o=n=n===i?r:Lr(Ba(n),0,r);return(n-=t.length)>=0&&e.slice(n,o)==t},hr.eq=ha,hr.escape=function(e){return(e=za(e))&&Re.test(e)?e.replace(xe,xn):e},hr.escapeRegExp=function(e){return(e=za(e))&&Ae.test(e)?e.replace(ke,"\\$&"):e},hr.every=function(e,t,n){var r=va(e)?Kt:Br;return n&&Vo(e,t,n)&&(t=i),r(e,Po(t,3))},hr.find=Hs,hr.findIndex=ms,hr.findKey=function(e,t){return on(e,Po(t,3),Vr)},hr.findLast=Gs,hr.findLastIndex=vs,hr.findLastKey=function(e,t){return on(e,Po(t,3),Kr)},hr.floor=Vc,hr.forEach=zs,hr.forEachRight=Us,hr.forIn=function(e,t){return null==e?e:zr(e,Po(t,3),oc)},hr.forInRight=function(e,t){return null==e?e:Ur(e,Po(t,3),oc)},hr.forOwn=function(e,t){return e&&Vr(e,Po(t,3))},hr.forOwnRight=function(e,t){return e&&Kr(e,Po(t,3))},hr.get=Qa,hr.gt=pa,hr.gte=ga,hr.has=function(e,t){return null!=e&&Ho(e,t,ei)},hr.hasIn=ec,hr.head=ws,hr.identity=Mc,hr.includes=function(e,t,n,r){e=wa(e)?e:hc(e),n=n&&!r?Ba(n):0;var i=e.length;return n<0&&(n=zn(i+n,0)),La(e)?n<=i&&e.indexOf(t,n)>-1:!!i&&an(e,t,n)>-1},hr.indexOf=function(e,t,n){var r=null==e?0:e.length;if(!r)return-1;var i=null==n?0:Ba(n);return i<0&&(i=zn(r+i,0)),an(e,t,i)},hr.inRange=function(e,t,n){return t=Fa(t),n===i?(n=t,t=0):n=Fa(n),function(e,t,n){return e>=Un(t,n)&&e<zn(t,n)}(e=Ha(e),t,n)},hr.invoke=rc,hr.isArguments=ma,hr.isArray=va,hr.isArrayBuffer=ya,hr.isArrayLike=wa,hr.isArrayLikeObject=ba,hr.isBoolean=function(e){return!0===e||!1===e||Sa(e)&&Zr(e)==H},hr.isBuffer=_a,hr.isDate=xa,hr.isElement=function(e){return Sa(e)&&1===e.nodeType&&!ka(e)},hr.isEmpty=function(e){if(null==e)return!0;if(wa(e)&&(va(e)||"string"==typeof e||"function"==typeof e.splice||_a(e)||Pa(e)||ma(e)))return!e.length;var t=Wo(e);if(t==X||t==te)return!e.size;if(Jo(e))return!ui(e).length;for(var n in e)if(lt.call(e,n))return!1;return!0},hr.isEqual=function(e,t){return oi(e,t)},hr.isEqualWith=function(e,t,n){var r=(n="function"==typeof n?n:i)?n(e,t):i;return r===i?oi(e,t,i,n):!!r},hr.isError=Ea,hr.isFinite=function(e){return"number"==typeof e&&Wn(e)},hr.isFunction=Ra,hr.isInteger=Oa,hr.isLength=Ca,hr.isMap=Ia,hr.isMatch=function(e,t){return e===t||si(e,t,qo(t))},hr.isMatchWith=function(e,t,n){return n="function"==typeof n?n:i,si(e,t,qo(t),n)},hr.isNaN=function(e){return Ma(e)&&e!=+e},hr.isNative=function(e){if(Yo(e))throw new Ze(s);return ai(e)},hr.isNil=function(e){return null==e},hr.isNull=function(e){return null===e},hr.isNumber=Ma,hr.isObject=Na,hr.isObjectLike=Sa,hr.isPlainObject=ka,hr.isRegExp=Aa,hr.isSafeInteger=function(e){return Oa(e)&&e>=-T&&e<=T},hr.isSet=Ta,hr.isString=La,hr.isSymbol=ja,hr.isTypedArray=Pa,hr.isUndefined=function(e){return e===i},hr.isWeakMap=function(e){return Sa(e)&&Wo(e)==oe},hr.isWeakSet=function(e){return Sa(e)&&Zr(e)==se},hr.join=function(e,t){return null==e?"":Hn.call(e,t)},hr.kebabCase=vc,hr.last=Es,hr.lastIndexOf=function(e,t,n){var r=null==e?0:e.length;if(!r)return-1;var o=r;return n!==i&&(o=(o=Ba(n))<0?zn(r+o,0):Un(o,r-1)),t==t?function(e,t,n){for(var r=n+1;r--;)if(e[r]===t)return r;return r}(e,t,o):sn(e,un,o,!0)},hr.lowerCase=yc,hr.lowerFirst=wc,hr.lt=Da,hr.lte=qa,hr.max=function(e){return e&&e.length?Wr(e,Mc,Qr):i},hr.maxBy=function(e,t){return e&&e.length?Wr(e,Po(t,2),Qr):i},hr.mean=function(e){return ln(e,Mc)},hr.meanBy=function(e,t){return ln(e,Po(t,2))},hr.min=function(e){return e&&e.length?Wr(e,Mc,fi):i},hr.minBy=function(e,t){return e&&e.length?Wr(e,Po(t,2),fi):i},hr.stubArray=Wc,hr.stubFalse=Hc,hr.stubObject=function(){return{}},hr.stubString=function(){return""},hr.stubTrue=function(){return!0},hr.multiply=Xc,hr.nth=function(e,t){return e&&e.length?mi(e,Ba(t)):i},hr.noConflict=function(){return At._===this&&(At._=gt),this},hr.noop=jc,hr.now=Qs,hr.pad=function(e,t,n){e=za(e);var r=(t=Ba(t))?Mn(e):0;if(!t||r>=t)return e;var i=(t-r)/2;return yo($n(i),n)+e+yo(qn(i),n)},hr.padEnd=function(e,t,n){e=za(e);var r=(t=Ba(t))?Mn(e):0;return t&&r<t?e+yo(t-r,n):e},hr.padStart=function(e,t,n){e=za(e);var r=(t=Ba(t))?Mn(e):0;return t&&r<t?yo(t-r,n)+e:e},hr.parseInt=function(e,t,n){return n||null==t?t=0:t&&(t=+t),Kn(za(e).replace(Le,""),t||0)},hr.random=function(e,t,n){if(n&&"boolean"!=typeof n&&Vo(e,t,n)&&(t=n=i),n===i&&("boolean"==typeof t?(n=t,t=i):"boolean"==typeof e&&(n=e,e=i)),e===i&&t===i?(e=0,t=1):(e=Fa(e),t===i?(t=e,e=0):t=Fa(t)),e>t){var r=e;e=t,t=r}if(n||e%1||t%1){var o=Xn();return Un(e+o*(t-e+St("1e-"+((o+"").length-1))),t)}return _i(e,t)},hr.reduce=function(e,t,n){var r=va(e)?en:hn,i=arguments.length<3;return r(e,Po(t,4),n,i,$r)},hr.reduceRight=function(e,t,n){var r=va(e)?tn:hn,i=arguments.length<3;return r(e,Po(t,4),n,i,Fr)},hr.repeat=function(e,t,n){return t=(n?Vo(e,t,n):t===i)?1:Ba(t),xi(za(e),t)},hr.replace=function(){var e=arguments,t=za(e[0]);return e.length<3?t:t.replace(e[1],e[2])},hr.result=function(e,t,n){var r=-1,o=(t=Ui(t,e)).length;for(o||(o=1,e=i);++r<o;){var s=null==e?i:e[ls(t[r])];s===i&&(r=o,s=n),e=Ra(s)?s.call(e):s}return e},hr.round=Yc,hr.runInContext=e,hr.sample=function(e){return(va(e)?Rr:Ri)(e)},hr.size=function(e){if(null==e)return 0;if(wa(e))return La(e)?Mn(e):e.length;var t=Wo(e);return t==X||t==te?e.size:ui(e).length},hr.snakeCase=bc,hr.some=function(e,t,n){var r=va(e)?nn:ki;return n&&Vo(e,t,n)&&(t=i),r(e,Po(t,3))},hr.sortedIndex=function(e,t){return Ai(e,t)},hr.sortedIndexBy=function(e,t,n){return Ti(e,t,Po(n,2))},hr.sortedIndexOf=function(e,t){var n=null==e?0:e.length;if(n){var r=Ai(e,t);if(r<n&&ha(e[r],t))return r}return-1},hr.sortedLastIndex=function(e,t){return Ai(e,t,!0)},hr.sortedLastIndexBy=function(e,t,n){return Ti(e,t,Po(n,2),!0)},hr.sortedLastIndexOf=function(e,t){if(null==e?0:e.length){var n=Ai(e,t,!0)-1;if(ha(e[n],t))return n}return-1},hr.startCase=_c,hr.startsWith=function(e,t,n){return e=za(e),n=null==n?0:Lr(Ba(n),0,e.length),t=Pi(t),e.slice(n,n+t.length)==t},hr.subtract=Jc,hr.sum=function(e){return e&&e.length?pn(e,Mc):0},hr.sumBy=function(e,t){return e&&e.length?pn(e,Po(t,2)):0},hr.template=function(e,t,n){var r=hr.templateSettings;n&&Vo(e,t,n)&&(t=i),e=za(e),t=Ka({},t,r,Co);var o,s,a=Ka({},t.imports,r.imports,Co),c=ic(a),u=vn(a,c),l=0,f=t.interpolate||Xe,d="__p += '",h=nt((t.escape||Xe).source+"|"+f.source+"|"+(f===Ne?Be:Xe).source+"|"+(t.evaluate||Xe).source+"|$","g"),p="//# sourceURL="+(lt.call(t,"sourceURL")?(t.sourceURL+"").replace(/[\r\n]/g," "):"lodash.templateSources["+ ++Rt+"]")+"\n";e.replace(h,(function(t,n,r,i,a,c){return r||(r=i),d+=e.slice(l,c).replace(Ye,En),n&&(o=!0,d+="' +\n__e("+n+") +\n'"),a&&(s=!0,d+="';\n"+a+";\n__p += '"),r&&(d+="' +\n((__t = ("+r+")) == null ? '' : __t) +\n'"),l=c+t.length,t})),d+="';\n";var g=lt.call(t,"variable")&&t.variable;g||(d="with (obj) {\n"+d+"\n}\n"),d=(s?d.replace(ye,""):d).replace(we,"$1").replace(be,"$1;"),d="function("+(g||"obj")+") {\n"+(g?"":"obj || (obj = {});\n")+"var __t, __p = ''"+(o?", __e = _.escape":"")+(s?", __j = Array.prototype.join;\nfunction print() { __p += __j.call(arguments, '') }\n":";\n")+d+"return __p\n}";var m=Oc((function(){return Qe(c,p+"return "+d).apply(i,u)}));if(m.source=d,Ea(m))throw m;return m},hr.times=function(e,t){if((e=Ba(e))<1||e>T)return[];var n=P,r=Un(e,P);t=Po(t),e-=P;for(var i=gn(r,t);++n<e;)t(n);return i},hr.toFinite=Fa,hr.toInteger=Ba,hr.toLength=Wa,hr.toLower=function(e){return za(e).toLowerCase()},hr.toNumber=Ha,hr.toSafeInteger=function(e){return e?Lr(Ba(e),-T,T):0===e?e:0},hr.toString=za,hr.toUpper=function(e){return za(e).toUpperCase()},hr.trim=function(e,t,n){if((e=za(e))&&(n||t===i))return e.replace(Te,"");if(!e||!(t=Pi(t)))return e;var r=kn(e),o=kn(t);return Ki(r,wn(r,o),bn(r,o)+1).join("")},hr.trimEnd=function(e,t,n){if((e=za(e))&&(n||t===i))return e.replace(je,"");if(!e||!(t=Pi(t)))return e;var r=kn(e);return Ki(r,0,bn(r,kn(t))+1).join("")},hr.trimStart=function(e,t,n){if((e=za(e))&&(n||t===i))return e.replace(Le,"");if(!e||!(t=Pi(t)))return e;var r=kn(e);return Ki(r,wn(r,kn(t))).join("")},hr.truncate=function(e,t){var n=C,r=N;if(Na(t)){var o="separator"in t?t.separator:o;n="length"in t?Ba(t.length):n,r="omission"in t?Pi(t.omission):r}var s=(e=za(e)).length;if(Rn(e)){var a=kn(e);s=a.length}if(n>=s)return e;var c=n-Mn(r);if(c<1)return r;var u=a?Ki(a,0,c).join(""):e.slice(0,c);if(o===i)return u+r;if(a&&(c+=u.length-c),Aa(o)){if(e.slice(c).search(o)){var l,f=u;for(o.global||(o=nt(o.source,za(We.exec(o))+"g")),o.lastIndex=0;l=o.exec(f);)var d=l.index;u=u.slice(0,d===i?c:d)}}else if(e.indexOf(Pi(o),c)!=c){var h=u.lastIndexOf(o);h>-1&&(u=u.slice(0,h))}return u+r},hr.unescape=function(e){return(e=za(e))&&Ee.test(e)?e.replace(_e,An):e},hr.uniqueId=function(e){var t=++ft;return za(e)+t},hr.upperCase=xc,hr.upperFirst=Ec,hr.each=zs,hr.eachRight=Us,hr.first=ws,Lc(hr,(Kc={},Vr(hr,(function(e,t){lt.call(hr.prototype,t)||(Kc[t]=e)})),Kc),{chain:!1}),hr.VERSION="4.17.15",Ut(["bind","bindKey","curry","curryRight","partial","partialRight"],(function(e){hr[e].placeholder=hr})),Ut(["drop","take"],(function(e,t){vr.prototype[e]=function(n){n=n===i?1:zn(Ba(n),0);var r=this.__filtered__&&!t?new vr(this):this.clone();return r.__filtered__?r.__takeCount__=Un(n,r.__takeCount__):r.__views__.push({size:Un(n,P),type:e+(r.__dir__<0?"Right":"")}),r},vr.prototype[e+"Right"]=function(t){return this.reverse()[e](t).reverse()}})),Ut(["filter","map","takeWhile"],(function(e,t){var n=t+1,r=n==M||3==n;vr.prototype[e]=function(e){var t=this.clone();return t.__iteratees__.push({iteratee:Po(e,3),type:n}),t.__filtered__=t.__filtered__||r,t}})),Ut(["head","last"],(function(e,t){var n="take"+(t?"Right":"");vr.prototype[e]=function(){return this[n](1).value()[0]}})),Ut(["initial","tail"],(function(e,t){var n="drop"+(t?"":"Right");vr.prototype[e]=function(){return this.__filtered__?new vr(this):this[n](1)}})),vr.prototype.compact=function(){return this.filter(Mc)},vr.prototype.find=function(e){return this.filter(e).head()},vr.prototype.findLast=function(e){return this.reverse().find(e)},vr.prototype.invokeMap=Ei((function(e,t){return"function"==typeof e?new vr(this):this.map((function(n){return ri(n,e,t)}))})),vr.prototype.reject=function(e){return this.filter(ca(Po(e)))},vr.prototype.slice=function(e,t){e=Ba(e);var n=this;return n.__filtered__&&(e>0||t<0)?new vr(n):(e<0?n=n.takeRight(-e):e&&(n=n.drop(e)),t!==i&&(n=(t=Ba(t))<0?n.dropRight(-t):n.take(t-e)),n)},vr.prototype.takeRightWhile=function(e){return this.reverse().takeWhile(e).reverse()},vr.prototype.toArray=function(){return this.take(P)},Vr(vr.prototype,(function(e,t){var n=/^(?:filter|find|map|reject)|While$/.test(t),r=/^(?:head|last)$/.test(t),o=hr[r?"take"+("last"==t?"Right":""):t],s=r||/^find/.test(t);o&&(hr.prototype[t]=function(){var t=this.__wrapped__,a=r?[1]:arguments,c=t instanceof vr,u=a[0],l=c||va(t),f=function(e){var t=o.apply(hr,Qt([e],a));return r&&d?t[0]:t};l&&n&&"function"==typeof u&&1!=u.length&&(c=l=!1);var d=this.__chain__,h=!!this.__actions__.length,p=s&&!d,g=c&&!h;if(!s&&l){t=g?t:new vr(this);var m=e.apply(t,a);return m.__actions__.push({func:Fs,args:[f],thisArg:i}),new mr(m,d)}return p&&g?e.apply(this,a):(m=this.thru(f),p?r?m.value()[0]:m.value():m)})})),Ut(["pop","push","shift","sort","splice","unshift"],(function(e){var t=ot[e],n=/^(?:push|sort|unshift)$/.test(e)?"tap":"thru",r=/^(?:pop|shift)$/.test(e);hr.prototype[e]=function(){var e=arguments;if(r&&!this.__chain__){var i=this.value();return t.apply(va(i)?i:[],e)}return this[n]((function(n){return t.apply(va(n)?n:[],e)}))}})),Vr(vr.prototype,(function(e,t){var n=hr[t];if(n){var r=n.name+"";lt.call(ir,r)||(ir[r]=[]),ir[r].push({name:t,func:n})}})),ir[po(i,v).name]=[{name:"wrapper",func:i}],vr.prototype.clone=function(){var e=new vr(this.__wrapped__);return e.__actions__=no(this.__actions__),e.__dir__=this.__dir__,e.__filtered__=this.__filtered__,e.__iteratees__=no(this.__iteratees__),e.__takeCount__=this.__takeCount__,e.__views__=no(this.__views__),e},vr.prototype.reverse=function(){if(this.__filtered__){var e=new vr(this);e.__dir__=-1,e.__filtered__=!0}else(e=this.clone()).__dir__*=-1;return e},vr.prototype.value=function(){var e=this.__wrapped__.value(),t=this.__dir__,n=va(e),r=t<0,i=n?e.length:0,o=function(e,t,n){var r=-1,i=n.length;for(;++r<i;){var o=n[r],s=o.size;switch(o.type){case"drop":e+=s;break;case"dropRight":t-=s;break;case"take":t=Un(t,e+s);break;case"takeRight":e=zn(e,t-s)}}return{start:e,end:t}}(0,i,this.__views__),s=o.start,a=o.end,c=a-s,u=r?a:s-1,l=this.__iteratees__,f=l.length,d=0,h=Un(c,this.__takeCount__);if(!n||!r&&i==c&&h==c)return Bi(e,this.__actions__);var p=[];e:for(;c--&&d<h;){for(var g=-1,m=e[u+=t];++g<f;){var v=l[g],y=v.iteratee,w=v.type,b=y(m);if(w==k)m=b;else if(!b){if(w==M)continue e;break e}}p[d++]=m}return p},hr.prototype.at=Bs,hr.prototype.chain=function(){return $s(this)},hr.prototype.commit=function(){return new mr(this.value(),this.__chain__)},hr.prototype.next=function(){this.__values__===i&&(this.__values__=$a(this.value()));var e=this.__index__>=this.__values__.length;return{done:e,value:e?i:this.__values__[this.__index__++]}},hr.prototype.plant=function(e){for(var t,n=this;n instanceof gr;){var r=ds(n);r.__index__=0,r.__values__=i,t?o.__wrapped__=r:t=r;var o=r;n=n.__wrapped__}return o.__wrapped__=e,t},hr.prototype.reverse=function(){var e=this.__wrapped__;if(e instanceof vr){var t=e;return this.__actions__.length&&(t=new vr(this)),(t=t.reverse()).__actions__.push({func:Fs,args:[Ns],thisArg:i}),new mr(t,this.__chain__)}return this.thru(Ns)},hr.prototype.toJSON=hr.prototype.valueOf=hr.prototype.value=function(){return Bi(this.__wrapped__,this.__actions__)},hr.prototype.first=hr.prototype.head,rn&&(hr.prototype[rn]=function(){return this}),hr}();At._=Tn,(r=function(){return Tn}.call(t,n,t,e))===i||(e.exports=r)}).call(this)}).call(this,n(83)(e))},function(e,t){e.exports=function(e){return e.webpackPolyfill||(e.deprecate=function(){},e.paths=[],e.children||(e.children=[]),Object.defineProperty(e,"loaded",{enumerable:!0,get:function(){return e.l}}),Object.defineProperty(e,"id",{enumerable:!0,get:function(){return e.i}}),e.webpackPolyfill=1),e}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),n(85),n(86),n(87),n(88),n(89),n(90),n(91)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(10),i=n(8),o=n(5).hlGroupManager.concealable("BufferSelection");r.bufferColumnRegistrar.registerColumn("selection",e=>({concealable:o,async beforeDraw(){var t,n;e.isSelectedAny()?null===(t=this.concealable)||void 0===t||t.requestShow():null===(n=this.concealable)||void 0===n||n.requestHide()},draw(t,n){t.add(e.isSelectedNode(n)?i.sourceIcons.selected:i.sourceIcons.unselected),t.add(" ")}}))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(10),i=n(12);r.bufferColumnRegistrar.registerColumn("name",()=>({draw(e,t){t.visible?e.add(t.basename,i.bufferHighlights.nameVisible):e.add(t.basename),e.add(" ")}}))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(10),i=n(12);r.bufferColumnRegistrar.registerColumn("bufname",()=>({draw(e,t){t.basename!==t.bufname&&(e.add(t.bufname,i.bufferHighlights.bufname),e.add(" "))}}))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(10),i=n(12);r.bufferColumnRegistrar.registerColumn("modified",()=>({draw(e,t){e.add(t.modified?"+":t.modifiable?"":"-",i.bufferHighlights.modified),e.add(" ")}}))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(10),i=n(0),o=n(12);r.bufferColumnRegistrar.registerColumn("bufnr",(e,t)=>({beforeDraw(e){const n=i.max(e.map(e=>e.bufnrStr.length));if(t.maxBufnrWidth!==n)return t.maxBufnrWidth=n,!0},draw(e,n){e.add(n.bufnrStr.padStart(t.maxBufnrWidth),o.bufferHighlights.bufnr),e.add(" ")}}),()=>({maxBufnrWidth:0}))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(10),i=n(8),o=n(12);r.bufferColumnRegistrar.registerColumn("readonly",()=>({labelOnly:e=>e.readonly,draw(e,t){t.readonly&&(e.add(t.readonly?i.enableNerdfont?"":"RO":"",o.bufferHighlights.readonly),e.add(" "))}}))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(10),i=n(12);r.bufferColumnRegistrar.registerColumn("fullpath",()=>({draw(e,t){t.basename!==t.bufname&&(e.add(t.fullpath,i.bufferHighlights.fullpath),e.add(" "))}}))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(0),i=n(11);t.initBufferActions=function(e){const{nvim:t}=e;e.addAction("collapse",async()=>{e.expanded=!1,await e.reload(e.rootNode),await e.gotoRoot()},"collapse root node"),e.addRootAction("expand",async()=>{e.expanded=!0,await e.reload(e.rootNode)},"expand root node"),e.addNodesAction("expand",async t=>{await e.doAction("open",t)},"open buffer"),e.addNodeAction("open",async n=>{await e.openAction(n,async i=>{await r.avoidOnBufEnter(async()=>{await e.nvim.command(`${i}wincmd w`)}),await t.command(`buffer ${n.bufnr}`)})},"open buffer",{multi:!1}),e.addNodeAction("drop",async n=>{if(!n.hidden){const r=await t.call("getbufinfo",n.bufnr);if(r.length&&r[0].windows.length){const n=r[0].windows[0];return await t.call("win_gotoid",n),void await e.quitOnOpen()}}await t.command(`buffer ${n.bufnr}`),await e.quitOnOpen()},"open buffer via drop command",{multi:!1}),e.addNodeAction("openInTab",async n=>{await e.quitOnOpen();const r=await t.call("fnameescape",n.bufname);await t.command(`tabe ${r}`)},"open buffer via tab"),e.addNodeAction("openInSplit",async n=>{await t.command(`sbuffer ${n.bufnr}`),await e.quitOnOpen()},"open buffer via split command"),e.addNodeAction("openInVsplit",async n=>{await r.execNotifyBlock(async()=>{const r=await e.explorer.args.value(i.argOptions.position);t.command(`vertical sbuffer ${n.bufnr}`,!0),"left"===r?t.command("wincmd L",!0):"right"===r?t.command("wincmd H",!0):"tab"===r&&t.command("wincmd L",!0),await e.quitOnOpen()})},"open buffer via vsplit command"),e.addNodeAction("delete",async e=>{await t.command(`bdelete ${e.bufnr}`)},"delete buffer",{reload:!0}),e.addNodeAction("deleteForever",async e=>{await t.command(`bwipeout ${e.bufnr}`)},"bwipeout buffer",{reload:!0})}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),n(94),n(97),n(98),n(100),n(101),n(43),n(102),n(103),n(105),n(106),n(107),n(108),n(109),n(110)},function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const i=r(n(95)),o=n(3),s=n(41),a=r(n(2)),c=n(0),u=n(4),l=e=>o.fileColumnRegistrar.getColumnConfig("git.icon."+e),f={[s.GitFormat.mixed]:l("mixed"),[s.GitFormat.unmodified]:l("unmodified"),[s.GitFormat.modified]:l("modified"),[s.GitFormat.added]:l("added"),[s.GitFormat.deleted]:l("deleted"),[s.GitFormat.renamed]:l("renamed"),[s.GitFormat.copied]:l("copied"),[s.GitFormat.unmerged]:l("unmerged"),[s.GitFormat.untracked]:l("untracked"),[s.GitFormat.ignored]:l("ignored")};o.fileColumnRegistrar.registerColumn("git",(e,t)=>({init(){const n=(e,t)=>e.x===t.x&&e.y===t.y;e.subscriptions.push(c.onEvents("BufWritePost",c.debounce(1e3,async r=>{const i=await e.nvim.call("getbufinfo",[r]);if(i[0]&&i[0].name){const r=i[0].name,o=a.default.basename(r),c=a.default.dirname(r);await s.gitManager.reload(c);const u=await s.gitManager.getStatuses(c),l=new Set;if(".gitignore"===o){for(const e of Object.keys(u))l.add(e);for(const e of Object.keys(t.prevStatuses))l.add(e)}else{for(const[e,r]of Object.entries(u)){if(e in t.prevStatuses){if(n(t.prevStatuses[e],r))continue;delete t.prevStatuses[e]}l.add(e)}for(const e of Object.keys(t.prevStatuses))l.add(e)}await e.renderPaths(l),t.prevStatuses=u}})))},async validate(){try{return await i.default("git"),!0}catch(e){return!1}},async reload(n){const r="isRoot"in n?e.root:n.directory?n.fullpath:a.default.dirname(n.fullpath);await s.gitManager.reload(r),t.prevStatuses=await s.gitManager.getStatuses(r)},draw(t,n,{nodeIndex:r}){const i=(e,n)=>{t.add(e,n?u.fileHighlights.gitStage:u.fileHighlights.gitUnstage)},o=s.gitManager.getStatus(n.fullpath);o?(i(f[o.x],!0),i(f[o.y],!1),t.add(" "),e.addIndexes("git",r)):(t.add("   "),e.removeIndexes("git",r))}}),()=>({prevStatuses:{}}))},function(e,t,n){e.exports=n(96)},function(e,t,n){"use strict";var r=n(16).exec,i=n(16).execSync,o=n(6),s=n(2),a=o.access,c=o.accessSync,u=o.constants||o,l="win32"==process.platform,f=function(e,t,n){!function(e,t){a(e,u.F_OK,(function(e){t(!e)}))}(e,(function(i){if(i)!function(e,t){a(e,u.F_OK|u.X_OK,(function(e){t(null,!e)}))}(e,n);else r("command -v "+t+" 2>/dev/null && { echo >&1 "+t+"; exit 0; }",(function(e,t,r){n(null,!!t)}))}))},d=function(e,t){if(function(e){try{return c(e,u.F_OK),!1}catch(e){return!0}}(e))try{return!!i("command -v "+t+" 2>/dev/null && { echo >&1 "+t+"; exit 0; }")}catch(e){return!1}return function(e){try{return c(e,u.F_OK|u.X_OK),!0}catch(e){return!1}}(e)},h=function(e){return/[^A-Za-z0-9_\/:=-]/.test(e)&&(e=(e="'"+e.replace(/'/g,"'\\''")+"'").replace(/^(?:'')+/g,"").replace(/\\'''/g,"\\'")),e};l&&(h=function(e){return/[\\]/.test(e)?'"'+s.dirname(e)+'"'+":"+('"'+s.basename(e)+'"'):'"'+e+'"'}),e.exports=function e(t,n){var i=h(t);if(!n&&"undefined"!=typeof Promise)return new Promise((function(n,r){e(t,(function(e,i){i?n(t):r(e)}))}));l?function(e,t,n){if(/[\x00-\x1f<>:"\|\?\*]/.test(e))n(null,!1);else r("where "+t,(function(e){n(null,null===e)}))}(t,i,n):f(t,i,n)},e.exports.sync=function(e){var t=h(e);return l?function(e,t,n){if(/[\x00-\x1f<>:"\|\?\*]/.test(e))return!1;try{return!!i("where "+t,{stdio:[]})}catch(e){return!1}}(e,t):d(e,t)}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(3),i=n(8),o=n(5).hlGroupManager.concealable("FileSelection");r.fileColumnRegistrar.registerColumn("selection",e=>({concealable:o,async beforeDraw(){var t,n;e.isSelectedAny()?null===(t=this.concealable)||void 0===t||t.requestShow():null===(n=this.concealable)||void 0===n||n.requestHide()},draw(t,n){t.add(e.isSelectedNode(n)?i.sourceIcons.selected:i.sourceIcons.unselected),t.add(" ")}}))},function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const i=n(3),o=n(8),s=r(n(99)),a=n(5),c=n(0),u=n(1),l=n(4),f=n(42),d=c.config.get("icon.enableVimDevions");t.nerdfont=s.default;const h=c.config.get("icon.customIcons");Object.assign(t.nerdfont.icons,h.icons),Object.assign(t.nerdfont.extensions,h.extensions),Object.assign(t.nerdfont.filenames,h.filenames),Object.assign(t.nerdfont.patternMatches,h.patternMatches),t.nerdfontHighlights={},Object.entries(t.nerdfont.icons).forEach(([e,n])=>{t.nerdfontHighlights[e]=a.hlGroupManager.group(`FileIconNerdfont_${e}`,`guifg=${n.color}`)});const p=Symbol("icon-column");function g(e){return f.getSymbol(e,p,()=>({devicons:""}))}i.fileColumnRegistrar.registerColumn("icon",e=>({async beforeDraw(e){d&&await Promise.all(e.map(async e=>{g(e).devicons=await u.workspace.nvim.call("WebDevIconsGetFileTypeSymbol",[e.name,!1])}))},async draw(n,r){if(r.directory)o.enableNerdfont?n.add(e.expandStore.isExpanded(r)?t.nerdfont.icons.folderOpened.code:t.nerdfont.icons.folderClosed.code,l.fileHighlights.directory):n.add(e.expandStore.isExpanded(r)?o.sourceIcons.expanded:o.sourceIcons.collapsed,l.fileHighlights.directory),n.add(" ");else{if(o.enableNerdfont){const e=function(e){const{extensions:n,basename:r}=c.getExtensions(e),i=n[n.length-1];if(t.nerdfont.filenames.hasOwnProperty(r)){const e=t.nerdfont.filenames[r];return Object.assign({name:e},t.nerdfont.icons[e])}if(t.nerdfont.filenames.hasOwnProperty(e)){const n=t.nerdfont.filenames[e];return Object.assign({name:n},t.nerdfont.icons[n])}const o=Object.entries(t.nerdfont.patternMatches).find(([t])=>new RegExp(t).test(e));if(o){const e=o[1];return Object.assign({name:e},t.nerdfont.icons[e])}if(t.nerdfont.extensions.hasOwnProperty(i)){const e=t.nerdfont.extensions[i];return Object.assign({name:e},t.nerdfont.icons[e])}}(r.name.toLowerCase());e&&d&&(e.code=g(r).devicons),e?n.add(e.code,t.nerdfontHighlights[e.name]):r.hidden?n.add(t.nerdfont.icons.fileHidden.code,t.nerdfontHighlights.fileHidden):n.add(t.nerdfont.icons.file.code,t.nerdfontHighlights.file)}else n.add(" ");n.add(" ")}}}))},function(e){e.exports=JSON.parse('{"icons":{"folderClosed":{"code":"","color":"#00afaf"},"folderOpened":{"code":"","color":"#00afaf"},"folderSymlink":{"code":"","color":"#00afaf"},"file":{"code":"","color":"#999999"},"fileSymlink":{"code":"","color":"#999999"},"fileHidden":{"code":"﬒","color":"#999999"},"excel":{"code":"","color":"#207245"},"word":{"code":"","color":"#185abd"},"ppt":{"code":"","color":"#cb4a32"},"stylus":{"code":"","color":"#8dc149"},"sass":{"code":"","color":"#f55385"},"html":{"code":"","color":"#e37933"},"xml":{"code":"謹","color":"#e37933"},"ejs":{"code":"","color":"#cbcb41"},"css":{"code":"","color":"#519aba"},"webpack":{"code":"ﰩ","color":"#519aba"},"markdown":{"code":"","color":"#519aba"},"json":{"code":"","color":"#cbcb41"},"javascript":{"code":"","color":"#cbcb41"},"javascriptreact":{"code":"","color":"#519aba"},"ruby":{"code":"","color":"#cc3e44"},"php":{"code":"","color":"#a074c4"},"python":{"code":"","color":"#519aba"},"coffee":{"code":"","color":"#cbcb41"},"mustache":{"code":"","color":"#e37933"},"conf":{"code":"","color":"#6d8086"},"image":{"code":"","color":"#a074c4"},"ico":{"code":"","color":"#cbcb41"},"twig":{"code":"","color":"#8dc149"},"c":{"code":"","color":"#519aba"},"h":{"code":"","color":"#a074c4"},"haskell":{"code":"","color":"#a074c4"},"lua":{"code":"","color":"#519aba"},"java":{"code":"","color":"#cc3e44"},"terminal":{"code":"","color":"#4d5a5e"},"ml":{"code":"λ","color":"#e37933"},"diff":{"code":"","color":"#41535b"},"sql":{"code":"","color":"#f55385"},"clojure":{"code":"","color":"#8dc149"},"edn":{"code":"","color":"#519aba"},"scala":{"code":"","color":"#cc3e44"},"go":{"code":"","color":"#519aba"},"dart":{"code":"","color":"#03589C"},"firefox":{"code":"","color":"#e37933"},"vs":{"code":"","color":"#854CC7"},"perl":{"code":"","color":"#519aba"},"rss":{"code":"","color":"FB9D3B"},"csharp":{"code":"","color":"#519aba"},"fsharp":{"code":"","color":"#519aba"},"rust":{"code":"","color":"#519aba"},"dlang":{"code":"","color":"#cc3e44"},"erlang":{"code":"","color":"#A90533"},"elixir":{"code":"","color":"#a074c4"},"mix":{"code":"","color":"#cc3e44"},"vim":{"code":"","color":"#019833"},"ai":{"code":"","color":"#cbcb41"},"psd":{"code":"","color":"#519aba"},"psb":{"code":"","color":"#519aba"},"typescript":{"code":"","color":"#519aba"},"typescriptreact":{"code":"","color":"#519aba"},"julia":{"code":"","color":"#a074c4"},"puppet":{"code":"","color":"#cbcb41"},"vue":{"code":"﵂","color":"#8dc149"},"swift":{"code":"","color":"#e37933"},"gitconfig":{"code":"","color":"#41535b"},"bashrc":{"code":"","color":"#4d5a5e"},"favicon":{"code":"","color":"#cbcb41"},"docker":{"code":"","color":"#519aba"},"gruntfile":{"code":"","color":"#e37933"},"gulpfile":{"code":"","color":"#cc3e44"},"dropbox":{"code":"","color":"#0061FE"},"license":{"code":"","color":"#cbcb41"},"procfile":{"code":"","color":"#a074c4"},"jquery":{"code":"","color":"#1B75BB"},"angular":{"code":"","color":"#E23237"},"backbone":{"code":"","color":"#0071B5"},"requirejs":{"code":"","color":"#F44A41"},"materialize":{"code":"","color":"#EE6E73"},"mootools":{"code":"","color":"#ECECEC"},"vagrant":{"code":"","color":"#1563FF"},"svg":{"code":"ﰟ","color":"#FFB13B"},"font":{"code":"","color":"#999999"},"text":{"code":"","color":"#999999"},"archive":{"code":"","color":"#cc3e44"},"lock":{"code":"","color":"#999999"}},"extensions":{"styl":"stylus","sass":"sass","scss":"sass","htm":"html","html":"html","slim":"html","xml":"xml","xaml":"xml","ejs":"ejs","css":"css","less":"css","md":"markdown","mdx":"markdown","markdown":"markdown","rmd":"markdown","lock":"lock","json":"json","js":"javascript","es6":"javascript","jsx":"javascriptreact","rb":"ruby","ru":"ruby","php":"php","py":"python","pyc":"python","pyo":"python","pyd":"python","coffee":"coffee","mustache":"mustache","hbs":"mustache","config":"conf","conf":"conf","ini":"conf","yml":"conf","yaml":"conf","toml":"conf","jpg":"image","jpeg":"image","bmp":"image","png":"image","gif":"image","ico":"ico","twig":"twig","cpp":"c","c++":"c","cxx":"c","cc":"c","cp":"c","c":"c","h":"h","hpp":"h","hxx":"h","hs":"haskell","lhs":"haskell","lua":"lua","java":"java","jar":"java","sh":"terminal","fish":"terminal","bash":"terminal","zsh":"terminal","ksh":"terminal","csh":"terminal","awk":"terminal","ps1":"terminal","bat":"terminal","cmd":"terminal","ml":"ml","mli":"ml","diff":"diff","db":"sql","sql":"sql","dump":"sql","accdb":"sql","clj":"clojure","cljc":"clojure","cljs":"clojure","edn":"edn","scala":"scala","go":"go","dart":"dart","xul":"firefox","pl":"perl","pm":"perl","t":"perl","rss":"rss","sln":"vs","suo":"vs","csproj":"vs","cs":"csharp","fsscript":"fsharp","fsx":"fsharp","fs":"fsharp","fsi":"fsharp","rs":"rust","rlib":"rust","d":"dlang","erl":"erlang","hrl":"erlang","ex":"elixir","exs":"elixir","exx":"elixir","leex":"elixir","vim":"vim","ai":"ai","psd":"psd","psb":"psd","ts":"typescript","tsx":"javascriptreact","jl":"julia","pp":"puppet","vue":"vue","swift":"swift","xcplayground":"swift","svg":"svg","otf":"font","ttf":"font","fnt":"font","txt":"text","text":"text","zip":"archive","tar":"archive","gz":"archive","gzip":"archive","rar":"archive","7z":"archive","iso":"archive","doc":"word","docx":"word","docm":"word","csv":"excel","xls":"excel","xlsx":"excel","xlsm":"excel","ppt":"ppt","pptx":"ppt","pptm":"ppt"},"filenames":{"gruntfile":"gruntfile","gulpfile":"gulpfile","gemfile":"ruby","guardfile":"ruby","capfile":"ruby","rakefile":"ruby","mix":"mix","dropbox":"dropbox","vimrc":"vim",".vimrc":"vim",".gvimrc":"vim","_vimrc":"vim","_gvimrc":"vim","license":"license","procfile":"procfile","Vagrantfile":"vagrant","docker-compose.yml":"docker",".gitconfig":"gitconfig",".gitignore":"gitconfig","webpack":"webpack",".bashrc":"bashrc",".zshrc":"bashrc",".bashprofile":"bashrc","favicon.ico":"favicon","dockerfile":"docker"},"patternMatches":{".*jquery.*.js$":"jquery",".*angular.*.js$":"angular",".*backbone.*.js$":"backbone",".*require.*.js$":"requirejs",".*materialize.*.js$":"materialize",".*materialize.*.css$":"materialize",".*mootools.*.js$":"mootools"}}')},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(3),i=n(43),o=n(4),s=n(1),a=n(0),c=n(42),u=s.workspace.nvim,l=r.fileColumnRegistrar.getColumnConfig("filename.width"),f=r.fileColumnRegistrar.getColumnConfig("filename.paddingEnd"),d=Symbol("filename-column");function h(e,t){return c.getSymbol(t,d,()=>({indentWidth:p(e,t)}))}function p(e,t){return e.columnManager.columnNames.includes("indent")||e.columnManager.columnNames.includes("indentLine")?i.indentChars.length*(t.level-(i.topLevel?0:1)):0}const g=new Map;r.fileColumnRegistrar.registerColumn("filename",e=>({async beforeDraw(t){await async function(e,t,n){await Promise.all(n.map(async n=>{let r=n.name;n.directory&&(r+="/");const i=n.symbolicLink?await a.fsReadlink(n.fullpath).then(e=>" → "+e).catch(()=>""):"",o=[n.level,r,i].join("-");if(!g.has(o)){const s=t-h(e,n).indentWidth;g.set(o,await u.call("coc_explorer#truncate",[r,i,s,f,".."]))}const s=g.get(o);h(e,n).truncatedName=s[0],h(e,n).truncatedLinkTarget=s[1]}))}(e,l,t)},draw(t,n){const r=h(e,n);n.directory?(t.add(r.truncatedName,o.fileHighlights.directory),t.add(r.truncatedLinkTarget,o.fileHighlights.linkTarget)):(t.add(r.truncatedName),t.add(r.truncatedLinkTarget,o.fileHighlights.linkTarget)),t.add(" ")}}))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(3),i=n(4);r.fileColumnRegistrar.registerColumn("fullpath",()=>({draw(e,t){t.directory?e.add(t.fullpath+"/",i.fileHighlights.directory):e.add(t.fullpath),e.add(" ")}}))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(3),i=n(5),o=n(8),s=n(0),a=n(4);let c=r.fileColumnRegistrar.getColumnConfig("clip.copy"),u=r.fileColumnRegistrar.getColumnConfig("clip.cut");o.enableNerdfont?(void 0===c&&(c=""),void 0===u&&(u="")):(void 0===c&&(c="C"),void 0===u&&(u="X"));const l=s.max([c.length,u.length])+1;c=c.padEnd(l," "),u=u.padEnd(l," ");const f=" ".repeat(l),d=i.hlGroupManager.concealable("FileClip");r.fileColumnRegistrar.registerColumn("clip",e=>({concealable:d,async beforeDraw(){var t,n;0===e.copiedNodes.size&&0===e.cutNodes.size?null===(t=this.concealable)||void 0===t||t.requestHide():null===(n=this.concealable)||void 0===n||n.requestShow()},draw(t,n){const r=e.copiedNodes.has(n)?c:e.cutNodes.has(n)?u:f;t.add(r,a.fileHighlights.clip)}}))},function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const i=r(n(104)),o=n(3),s=n(4);o.fileColumnRegistrar.registerColumn("size",()=>({draw(e,t,{isLabeling:n}){t.lstat?n?e.add(i.default(t.lstat.size),s.fileHighlights.size):e.add(i.default(t.lstat.size).padStart(10),s.fileHighlights.size):e.add(" ".repeat(10)),e.add(" ")}}))},function(e,t,n){"use strict";const r=["B","kB","MB","GB","TB","PB","EB","ZB","YB"],i=["b","kbit","Mbit","Gbit","Tbit","Pbit","Ebit","Zbit","Ybit"],o=(e,t)=>{let n=e;return"string"==typeof t?n=e.toLocaleString(t):!0===t&&(n=e.toLocaleString()),n};e.exports=(e,t)=>{if(!Number.isFinite(e))throw new TypeError(`Expected a finite number, got ${typeof e}: ${e}`);const n=(t=Object.assign({bits:!1},t)).bits?i:r;if(t.signed&&0===e)return" 0 "+n[0];const s=e<0,a=s?"-":t.signed?"+":"";if(s&&(e=-e),e<1){return a+o(e,t.locale)+" "+n[0]}const c=Math.min(Math.floor(Math.log10(e)/3),n.length-1);return e=Number((e/Math.pow(1e3,c)).toPrecision(3)),a+o(e,t.locale)+" "+n[c]}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(3),i=n(8),o=n(4);r.fileColumnRegistrar.registerColumn("readonly",()=>({labelOnly:e=>e.readonly,draw(e,t){t.readonly&&(e.add(t.readonly?i.enableNerdfont?"":"RO":"",o.fileHighlights.readonly),e.add(" "))}}))},function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const i=n(3),o=r(n(24)),s=n(0),a=n(4);i.fileColumnRegistrar.registerColumn("modified",()=>({draw(e,t){t.lstat?e.add(o.default(t.lstat.mtime).format(s.datetimeFormat),a.fileHighlights.timeModified):e.add("                 "),e.add(" ")}}))},function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const i=n(3),o=r(n(24)),s=n(0),a=n(4);i.fileColumnRegistrar.registerColumn("created",()=>({draw(e,t){t.lstat?e.add(o.default(t.lstat.ctime).format(s.datetimeFormat),a.fileHighlights.timeCreated):e.add("                 "),e.add(" ")}}))},function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const i=n(3),o=r(n(24)),s=n(0),a=n(4);i.fileColumnRegistrar.registerColumn("accessed",()=>({draw(e,t){t.lstat?e.add(o.default(t.lstat.atime).format(s.datetimeFormat),a.fileHighlights.timeAccessed):e.add("                 "),e.add(" ")}}))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(3),i=n(5),o=n(44),s=n(0),a=n(4),c=s.config.get("file.diagnosticCountMax").toString().length,u=i.hlGroupManager.concealable("FileDiagnosticError");r.fileColumnRegistrar.registerColumn("diagnosticError",(e,t)=>({concealable:u,init(){e.subscriptions.push(s.onEvents("BufWritePost",s.debounce(1e3,async()=>{o.diagnosticManager.errorReload(e.root);const n=o.diagnosticManager.errorMixedCount,r=new Set;for(const[e,i]of Object.entries(n))if(e in t.prevDiagnosticError){if(t.prevDiagnosticError[e]===i)continue;delete t.prevDiagnosticError[e]}else r.add(e);for(const[e]of Object.keys(t.prevDiagnosticError))r.add(e);await e.renderPaths(r),t.prevDiagnosticError=n})))},reload(){o.diagnosticManager.errorReload(e.root)},beforeDraw(){var e,t;Object.keys(o.diagnosticManager.errorMixedCount).length?null===(e=this.concealable)||void 0===e||e.requestShow():null===(t=this.concealable)||void 0===t||t.requestHide()},draw(t,n,{nodeIndex:r}){if(n.fullpath in o.diagnosticManager.errorMixedCount)if(n.directory&&e.expandStore.isExpanded(n))t.add(" ".padStart(c)),e.removeIndexes("diagnosticError",r);else{const i=o.diagnosticManager.errorMixedCount[n.fullpath];t.add(i.padStart(c),a.fileHighlights.diagnosticError),e.addIndexes("diagnosticError",r)}else t.add(" ".repeat(c)),e.removeIndexes("diagnosticError",r);t.add(" ")}}),()=>({prevDiagnosticError:{}}))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(3),i=n(5),o=n(44),s=n(0),a=n(4),c=s.config.get("file.diagnosticCountMax").toString().length,u=i.hlGroupManager.concealable("FileDiagnosticWarning");r.fileColumnRegistrar.registerColumn("diagnosticWarning",(e,t)=>({concealable:u,init(){e.subscriptions.push(s.onEvents("BufWritePost",s.debounce(1e3,async()=>{o.diagnosticManager.warningReload(e.root);const n=o.diagnosticManager.warningMixedCount,r=new Set;for(const[e,i]of Object.entries(n))if(e in t.prevDiagnosticWarning){if(t.prevDiagnosticWarning[e]===i)continue;delete t.prevDiagnosticWarning[e]}else r.add(e);for(const[e]of Object.keys(t.prevDiagnosticWarning))r.add(e);await e.renderPaths(r),t.prevDiagnosticWarning=n})))},reload(){o.diagnosticManager.warningReload(e.root)},beforeDraw(){var e,t;Object.keys(o.diagnosticManager.warningMixedCount).length?null===(e=this.concealable)||void 0===e||e.requestShow():null===(t=this.concealable)||void 0===t||t.requestHide()},draw(t,n,{nodeIndex:r}){if(n.fullpath in o.diagnosticManager.warningMixedCount)if(n.directory&&e.expandStore.isExpanded(n))t.add(" ".padStart(c)),e.removeIndexes("diagnosticWarning",r);else{const i=o.diagnosticManager.warningMixedCount[n.fullpath];t.add(i.padStart(c),a.fileHighlights.diagnosticWarning),e.addIndexes("diagnosticWarning",r)}else t.add(" ".repeat(c)),e.removeIndexes("diagnosticWarning",r);t.add(" ")}}),()=>({prevDiagnosticWarning:{}}))},function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const i=n(16),o=n(1),s=n(33),a=r(n(15)),c=r(n(2)),u=r(n(112)),l=n(45),f=n(0);class d extends s.EventEmitter{constructor(){super(...arguments),this.processes=[]}start(e,t,n,r){let s=n.length;for(const f of n){const n=i.spawn(e,t,{cwd:f});this.processes.push(n),n.on("error",e=>{this.emit("error",e.message)});const d=u.default.createInterface(n.stdout),h=l.Range.create(0,0,0,0),p=r.length>0;n.stderr.on("data",e=>{console.error(e.toString("utf8"))}),d.on("line",e=>{const t=c.default.join(f,e);if(p&&r.some(e=>a.default(t,e)))return;const n=l.Location.create(o.Uri.file(t).toString(),h);this.emit("data",{label:e,location:n})}),d.on("close",()=>{0==(s-=1)&&this.emit("end")})}}dispose(){for(const e of this.processes)e.killed||e.kill()}}class h extends o.BasicList{constructor(e){super(e),this.name="explorerFiles",this.defaultAction="reveal",this.recursive=!1,this.showIgnore=!0,this.showHidden=!1,this.addLocationActions(),this.addAction("reveal",async e=>{const t=await this.convertLocation(e.location);this.revealCallback&&this.revealCallback(t)})}async getCommand(){const e=[];if(await f.executable("fd"))return e.push("--color","never"),this.showIgnore&&e.push("--no-ignore"),this.showHidden&&e.push("--hidden"),this.recursive||e.push("--max-depth","1"),{cmd:"fd",args:e};if(f.isWindows)return e.push("/a-D","/B"),this.recursive&&e.push("/S"),{cmd:"dir",args:e};if(await f.executable("find"))return e.push("."),this.recursive||e.push("-maxdepth","1"),{cmd:"find",args:e};throw new Error("Unable to find command for files list.")}async loadItems(e){if(!this.rootPath)return null;const t=await this.getCommand();if(!t)return null;const n=new d,r=this.getConfig().get("excludePatterns",[]);return n.start(t.cmd,t.args,[this.rootPath],r),n}}t.default=h,t.filesList=new h(o.workspace.nvim)},function(e,t){e.exports=require("readline")},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(14);var i;!function(e){e.ParseError=-32700,e.InvalidRequest=-32600,e.MethodNotFound=-32601,e.InvalidParams=-32602,e.InternalError=-32603,e.serverErrorStart=-32099,e.serverErrorEnd=-32e3,e.ServerNotInitialized=-32002,e.UnknownErrorCode=-32001,e.RequestCancelled=-32800,e.MessageWriteError=1,e.MessageReadError=2}(i=t.ErrorCodes||(t.ErrorCodes={}));class o extends Error{constructor(e,t,n){super(t),this.code=r.number(e)?e:i.UnknownErrorCode,this.data=n,Object.setPrototypeOf(this,o.prototype)}toJson(){return{code:this.code,message:this.message,data:this.data}}}t.ResponseError=o;class s{constructor(e,t){this._method=e,this._numberOfParams=t}get method(){return this._method}get numberOfParams(){return this._numberOfParams}}t.AbstractMessageType=s;t.RequestType0=class extends s{constructor(e){super(e,0),this._=void 0}};t.RequestType=class extends s{constructor(e){super(e,1),this._=void 0}};t.RequestType1=class extends s{constructor(e){super(e,1),this._=void 0}};t.RequestType2=class extends s{constructor(e){super(e,2),this._=void 0}};t.RequestType3=class extends s{constructor(e){super(e,3),this._=void 0}};t.RequestType4=class extends s{constructor(e){super(e,4),this._=void 0}};t.RequestType5=class extends s{constructor(e){super(e,5),this._=void 0}};t.RequestType6=class extends s{constructor(e){super(e,6),this._=void 0}};t.RequestType7=class extends s{constructor(e){super(e,7),this._=void 0}};t.RequestType8=class extends s{constructor(e){super(e,8),this._=void 0}};t.RequestType9=class extends s{constructor(e){super(e,9),this._=void 0}};t.NotificationType=class extends s{constructor(e){super(e,1),this._=void 0}};t.NotificationType0=class extends s{constructor(e){super(e,0),this._=void 0}};t.NotificationType1=class extends s{constructor(e){super(e,1),this._=void 0}};t.NotificationType2=class extends s{constructor(e){super(e,2),this._=void 0}};t.NotificationType3=class extends s{constructor(e){super(e,3),this._=void 0}};t.NotificationType4=class extends s{constructor(e){super(e,4),this._=void 0}};t.NotificationType5=class extends s{constructor(e){super(e,5),this._=void 0}};t.NotificationType6=class extends s{constructor(e){super(e,6),this._=void 0}};t.NotificationType7=class extends s{constructor(e){super(e,7),this._=void 0}};t.NotificationType8=class extends s{constructor(e){super(e,8),this._=void 0}};t.NotificationType9=class extends s{constructor(e){super(e,9),this._=void 0}},t.isRequestMessage=function(e){let t=e;return t&&r.string(t.method)&&(r.string(t.id)||r.number(t.id))},t.isNotificationMessage=function(e){let t=e;return t&&r.string(t.method)&&void 0===e.id},t.isResponseMessage=function(e){let t=e;return t&&(void 0!==t.result||!!t.error)&&(r.string(t.id)||r.number(t.id)||null===t.id)}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(17),i=n(14);var o;!function(e){e.None=Object.freeze({isCancellationRequested:!1,onCancellationRequested:r.Event.None}),e.Cancelled=Object.freeze({isCancellationRequested:!0,onCancellationRequested:r.Event.None}),e.is=function(t){let n=t;return n&&(n===e.None||n===e.Cancelled||i.boolean(n.isCancellationRequested)&&!!n.onCancellationRequested)}}(o=t.CancellationToken||(t.CancellationToken={}));const s=Object.freeze((function(e,t){let n=setTimeout(e.bind(t),0);return{dispose(){clearTimeout(n)}}}));class a{constructor(){this._isCancelled=!1}cancel(){this._isCancelled||(this._isCancelled=!0,this._emitter&&(this._emitter.fire(void 0),this._emitter=void 0))}get isCancellationRequested(){return this._isCancelled}get onCancellationRequested(){return this._isCancelled?s:(this._emitter||(this._emitter=new r.Emitter),this._emitter.event)}}t.CancellationTokenSource=class{get token(){return this._token||(this._token=new a),this._token}cancel(){this._token?this._token.cancel():this._token=o.Cancelled}dispose(){this.cancel()}}},function(e,t,n){"use strict";var r;Object.defineProperty(t,"__esModule",{value:!0}),function(e){e.None=0,e.First=1,e.Last=2}(r=t.Touch||(t.Touch={}));t.LinkedMap=class{constructor(){this._map=new Map,this._head=void 0,this._tail=void 0,this._size=0}clear(){this._map.clear(),this._head=void 0,this._tail=void 0,this._size=0}isEmpty(){return!this._head&&!this._tail}get size(){return this._size}has(e){return this._map.has(e)}get(e){const t=this._map.get(e);if(t)return t.value}set(e,t,n=r.None){let i=this._map.get(e);if(i)i.value=t,n!==r.None&&this.touch(i,n);else{switch(i={key:e,value:t,next:void 0,previous:void 0},n){case r.None:this.addItemLast(i);break;case r.First:this.addItemFirst(i);break;case r.Last:default:this.addItemLast(i)}this._map.set(e,i),this._size++}}delete(e){const t=this._map.get(e);return!!t&&(this._map.delete(e),this.removeItem(t),this._size--,!0)}shift(){if(!this._head&&!this._tail)return;if(!this._head||!this._tail)throw new Error("Invalid list");const e=this._head;return this._map.delete(e.key),this.removeItem(e),this._size--,e.value}forEach(e,t){let n=this._head;for(;n;)t?e.bind(t)(n.value,n.key,this):e(n.value,n.key,this),n=n.next}forEachReverse(e,t){let n=this._tail;for(;n;)t?e.bind(t)(n.value,n.key,this):e(n.value,n.key,this),n=n.previous}values(){let e=[],t=this._head;for(;t;)e.push(t.value),t=t.next;return e}keys(){let e=[],t=this._head;for(;t;)e.push(t.key),t=t.next;return e}addItemFirst(e){if(this._head||this._tail){if(!this._head)throw new Error("Invalid list");e.next=this._head,this._head.previous=e}else this._tail=e;this._head=e}addItemLast(e){if(this._head||this._tail){if(!this._tail)throw new Error("Invalid list");e.previous=this._tail,this._tail.next=e}else this._head=e;this._tail=e}removeItem(e){if(e===this._head&&e===this._tail)this._head=void 0,this._tail=void 0;else if(e===this._head)this._head=e.next;else if(e===this._tail)this._tail=e.previous;else{const t=e.next,n=e.previous;if(!t||!n)throw new Error("Invalid list");t.previous=n,n.next=t}}touch(e,t){if(!this._head||!this._tail)throw new Error("Invalid list");if(t===r.First||t===r.Last)if(t===r.First){if(e===this._head)return;const t=e.next,n=e.previous;e===this._tail?(n.next=void 0,this._tail=n):(t.previous=n,n.next=t),e.previous=void 0,e.next=this._head,this._head.previous=e,this._head=e}else if(t===r.Last){if(e===this._tail)return;const t=e.next,n=e.previous;e===this._head?(t.previous=void 0,this._head=t):(t.previous=n,n.next=t),e.next=void 0,e.previous=this._tail,this._tail.next=e,this._tail=e}}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(2),i=n(21),o=n(117),s=n(46),a=n(25),c=n(26);t.generateRandomPipeName=function(){const e=o.randomBytes(21).toString("hex");return"win32"===process.platform?`\\\\.\\pipe\\vscode-jsonrpc-${e}-sock`:r.join(i.tmpdir(),`vscode-${e}.sock`)},t.createClientPipeTransport=function(e,t="utf-8"){let n,r=new Promise((e,t)=>{n=e});return new Promise((i,o)=>{let u=s.createServer(e=>{u.close(),n([new a.SocketMessageReader(e,t),new c.SocketMessageWriter(e,t)])});u.on("error",o),u.listen(e,()=>{u.removeListener("error",o),i({onConnected:()=>r})})})},t.createServerPipeTransport=function(e,t="utf-8"){const n=s.createConnection(e);return[new a.SocketMessageReader(n,t),new c.SocketMessageWriter(n,t)]}},function(e,t){e.exports=require("crypto")},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(46),i=n(25),o=n(26);t.createClientSocketTransport=function(e,t="utf-8"){let n,s=new Promise((e,t)=>{n=e});return new Promise((a,c)=>{let u=r.createServer(e=>{u.close(),n([new i.SocketMessageReader(e,t),new o.SocketMessageWriter(e,t)])});u.on("error",c),u.listen(e,"127.0.0.1",()=>{u.removeListener("error",c),a({onConnected:()=>s})})})},t.createServerSocketTransport=function(e,t="utf-8"){const n=r.createConnection(e,"127.0.0.1");return[new i.SocketMessageReader(n,t),new o.SocketMessageWriter(n,t)]}},function(e,t,n){var r,i,o;!function(s){if("object"==typeof e.exports){var a=s(n(120),t);void 0!==a&&(e.exports=a)}else i=[n,t],void 0===(o="function"==typeof(r=s)?r.apply(t,i):r)||(e.exports=o)}((function(e,t){"use strict";var n,r,i,o,s,a,c,u,l,f,d,h,p;Object.defineProperty(t,"__esModule",{value:!0}),function(e){e.create=function(e,t){return{line:e,character:t}},e.is=function(e){var t=e;return E.objectLiteral(t)&&E.number(t.line)&&E.number(t.character)}}(n=t.Position||(t.Position={})),function(e){e.create=function(e,t,r,i){if(E.number(e)&&E.number(t)&&E.number(r)&&E.number(i))return{start:n.create(e,t),end:n.create(r,i)};if(n.is(e)&&n.is(t))return{start:e,end:t};throw new Error("Range#create called with invalid arguments["+e+", "+t+", "+r+", "+i+"]")},e.is=function(e){var t=e;return E.objectLiteral(t)&&n.is(t.start)&&n.is(t.end)}}(r=t.Range||(t.Range={})),function(e){e.create=function(e,t){return{uri:e,range:t}},e.is=function(e){var t=e;return E.defined(t)&&r.is(t.range)&&(E.string(t.uri)||E.undefined(t.uri))}}(i=t.Location||(t.Location={})),function(e){e.create=function(e,t,n,r){return{targetUri:e,targetRange:t,targetSelectionRange:n,originSelectionRange:r}},e.is=function(e){var t=e;return E.defined(t)&&r.is(t.targetRange)&&E.string(t.targetUri)&&(r.is(t.targetSelectionRange)||E.undefined(t.targetSelectionRange))&&(r.is(t.originSelectionRange)||E.undefined(t.originSelectionRange))}}(t.LocationLink||(t.LocationLink={})),function(e){e.create=function(e,t,n,r){return{red:e,green:t,blue:n,alpha:r}},e.is=function(e){var t=e;return E.number(t.red)&&E.number(t.green)&&E.number(t.blue)&&E.number(t.alpha)}}(o=t.Color||(t.Color={})),function(e){e.create=function(e,t){return{range:e,color:t}},e.is=function(e){var t=e;return r.is(t.range)&&o.is(t.color)}}(t.ColorInformation||(t.ColorInformation={})),function(e){e.create=function(e,t,n){return{label:e,textEdit:t,additionalTextEdits:n}},e.is=function(e){var t=e;return E.string(t.label)&&(E.undefined(t.textEdit)||u.is(t))&&(E.undefined(t.additionalTextEdits)||E.typedArray(t.additionalTextEdits,u.is))}}(t.ColorPresentation||(t.ColorPresentation={})),function(e){e.Comment="comment",e.Imports="imports",e.Region="region"}(t.FoldingRangeKind||(t.FoldingRangeKind={})),function(e){e.create=function(e,t,n,r,i){var o={startLine:e,endLine:t};return E.defined(n)&&(o.startCharacter=n),E.defined(r)&&(o.endCharacter=r),E.defined(i)&&(o.kind=i),o},e.is=function(e){var t=e;return E.number(t.startLine)&&E.number(t.startLine)&&(E.undefined(t.startCharacter)||E.number(t.startCharacter))&&(E.undefined(t.endCharacter)||E.number(t.endCharacter))&&(E.undefined(t.kind)||E.string(t.kind))}}(t.FoldingRange||(t.FoldingRange={})),function(e){e.create=function(e,t){return{location:e,message:t}},e.is=function(e){var t=e;return E.defined(t)&&i.is(t.location)&&E.string(t.message)}}(s=t.DiagnosticRelatedInformation||(t.DiagnosticRelatedInformation={})),function(e){e.Error=1,e.Warning=2,e.Information=3,e.Hint=4}(t.DiagnosticSeverity||(t.DiagnosticSeverity={})),function(e){e.create=function(e,t,n,r,i,o){var s={range:e,message:t};return E.defined(n)&&(s.severity=n),E.defined(r)&&(s.code=r),E.defined(i)&&(s.source=i),E.defined(o)&&(s.relatedInformation=o),s},e.is=function(e){var t=e;return E.defined(t)&&r.is(t.range)&&E.string(t.message)&&(E.number(t.severity)||E.undefined(t.severity))&&(E.number(t.code)||E.string(t.code)||E.undefined(t.code))&&(E.string(t.source)||E.undefined(t.source))&&(E.undefined(t.relatedInformation)||E.typedArray(t.relatedInformation,s.is))}}(a=t.Diagnostic||(t.Diagnostic={})),function(e){e.create=function(e,t){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];var i={title:e,command:t};return E.defined(n)&&n.length>0&&(i.arguments=n),i},e.is=function(e){var t=e;return E.defined(t)&&E.string(t.title)&&E.string(t.command)}}(c=t.Command||(t.Command={})),function(e){e.replace=function(e,t){return{range:e,newText:t}},e.insert=function(e,t){return{range:{start:e,end:e},newText:t}},e.del=function(e){return{range:e,newText:""}},e.is=function(e){var t=e;return E.objectLiteral(t)&&E.string(t.newText)&&r.is(t.range)}}(u=t.TextEdit||(t.TextEdit={})),function(e){e.create=function(e,t){return{textDocument:e,edits:t}},e.is=function(e){var t=e;return E.defined(t)&&g.is(t.textDocument)&&Array.isArray(t.edits)}}(l=t.TextDocumentEdit||(t.TextDocumentEdit={})),function(e){e.create=function(e,t){var n={kind:"create",uri:e};return void 0===t||void 0===t.overwrite&&void 0===t.ignoreIfExists||(n.options=t),n},e.is=function(e){var t=e;return t&&"create"===t.kind&&E.string(t.uri)&&(void 0===t.options||(void 0===t.options.overwrite||E.boolean(t.options.overwrite))&&(void 0===t.options.ignoreIfExists||E.boolean(t.options.ignoreIfExists)))}}(f=t.CreateFile||(t.CreateFile={})),function(e){e.create=function(e,t,n){var r={kind:"rename",oldUri:e,newUri:t};return void 0===n||void 0===n.overwrite&&void 0===n.ignoreIfExists||(r.options=n),r},e.is=function(e){var t=e;return t&&"rename"===t.kind&&E.string(t.oldUri)&&E.string(t.newUri)&&(void 0===t.options||(void 0===t.options.overwrite||E.boolean(t.options.overwrite))&&(void 0===t.options.ignoreIfExists||E.boolean(t.options.ignoreIfExists)))}}(d=t.RenameFile||(t.RenameFile={})),function(e){e.create=function(e,t){var n={kind:"delete",uri:e};return void 0===t||void 0===t.recursive&&void 0===t.ignoreIfNotExists||(n.options=t),n},e.is=function(e){var t=e;return t&&"delete"===t.kind&&E.string(t.uri)&&(void 0===t.options||(void 0===t.options.recursive||E.boolean(t.options.recursive))&&(void 0===t.options.ignoreIfNotExists||E.boolean(t.options.ignoreIfNotExists)))}}(h=t.DeleteFile||(t.DeleteFile={})),function(e){e.is=function(e){var t=e;return t&&(void 0!==t.changes||void 0!==t.documentChanges)&&(void 0===t.documentChanges||t.documentChanges.every((function(e){return E.string(e.kind)?f.is(e)||d.is(e)||h.is(e):l.is(e)})))}}(p=t.WorkspaceEdit||(t.WorkspaceEdit={}));var g,m,v,y,w=function(){function e(e){this.edits=e}return e.prototype.insert=function(e,t){this.edits.push(u.insert(e,t))},e.prototype.replace=function(e,t){this.edits.push(u.replace(e,t))},e.prototype.delete=function(e){this.edits.push(u.del(e))},e.prototype.add=function(e){this.edits.push(e)},e.prototype.all=function(){return this.edits},e.prototype.clear=function(){this.edits.splice(0,this.edits.length)},e}(),b=function(){function e(e){var t=this;this._textEditChanges=Object.create(null),e&&(this._workspaceEdit=e,e.documentChanges?e.documentChanges.forEach((function(e){if(l.is(e)){var n=new w(e.edits);t._textEditChanges[e.textDocument.uri]=n}})):e.changes&&Object.keys(e.changes).forEach((function(n){var r=new w(e.changes[n]);t._textEditChanges[n]=r})))}return Object.defineProperty(e.prototype,"edit",{get:function(){return this._workspaceEdit},enumerable:!0,configurable:!0}),e.prototype.getTextEditChange=function(e){if(g.is(e)){if(this._workspaceEdit||(this._workspaceEdit={documentChanges:[]}),!this._workspaceEdit.documentChanges)throw new Error("Workspace edit is not configured for document changes.");var t=e;if(!(r=this._textEditChanges[t.uri])){var n={textDocument:t,edits:i=[]};this._workspaceEdit.documentChanges.push(n),r=new w(i),this._textEditChanges[t.uri]=r}return r}if(this._workspaceEdit||(this._workspaceEdit={changes:Object.create(null)}),!this._workspaceEdit.changes)throw new Error("Workspace edit is not configured for normal text edit changes.");var r;if(!(r=this._textEditChanges[e])){var i=[];this._workspaceEdit.changes[e]=i,r=new w(i),this._textEditChanges[e]=r}return r},e.prototype.createFile=function(e,t){this.checkDocumentChanges(),this._workspaceEdit.documentChanges.push(f.create(e,t))},e.prototype.renameFile=function(e,t,n){this.checkDocumentChanges(),this._workspaceEdit.documentChanges.push(d.create(e,t,n))},e.prototype.deleteFile=function(e,t){this.checkDocumentChanges(),this._workspaceEdit.documentChanges.push(h.create(e,t))},e.prototype.checkDocumentChanges=function(){if(!this._workspaceEdit||!this._workspaceEdit.documentChanges)throw new Error("Workspace edit is not configured for document changes.")},e}();t.WorkspaceChange=b,function(e){e.create=function(e){return{uri:e}},e.is=function(e){var t=e;return E.defined(t)&&E.string(t.uri)}}(t.TextDocumentIdentifier||(t.TextDocumentIdentifier={})),function(e){e.create=function(e,t){return{uri:e,version:t}},e.is=function(e){var t=e;return E.defined(t)&&E.string(t.uri)&&(null===t.version||E.number(t.version))}}(g=t.VersionedTextDocumentIdentifier||(t.VersionedTextDocumentIdentifier={})),function(e){e.create=function(e,t,n,r){return{uri:e,languageId:t,version:n,text:r}},e.is=function(e){var t=e;return E.defined(t)&&E.string(t.uri)&&E.string(t.languageId)&&E.number(t.version)&&E.string(t.text)}}(t.TextDocumentItem||(t.TextDocumentItem={})),function(e){e.PlainText="plaintext",e.Markdown="markdown"}(m=t.MarkupKind||(t.MarkupKind={})),function(e){e.is=function(t){var n=t;return n===e.PlainText||n===e.Markdown}}(m=t.MarkupKind||(t.MarkupKind={})),function(e){e.is=function(e){var t=e;return E.objectLiteral(e)&&m.is(t.kind)&&E.string(t.value)}}(v=t.MarkupContent||(t.MarkupContent={})),function(e){e.Text=1,e.Method=2,e.Function=3,e.Constructor=4,e.Field=5,e.Variable=6,e.Class=7,e.Interface=8,e.Module=9,e.Property=10,e.Unit=11,e.Value=12,e.Enum=13,e.Keyword=14,e.Snippet=15,e.Color=16,e.File=17,e.Reference=18,e.Folder=19,e.EnumMember=20,e.Constant=21,e.Struct=22,e.Event=23,e.Operator=24,e.TypeParameter=25}(t.CompletionItemKind||(t.CompletionItemKind={})),function(e){e.PlainText=1,e.Snippet=2}(t.InsertTextFormat||(t.InsertTextFormat={})),function(e){e.create=function(e){return{label:e}}}(t.CompletionItem||(t.CompletionItem={})),function(e){e.create=function(e,t){return{items:e||[],isIncomplete:!!t}}}(t.CompletionList||(t.CompletionList={})),function(e){e.fromPlainText=function(e){return e.replace(/[\\`*_{}[\]()#+\-.!]/g,"\\$&")},e.is=function(e){var t=e;return E.string(t)||E.objectLiteral(t)&&E.string(t.language)&&E.string(t.value)}}(y=t.MarkedString||(t.MarkedString={})),function(e){e.is=function(e){var t=e;return!!t&&E.objectLiteral(t)&&(v.is(t.contents)||y.is(t.contents)||E.typedArray(t.contents,y.is))&&(void 0===e.range||r.is(e.range))}}(t.Hover||(t.Hover={})),function(e){e.create=function(e,t){return t?{label:e,documentation:t}:{label:e}}}(t.ParameterInformation||(t.ParameterInformation={})),function(e){e.create=function(e,t){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];var i={label:e};return E.defined(t)&&(i.documentation=t),E.defined(n)?i.parameters=n:i.parameters=[],i}}(t.SignatureInformation||(t.SignatureInformation={})),function(e){e.Text=1,e.Read=2,e.Write=3}(t.DocumentHighlightKind||(t.DocumentHighlightKind={})),function(e){e.create=function(e,t){var n={range:e};return E.number(t)&&(n.kind=t),n}}(t.DocumentHighlight||(t.DocumentHighlight={})),function(e){e.File=1,e.Module=2,e.Namespace=3,e.Package=4,e.Class=5,e.Method=6,e.Property=7,e.Field=8,e.Constructor=9,e.Enum=10,e.Interface=11,e.Function=12,e.Variable=13,e.Constant=14,e.String=15,e.Number=16,e.Boolean=17,e.Array=18,e.Object=19,e.Key=20,e.Null=21,e.EnumMember=22,e.Struct=23,e.Event=24,e.Operator=25,e.TypeParameter=26}(t.SymbolKind||(t.SymbolKind={})),function(e){e.create=function(e,t,n,r,i){var o={name:e,kind:t,location:{uri:r,range:n}};return i&&(o.containerName=i),o}}(t.SymbolInformation||(t.SymbolInformation={}));var _=function(){};t.DocumentSymbol=_,function(e){e.create=function(e,t,n,r,i,o){var s={name:e,detail:t,kind:n,range:r,selectionRange:i};return void 0!==o&&(s.children=o),s},e.is=function(e){var t=e;return t&&E.string(t.name)&&E.number(t.kind)&&r.is(t.range)&&r.is(t.selectionRange)&&(void 0===t.detail||E.string(t.detail))&&(void 0===t.deprecated||E.boolean(t.deprecated))&&(void 0===t.children||Array.isArray(t.children))}}(_=t.DocumentSymbol||(t.DocumentSymbol={})),t.DocumentSymbol=_,function(e){e.QuickFix="quickfix",e.Refactor="refactor",e.RefactorExtract="refactor.extract",e.RefactorInline="refactor.inline",e.RefactorRewrite="refactor.rewrite",e.Source="source",e.SourceOrganizeImports="source.organizeImports"}(t.CodeActionKind||(t.CodeActionKind={})),function(e){e.create=function(e,t){var n={diagnostics:e};return null!=t&&(n.only=t),n},e.is=function(e){var t=e;return E.defined(t)&&E.typedArray(t.diagnostics,a.is)&&(void 0===t.only||E.typedArray(t.only,E.string))}}(t.CodeActionContext||(t.CodeActionContext={})),function(e){e.create=function(e,t,n){var r={title:e};return c.is(t)?r.command=t:r.edit=t,void 0!==n&&(r.kind=n),r},e.is=function(e){var t=e;return t&&E.string(t.title)&&(void 0===t.diagnostics||E.typedArray(t.diagnostics,a.is))&&(void 0===t.kind||E.string(t.kind))&&(void 0!==t.edit||void 0!==t.command)&&(void 0===t.command||c.is(t.command))&&(void 0===t.edit||p.is(t.edit))}}(t.CodeAction||(t.CodeAction={})),function(e){e.create=function(e,t){var n={range:e};return E.defined(t)&&(n.data=t),n},e.is=function(e){var t=e;return E.defined(t)&&r.is(t.range)&&(E.undefined(t.command)||c.is(t.command))}}(t.CodeLens||(t.CodeLens={})),function(e){e.create=function(e,t){return{tabSize:e,insertSpaces:t}},e.is=function(e){var t=e;return E.defined(t)&&E.number(t.tabSize)&&E.boolean(t.insertSpaces)}}(t.FormattingOptions||(t.FormattingOptions={}));var x=function(){};t.DocumentLink=x,function(e){e.create=function(e,t,n){return{range:e,target:t,data:n}},e.is=function(e){var t=e;return E.defined(t)&&r.is(t.range)&&(E.undefined(t.target)||E.string(t.target))}}(x=t.DocumentLink||(t.DocumentLink={})),t.DocumentLink=x,t.EOL=["\n","\r\n","\r"],function(e){e.create=function(e,t,n,r){return new R(e,t,n,r)},e.is=function(e){var t=e;return!!(E.defined(t)&&E.string(t.uri)&&(E.undefined(t.languageId)||E.string(t.languageId))&&E.number(t.lineCount)&&E.func(t.getText)&&E.func(t.positionAt)&&E.func(t.offsetAt))},e.applyEdits=function(e,t){for(var n=e.getText(),r=function e(t,n){if(t.length<=1)return t;var r=t.length/2|0;var i=t.slice(0,r);var o=t.slice(r);e(i,n);e(o,n);var s=0;var a=0;var c=0;for(;s<i.length&&a<o.length;){var u=n(i[s],o[a]);t[c++]=u<=0?i[s++]:o[a++]}for(;s<i.length;)t[c++]=i[s++];for(;a<o.length;)t[c++]=o[a++];return t}(t,(function(e,t){var n=e.range.start.line-t.range.start.line;return 0===n?e.range.start.character-t.range.start.character:n})),i=n.length,o=r.length-1;o>=0;o--){var s=r[o],a=e.offsetAt(s.range.start),c=e.offsetAt(s.range.end);if(!(c<=i))throw new Error("Overlapping edit");n=n.substring(0,a)+s.newText+n.substring(c,n.length),i=a}return n}}(t.TextDocument||(t.TextDocument={})),function(e){e.Manual=1,e.AfterDelay=2,e.FocusOut=3}(t.TextDocumentSaveReason||(t.TextDocumentSaveReason={}));var E,R=function(){function e(e,t,n,r){this._uri=e,this._languageId=t,this._version=n,this._content=r,this._lineOffsets=null}return Object.defineProperty(e.prototype,"uri",{get:function(){return this._uri},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"languageId",{get:function(){return this._languageId},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"version",{get:function(){return this._version},enumerable:!0,configurable:!0}),e.prototype.getText=function(e){if(e){var t=this.offsetAt(e.start),n=this.offsetAt(e.end);return this._content.substring(t,n)}return this._content},e.prototype.update=function(e,t){this._content=e.text,this._version=t,this._lineOffsets=null},e.prototype.getLineOffsets=function(){if(null===this._lineOffsets){for(var e=[],t=this._content,n=!0,r=0;r<t.length;r++){n&&(e.push(r),n=!1);var i=t.charAt(r);n="\r"===i||"\n"===i,"\r"===i&&r+1<t.length&&"\n"===t.charAt(r+1)&&r++}n&&t.length>0&&e.push(t.length),this._lineOffsets=e}return this._lineOffsets},e.prototype.positionAt=function(e){e=Math.max(Math.min(e,this._content.length),0);var t=this.getLineOffsets(),r=0,i=t.length;if(0===i)return n.create(0,e);for(;r<i;){var o=Math.floor((r+i)/2);t[o]>e?i=o:r=o+1}var s=r-1;return n.create(s,e-t[s])},e.prototype.offsetAt=function(e){var t=this.getLineOffsets();if(e.line>=t.length)return this._content.length;if(e.line<0)return 0;var n=t[e.line],r=e.line+1<t.length?t[e.line+1]:this._content.length;return Math.max(Math.min(n+e.character,r),n)},Object.defineProperty(e.prototype,"lineCount",{get:function(){return this.getLineOffsets().length},enumerable:!0,configurable:!0}),e}();!function(e){var t=Object.prototype.toString;e.defined=function(e){return void 0!==e},e.undefined=function(e){return void 0===e},e.boolean=function(e){return!0===e||!1===e},e.string=function(e){return"[object String]"===t.call(e)},e.number=function(e){return"[object Number]"===t.call(e)},e.func=function(e){return"[object Function]"===t.call(e)},e.objectLiteral=function(e){return null!==e&&"object"==typeof e},e.typedArray=function(e,t){return Array.isArray(e)&&e.every(t)}}(E||(E={}))}))},function(e,t){function n(e){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}n.keys=function(){return[]},n.resolve=n,e.exports=n,n.id=120},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(122),i=n(9),o=n(123);t.ImplementationRequest=o.ImplementationRequest;const s=n(124);t.TypeDefinitionRequest=s.TypeDefinitionRequest;const a=n(125);t.WorkspaceFoldersRequest=a.WorkspaceFoldersRequest,t.DidChangeWorkspaceFoldersNotification=a.DidChangeWorkspaceFoldersNotification;const c=n(126);t.ConfigurationRequest=c.ConfigurationRequest;const u=n(127);t.DocumentColorRequest=u.DocumentColorRequest,t.ColorPresentationRequest=u.ColorPresentationRequest;const l=n(128);t.FoldingRangeRequest=l.FoldingRangeRequest;const f=n(129);t.DeclarationRequest=f.DeclarationRequest,function(e){e.is=function(e){let t=e;return r.string(t.language)||r.string(t.scheme)||r.string(t.pattern)}}(t.DocumentFilter||(t.DocumentFilter={})),function(e){e.type=new i.RequestType("client/registerCapability")}(t.RegistrationRequest||(t.RegistrationRequest={})),function(e){e.type=new i.RequestType("client/unregisterCapability")}(t.UnregistrationRequest||(t.UnregistrationRequest={})),function(e){e.Create="create",e.Rename="rename",e.Delete="delete"}(t.ResourceOperationKind||(t.ResourceOperationKind={})),function(e){e.Abort="abort",e.Transactional="transactional",e.TextOnlyTransactional="textOnlyTransactional",e.Undo="undo"}(t.FailureHandlingKind||(t.FailureHandlingKind={})),function(e){e.None=0,e.Full=1,e.Incremental=2}(t.TextDocumentSyncKind||(t.TextDocumentSyncKind={})),function(e){e.type=new i.RequestType("initialize")}(t.InitializeRequest||(t.InitializeRequest={})),function(e){e.unknownProtocolVersion=1}(t.InitializeError||(t.InitializeError={})),function(e){e.type=new i.NotificationType("initialized")}(t.InitializedNotification||(t.InitializedNotification={})),function(e){e.type=new i.RequestType0("shutdown")}(t.ShutdownRequest||(t.ShutdownRequest={})),function(e){e.type=new i.NotificationType0("exit")}(t.ExitNotification||(t.ExitNotification={})),function(e){e.type=new i.NotificationType("workspace/didChangeConfiguration")}(t.DidChangeConfigurationNotification||(t.DidChangeConfigurationNotification={})),function(e){e.Error=1,e.Warning=2,e.Info=3,e.Log=4}(t.MessageType||(t.MessageType={})),function(e){e.type=new i.NotificationType("window/showMessage")}(t.ShowMessageNotification||(t.ShowMessageNotification={})),function(e){e.type=new i.RequestType("window/showMessageRequest")}(t.ShowMessageRequest||(t.ShowMessageRequest={})),function(e){e.type=new i.NotificationType("window/logMessage")}(t.LogMessageNotification||(t.LogMessageNotification={})),function(e){e.type=new i.NotificationType("telemetry/event")}(t.TelemetryEventNotification||(t.TelemetryEventNotification={})),function(e){e.type=new i.NotificationType("textDocument/didOpen")}(t.DidOpenTextDocumentNotification||(t.DidOpenTextDocumentNotification={})),function(e){e.type=new i.NotificationType("textDocument/didChange")}(t.DidChangeTextDocumentNotification||(t.DidChangeTextDocumentNotification={})),function(e){e.type=new i.NotificationType("textDocument/didClose")}(t.DidCloseTextDocumentNotification||(t.DidCloseTextDocumentNotification={})),function(e){e.type=new i.NotificationType("textDocument/didSave")}(t.DidSaveTextDocumentNotification||(t.DidSaveTextDocumentNotification={})),function(e){e.type=new i.NotificationType("textDocument/willSave")}(t.WillSaveTextDocumentNotification||(t.WillSaveTextDocumentNotification={})),function(e){e.type=new i.RequestType("textDocument/willSaveWaitUntil")}(t.WillSaveTextDocumentWaitUntilRequest||(t.WillSaveTextDocumentWaitUntilRequest={})),function(e){e.type=new i.NotificationType("workspace/didChangeWatchedFiles")}(t.DidChangeWatchedFilesNotification||(t.DidChangeWatchedFilesNotification={})),function(e){e.Created=1,e.Changed=2,e.Deleted=3}(t.FileChangeType||(t.FileChangeType={})),function(e){e.Create=1,e.Change=2,e.Delete=4}(t.WatchKind||(t.WatchKind={})),function(e){e.type=new i.NotificationType("textDocument/publishDiagnostics")}(t.PublishDiagnosticsNotification||(t.PublishDiagnosticsNotification={})),function(e){e.Invoked=1,e.TriggerCharacter=2,e.TriggerForIncompleteCompletions=3}(t.CompletionTriggerKind||(t.CompletionTriggerKind={})),function(e){e.type=new i.RequestType("textDocument/completion")}(t.CompletionRequest||(t.CompletionRequest={})),function(e){e.type=new i.RequestType("completionItem/resolve")}(t.CompletionResolveRequest||(t.CompletionResolveRequest={})),function(e){e.type=new i.RequestType("textDocument/hover")}(t.HoverRequest||(t.HoverRequest={})),function(e){e.type=new i.RequestType("textDocument/signatureHelp")}(t.SignatureHelpRequest||(t.SignatureHelpRequest={})),function(e){e.type=new i.RequestType("textDocument/definition")}(t.DefinitionRequest||(t.DefinitionRequest={})),function(e){e.type=new i.RequestType("textDocument/references")}(t.ReferencesRequest||(t.ReferencesRequest={})),function(e){e.type=new i.RequestType("textDocument/documentHighlight")}(t.DocumentHighlightRequest||(t.DocumentHighlightRequest={})),function(e){e.type=new i.RequestType("textDocument/documentSymbol")}(t.DocumentSymbolRequest||(t.DocumentSymbolRequest={})),function(e){e.type=new i.RequestType("workspace/symbol")}(t.WorkspaceSymbolRequest||(t.WorkspaceSymbolRequest={})),function(e){e.type=new i.RequestType("textDocument/codeAction")}(t.CodeActionRequest||(t.CodeActionRequest={})),function(e){e.type=new i.RequestType("textDocument/codeLens")}(t.CodeLensRequest||(t.CodeLensRequest={})),function(e){e.type=new i.RequestType("codeLens/resolve")}(t.CodeLensResolveRequest||(t.CodeLensResolveRequest={})),function(e){e.type=new i.RequestType("textDocument/formatting")}(t.DocumentFormattingRequest||(t.DocumentFormattingRequest={})),function(e){e.type=new i.RequestType("textDocument/rangeFormatting")}(t.DocumentRangeFormattingRequest||(t.DocumentRangeFormattingRequest={})),function(e){e.type=new i.RequestType("textDocument/onTypeFormatting")}(t.DocumentOnTypeFormattingRequest||(t.DocumentOnTypeFormattingRequest={})),function(e){e.type=new i.RequestType("textDocument/rename")}(t.RenameRequest||(t.RenameRequest={})),function(e){e.type=new i.RequestType("textDocument/prepareRename")}(t.PrepareRenameRequest||(t.PrepareRenameRequest={})),function(e){e.type=new i.RequestType("textDocument/documentLink")}(t.DocumentLinkRequest||(t.DocumentLinkRequest={})),function(e){e.type=new i.RequestType("documentLink/resolve")}(t.DocumentLinkResolveRequest||(t.DocumentLinkResolveRequest={})),function(e){e.type=new i.RequestType("workspace/executeCommand")}(t.ExecuteCommandRequest||(t.ExecuteCommandRequest={})),function(e){e.type=new i.RequestType("workspace/applyEdit")}(t.ApplyWorkspaceEditRequest||(t.ApplyWorkspaceEditRequest={}))},function(e,t,n){"use strict";function r(e){return"string"==typeof e||e instanceof String}function i(e){return"function"==typeof e}function o(e){return Array.isArray(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.boolean=function(e){return!0===e||!1===e},t.string=r,t.number=function(e){return"number"==typeof e||e instanceof Number},t.error=function(e){return e instanceof Error},t.func=i,t.array=o,t.stringArray=function(e){return o(e)&&e.every(e=>r(e))},t.typedArray=function(e,t){return Array.isArray(e)&&e.every(t)},t.thenable=function(e){return e&&i(e.then)}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(9);!function(e){e.type=new r.RequestType("textDocument/implementation")}(t.ImplementationRequest||(t.ImplementationRequest={}))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(9);!function(e){e.type=new r.RequestType("textDocument/typeDefinition")}(t.TypeDefinitionRequest||(t.TypeDefinitionRequest={}))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(9);!function(e){e.type=new r.RequestType0("workspace/workspaceFolders")}(t.WorkspaceFoldersRequest||(t.WorkspaceFoldersRequest={})),function(e){e.type=new r.NotificationType("workspace/didChangeWorkspaceFolders")}(t.DidChangeWorkspaceFoldersNotification||(t.DidChangeWorkspaceFoldersNotification={}))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(9);!function(e){e.type=new r.RequestType("workspace/configuration")}(t.ConfigurationRequest||(t.ConfigurationRequest={}))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(9);!function(e){e.type=new r.RequestType("textDocument/documentColor")}(t.DocumentColorRequest||(t.DocumentColorRequest={})),function(e){e.type=new r.RequestType("textDocument/colorPresentation")}(t.ColorPresentationRequest||(t.ColorPresentationRequest={}))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(9);!function(e){e.Comment="comment",e.Imports="imports",e.Region="region"}(t.FoldingRangeKind||(t.FoldingRangeKind={})),function(e){e.type=new r.RequestType("textDocument/foldingRange")}(t.FoldingRangeRequest||(t.FoldingRangeRequest={}))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(9);!function(e){e.type=new r.RequestType("textDocument/declaration")}(t.DeclarationRequest||(t.DeclarationRequest={}))},function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const i=r(n(2)),o=n(0),s=n(1),a=r(n(131)),c=n(132),u=n(41),l=n(11);t.initFileActions=function(e){const{nvim:t}=e;e.addAction("gotoParent",async()=>{e.root=i.default.dirname(e.root),e.expandStore.expand(e.rootNode),await e.reload(e.rootNode)},"change directory to parent directory",{multi:!1}),e.addRootAction("expand",async()=>{e.expanded=!0,await e.reload(e.rootNode)},"expand root node"),e.addRootAction("expandRecursive",async()=>{await e.expandNode(e.rootNode,{recursive:!0})},"expand root node recursively"),e.addRootAction("collapse",async()=>{e.expanded=!1,await e.reload(e.rootNode),await e.gotoRoot()},"collapse root node"),e.addRootAction("collapseRecursive",async()=>{e.expanded=!1,await e.collapseNode(e.rootNode),await e.gotoRoot()},"collapse root node recursively"),e.addNodeAction("cd",async t=>{t.directory&&(e.root=t.fullpath,e.expanded=!0,await e.reload(e.rootNode))},"change directory to current node",{multi:!1}),e.addNodeAction("open",async n=>{n.directory?o.config.get("openAction.changeDirectory")?await e.doAction("cd",n):await e.doAction("expandOrCollapse",n):await e.openAction(n,async r=>{await o.avoidOnBufEnter(async()=>{await e.nvim.command(`${r}wincmd w`)}),await t.command(`edit ${n.fullpath}`)})},"open file or directory",{multi:!1}),e.addNodeAction("openInSplit",async n=>{n.directory||(await t.command(`split ${n.fullpath}`),await e.quitOnOpen())},"open file via split command"),e.addNodeAction("openInVsplit",async n=>{n.directory||await o.execNotifyBlock(async()=>{const r=await e.explorer.args.value(l.argOptions.position);t.command(`vsplit ${n.fullpath}`,!0),"left"===r?t.command("wincmd L",!0):"right"===r?t.command("wincmd H",!0):"tab"===r&&t.command("wincmd L",!0),await e.quitOnOpen()})},"open file via vsplit command"),e.addNodeAction("openInTab",async n=>{n.directory||(await e.quitOnOpen(),await t.command(`tabedit ${n.fullpath}`))},"open file in tab"),e.addNodeAction("drop",async n=>{n.directory?await e.doAction("expand",n):(await t.command(`drop ${n.fullpath}`),await e.quitOnOpen())},"open file via drop command"),e.addNodeAction("expand",async t=>{t.directory?await e.expandNode(t):await e.doAction("open",t)},"expand directory or open file"),e.addNodeAction("expandRecursive",async t=>{await e.expandNode(t,{recursive:!0})},"expand directory recursively"),e.addNodeAction("collapse",async t=>{t.directory&&e.expandStore.isExpanded(t)?await e.collapseNode(t):t.parent?await o.execNotifyBlock(async()=>{await e.collapseNode(t.parent,{notify:!0}),await e.gotoNode(t.parent,{notify:!0})}):await e.doRootAction("collapse")},"collapse directory"),e.addNodeAction("collapseRecursive",async t=>{t.directory&&e.expandStore.isExpanded(t)?await e.collapseNode(t,{recursive:!0}):t.parent?await o.execNotifyBlock(async()=>{await e.collapseNode(t.parent,{notify:!0,recursive:!0}),await e.gotoNode(t.parent,{notify:!0})}):await e.doRootAction("collapseRecursive")},"collapse directory recursively"),e.addNodeAction("expandOrCollapse",async t=>{t.directory&&(e.expandStore.isExpanded(t)?await e.doAction("collapse",t):await e.doAction("expand",t))},"expand or collapse directory"),e.addAction("copyFilepath",async t=>{await e.copy(t?t.map(e=>e.fullpath).join("\n"):e.root),s.workspace.showMessage("Copy filepath to clipboard")},"copy full filepath to clipboard"),e.addAction("copyFilename",async t=>{await e.copy(t?t.map(e=>e.name).join("\n"):i.default.basename(e.root)),s.workspace.showMessage("Copy filename to clipboard")},"copy filename to clipboard"),e.addNodesAction("copyFile",async t=>{const n=[...e.copiedNodes,...e.cutNodes];e.copiedNodes.clear(),e.cutNodes.clear(),t.forEach(t=>{e.copiedNodes.add(t)}),e.requestRenderNodes(n.concat(t))},"copy file for paste"),e.addNodesAction("cutFile",async t=>{const n=[...e.copiedNodes,...e.cutNodes];e.copiedNodes.clear(),e.cutNodes.clear(),t.forEach(t=>{e.cutNodes.add(t)}),e.requestRenderNodes(n.concat(t))},"cut file for paste"),e.addNodeAction("pasteFile",async t=>{const n=e.getPutTargetDir(t);if(e.copiedNodes.size>0){const r=Array.from(e.copiedNodes);await o.overwritePrompt(r.map(e=>({source:e.fullpath,target:i.default.join(n,i.default.basename(e.fullpath))})),o.fsCopyFileRecursive),e.requestRenderNodes(r),e.copiedNodes.clear(),await e.reload(t.parent?t.parent:t)}else if(e.cutNodes.size>0){const t=Array.from(e.cutNodes);await o.overwritePrompt(t.map(e=>({source:e.fullpath,target:i.default.join(n,i.default.basename(e.fullpath))})),o.fsRename),e.cutNodes.clear(),await e.reload(e.rootNode)}else s.workspace.showMessage("Copied files or cut files is empty","error")},"paste files to here",{multi:!1}),e.addNodesAction("delete",async e=>{const t=e.map(e=>e.fullpath).join("\n");"yes"===await o.prompt("Move these files or directories to trash?\n"+t)&&await o.fsTrash(e.map(e=>e.fullpath))},"move file or directory to trash",{reload:!0}),e.addNodesAction("deleteForever",async e=>{const t=e.map(e=>e.fullpath).join("\n");if("yes"===await o.prompt("Forever delete these files or directories?\n"+t))for(const t of e)await o.fsRimraf(t.fullpath)},"delete file or directory forever",{reload:!0}),e.addAction("addFile",async(n,r)=>{let s=null!=r?r:await t.call("input",["Input a new filename: ","","file"]);if(!(s=s.trim()))return;if(s.endsWith("/")||s.endsWith("\\"))return void(n?await e.doAction("addDirectory",n,s):await e.doRootAction("addDirectory",s));const a=e.getPutTargetNode(n?n[0]:null),c=i.default.join(a.fullpath,s);await o.overwritePrompt([{source:null,target:c}],async(e,t)=>{await o.fsTouch(t)}),await e.reload(a);const u=await e.revealNodeByPath(c,{node:a,render:!0});u&&await e.gotoNode(u)},"add a new file",{multi:!1}),e.addAction("addDirectory",async(n,r)=>{let s=null!=r?r:await t.call("input",["Input a new directory name: ","","file"]);if(!(s=s.trim().replace(/(\/|\\)*$/g,"")))return;const a=e.getPutTargetNode(n?n[0]:null),c=i.default.join(a.fullpath,s);await o.overwritePrompt([{source:null,target:c}],async(e,t)=>{await o.fsMkdirp(t)}),await e.reload(a);const u=await e.revealNodeByPath(c,{node:a,render:!0});u&&await e.gotoNode(u)},"add a new directory",{multi:!1}),e.addNodeAction("rename",async n=>{const r=await t.call("input",[`Rename: ${n.fullpath} ->`,n.fullpath,"file"]);0!=r.length&&(await o.overwritePrompt([{source:n.fullpath,target:r}],o.fsRename),await e.reload(e.rootNode))},"rename a file or directory",{multi:!1}),e.addAction("systemExecute",async t=>{t?await Promise.all(t.map(e=>a.default(e.fullpath))):await a.default(e.root)},"use system application open file or directory",{multi:!0}),o.isWindows&&e.addAction("listDrive",async()=>{const t=await o.listDrive();c.driveList.setExplorerDrives(t.map(t=>({name:t,callback:async t=>{e.root=t+"\\",e.expanded=!0,await e.reload(e.rootNode)}})));const n=s.listManager.registerList(c.driveList);await s.listManager.start(["--normal","--number-select",c.driveList.name]),n.dispose()},"list drives",{multi:!1}),e.addAction("search",async t=>{await e.searchByCocList(t?i.default.dirname(t[0].fullpath):e.root,!1)},"search by coc-list",{multi:!1}),e.addAction("searchRecursive",async t=>{await e.searchByCocList(t?i.default.dirname(t[0].fullpath):e.root,!0)},"search by coc-list recursively",{multi:!1}),e.addNodesAction("gitStage",async t=>{await u.gitManager.cmd.stage(...t.map(e=>e.fullpath)),await e.reload(e.rootNode)},"add file to git index"),e.addNodesAction("gitUnstage",async t=>{await u.gitManager.cmd.unstage(...t.map(e=>e.fullpath)),await e.reload(e.rootNode)},"reset file from git index")}},function(e,t){e.exports=require("open")},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(1),i=n(7);class o extends r.BasicList{constructor(e){super(e),this.defaultAction="do",this.name="explorerDrives",this.explorerDrives=[],this.addAction("do",async e=>{await e.data.callback(e.data.drive)})}setExplorerDrives(e){this.explorerDrives=e}async loadItems(){return this.explorerDrives.map(e=>({label:`${e.name} - go to ${e.name}/`,data:{drive:e.name,callback:e.callback}}))}doHighlight(){const{nvim:e}=this;e.pauseNotification(),e.command("syntax match CocExplorerDriveName /\\v^[\\w:]+/",!0),e.command("syntax match CocExplorerDriveDescription /\\v - .+/",!0),e.command("highlight default link CocExplorerDriveName PreProc",!0),e.command("highlight default link CocExplorerDriveDescription Comment",!0),e.resumeNotification().catch(i.onError)}}t.DriveList=o,t.driveList=new o(r.workspace.nvim)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(0),i=n(1),o=n(134),s=n(48);t.FloatingPreview=class{constructor(e){this.explorer=e,this.nvim=i.workspace.nvim,this.floatFactory=new o.FloatingFactory2(this.nvim,i.workspace.env,!1),this.shown=!1}async previewNode(e,t,n,r){if(!s.floatSupported())return;let i;(i=n.isRoot?await t.drawRootLabeling(n):await t.columnManager.drawLabeling(n,r))&&this.explorer.explorerManager.inExplorer()&&await this.floatFactory.create(this.explorer,[{content:i.lines.join("\n"),filetype:"coc-explorer-preview"}],i.highlightPositions.map(e=>({hlGroup:e.group,line:e.relativeLineIndex,colStart:e.start,colEnd:e.start+e.size})))}async hoverPreview(){if(s.floatSupported())return this._hoverPreview||(this._hoverPreview=r.debouncePromise(200,async()=>{if(!this.explorer.explorerManager.inExplorer())return;const e=await this.explorer.currentSource();if(!e)return;const t=await e.currentLineIndex();if(null!==t){const n=e.flattenedNodes[t];await this.previewNode(r.previewStrategy,e,n,t)}})),this._hoverPreview()}hoverPreviewCancel(){var e;s.floatSupported()&&(null===(e=this._hoverPreview)||void 0===e||e.cancel())}}},function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const i=n(1),o=n(135),s=n(136),a=n(7),c=n(0),u=n(45),l=r(n(139)),f=n(48),d=n(11);function h(e){return 0==e?"cursor":e<0?`cursor${e}`:`cursor+${e}`}t.FloatingFactory2=class{constructor(e,t,n=!1,r=999,o=!0){this.nvim=e,this.env=t,this.preferTop=n,this.maxHeight=r,this.autoHide=o,this.disposables=[],this.alignTop=!1,this.pumAlignTop=!1,this.createTs=0,this.cursor=[0,0],this.shown=!1,f.floatSupported()&&(c.onEvents("BufEnter",e=>{this.buffer&&e==this.buffer.id||e!=this.targetBufnr&&this.close()},null,this.disposables),c.onEvents("InsertLeave",e=>{this.buffer&&e==this.buffer.id||i.snippetManager.isActived(e)||this.close()},null,this.disposables),c.onEvents("MenuPopupChanged",async(e,t)=>{(this.pumAlignTop=t>e.row)==this.alignTop&&this.close()},null,this.disposables),c.onEvents("CursorMoved",c.debounce(100,(e,t)=>{Date.now()-this.createTs<100||this.onCursorMoved(!1,e,t)}),null,this.disposables),c.onEvents("CursorMovedI",this.onCursorMoved.bind(this,!0),null,this.disposables))}onCursorMoved(e,t,n){!this.window||this.buffer&&t==this.buffer.id||t==this.targetBufnr&&s.equals(n,this.cursor)||(this.autoHide?this.close():(!e||t!=this.targetBufnr||this.cursor&&n[0]!=this.cursor[0])&&this.close())}async checkFloatBuffer(){const{floatBuffer:e,nvim:t}=this;let n=this.window;if(this.env.textprop){if(await this.activated()||(n=void 0),!n){this.popup=await l.default(t,[""],{padding:[0,1,0,1],highlight:"CocFloating",tab:-1});const e=this.window=t.createWindow(this.popup.id);t.pauseNotification(),e.setVar("float",1,!0),e.setOption("linebreak",!0,!0),e.setOption("showbreak","",!0),e.setOption("conceallevel",2,!0),await t.resumeNotification()}const e=this.nvim.createBuffer(this.popup.bufferId);this.floatBuffer=new i.FloatBuffer(t,e,t.createWindow(this.popup.id))}else{if(e){if(await e.valid)return}const t=await this.nvim.createNewBuffer(!1,!0);await t.setOption("buftype","nofile"),await t.setOption("bufhidden","hide"),this.floatBuffer=new i.FloatBuffer(this.nvim,t)}}get columns(){return this.env.columns}get lines(){return this.env.lines-this.env.cmdheight-1}async getBoundings(e,t){const{nvim:n,preferTop:r}=this,{columns:i,lines:o}=this;let s=!1;const[a]=await n.call("coc#util#win_position"),c=await e.win;if(!c)return;const u=await c.width,l=i-u-1;if(l<=0)return;if(!this.floatBuffer)throw Error("floatBuffer not initialize yet");const f=Math.min(this.floatBuffer.getHeight(t,l),this.maxHeight);r?(a>=f||a>=o-a)&&(s=!0):o-a<f&&a>f&&(s=!0),s&&t.reverse(),await this.floatBuffer.setDocuments(t,l);const{width:h}=this.floatBuffer;let p=0;const g=await e.currentCol(),m=await e.args.value(d.argOptions.position);if("left"===m)p=u-g+1;else{if("right"!==m)return;p=-h-g+1}return this.alignTop=s,{row:s?1-f:0,col:p,width:h,height:f,relative:"cursor"}}async create(e,t,n=[],r=!1){if(!f.floatSupported())return void a.log("error","Floating window & textprop not supported!");await this.createPopup(e,t,n,r)||this.close(!1)}async createPopup(e,t,n,r=!1){var s;if(this.tokenSource&&this.tokenSource.cancel(),0==t.length)return!1;this.createTs=Date.now(),this.targetBufnr=i.workspace.bufnr;const a=(this.tokenSource=new u.CancellationTokenSource).token;await this.checkFloatBuffer();const c=await this.getBoundings(e,t),[l,f,d,p]=await this.nvim.eval('[mode(),line("."),col("."),pumvisible()]');if(this.cursor=[f,d],p&&this.alignTop==this.pumAlignTop)return!1;if(!c||a.isCancellationRequested)return!1;if(!this.checkMode(l,r))return!1;const{nvim:g,alignTop:m}=this;"s"==l&&await g.call("feedkeys",["","in"]),i.workspace.isNvim&&l.startsWith("i")&&await g.eval('feedkeys("\\<C-g>u", "n")');let v=!1;if(i.workspace.isNvim&&((v=this.window&&await this.window.valid)||(this.window=await g.openFloatWindow(this.buffer,!1,c))),a.isCancellationRequested)return!1;if(g.pauseNotification(),i.workspace.isNvim){v?(this.window.setConfig(c,!0),g.command(`noa call win_gotoid(${this.window.id})`,!0)):(g.command(`noa call win_gotoid(${this.window.id})`,!0),this.window.setVar("float",1,!0),g.command("setl nospell nolist wrap linebreak foldcolumn=1",!0),g.command("setl nonumber norelativenumber nocursorline nocursorcolumn colorcolumn=",!0),g.command("setl signcolumn=no conceallevel=2 concealcursor=n",!0),g.command("setl winhl=Normal:CocFloating,NormalNC:CocFloating,FoldColumn:CocFloating",!0),g.call("coc#util#do_autocmd",["CocOpenFloat"],!0)),this.floatBuffer.setLines(),g.command(`normal! ${m?"G":"gg"}0`,!0);for(const e of n)await this.buffer.addHighlight(e);g.command("noa wincmd p",!0)}else{const e=o.distinct(t.map(e=>e.filetype));1==e.length&&this.popup.setFiletype(e[0]),this.popup.move({line:h(c.row),col:h(c.col),minwidth:c.width-2,minheight:c.height,maxwidth:c.width-2,maxheight:c.height,firstline:m?-1:1}),this.floatBuffer.setLines();for(const e of n)await this.buffer.addHighlight(e);g.command("redraw",!0)}const[,y]=null!=(s=await g.resumeNotification())?s:[];return y?(i.workspace.showMessage(`Error on ${y[0]}: ${y[1]} - ${y[2]}`,"error"),!1):("s"==l&&await i.snippetManager.selectCurrentPlaceholder(!1),!0)}checkMode(e,t){return!("s"!=e||!t)||-1!=["i","n","ic"].indexOf(e)}close(e=!0){e&&this.tokenSource&&this.tokenSource&&(this.tokenSource.cancel(),this.tokenSource=void 0);const{window:t,popup:n}=this;this.shown=!1,this.env.textprop?n&&n.dispose():t&&t.close(!0,!0)}dispose(){this.tokenSource&&this.tokenSource.cancel(),i.disposeAll(this.disposables)}get buffer(){var e;return null===(e=this.floatBuffer)||void 0===e?void 0:e.buffer}async activated(){if(this.env.textprop)return!!this.popup&&await this.popup.visible();if(!this.window)return!1;return await this.window.valid}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.intersect=function(e,t){for(let n of t)if(-1!==e.indexOf(n))return!0;return!1},t.tail=function(e,t=0){return e[e.length-(1+t)]},t.group=function(e,t){let n=e.length,r=[];for(let i=0;i<Math.ceil(n/t);i++)r.push(e.slice(i*t,(i+1)*t));return r},t.distinct=function(e,t){if(!t)return e.filter((t,n)=>e.indexOf(t)===n);const n=Object.create(null);return e.filter(e=>{const r=t(e);return!n[r]&&(n[r]=!0,!0)})},t.lastIndex=function(e,t){let n=e.length-1;for(;n>=0&&!t(e[n]);)n--;return n},t.flatMap=(e,t)=>e.reduce((e,n)=>[...e,...t(n)],[])},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(137).__importStar(n(138));t.deepClone=function e(t){if(!t||"object"!=typeof t)return t;if(t instanceof RegExp)return t;const n=Array.isArray(t)?[]:{};return Object.keys(t).forEach(r=>{t[r]&&"object"==typeof t[r]?n[r]=e(t[r]):n[r]=t[r]}),n};const i=Object.prototype.hasOwnProperty;t.deepFreeze=function(e){if(!e||"object"!=typeof e)return e;const t=[e];for(;t.length>0;){let e=t.shift();Object.freeze(e);for(const n in e)if(i.call(e,n)){let r=e[n];"object"!=typeof r||Object.isFrozen(r)||t.push(r)}}return e},t.mixin=function e(t,n,i=!0){return r.objectLiteral(t)?(r.objectLiteral(n)&&Object.keys(n).forEach(o=>{o in t?i&&(r.objectLiteral(t[o])&&r.objectLiteral(n[o])?e(t[o],n[o],i):t[o]=n[o]):t[o]=n[o]}),t):n},t.equals=function e(t,n){if(t===n)return!0;if(null==t||null==n)return!1;if(typeof t!=typeof n)return!1;if("object"!=typeof t)return!1;if(Array.isArray(t)!==Array.isArray(n))return!1;let r,i;if(Array.isArray(t)){if(t.length!==n.length)return!1;for(r=0;r<t.length;r++)if(!e(t[r],n[r]))return!1}else{const o=[];for(i in t)o.push(i);o.sort();const s=[];for(i in n)s.push(i);if(s.sort(),!e(o,s))return!1;for(r=0;r<o.length;r++)if(!e(t[o[r]],n[o[r]]))return!1}return!0}},function(e,t,n){var r,i,o,s,a,c,u,l,f,d,h,p,g,m,v,y,w,b,_,x,E;
/*! *****************************************************************************
Copyright (c) Microsoft Corporation. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */!function(n){var R="object"==typeof global?global:"object"==typeof self?self:"object"==typeof this?this:{};function O(e,t){return e!==R&&("function"==typeof Object.create?Object.defineProperty(e,"__esModule",{value:!0}):e.__esModule=!0),function(n,r){return e[n]=t?t(n,r):r}}void 0===(r=function(e){var t,n;t=O(R,O(e)),n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},i=function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)},o=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},s=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n},a=function(e,t,n,r){var i,o=arguments.length,s=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(o<3?i(s):o>3?i(t,n,s):i(t,n))||s);return o>3&&s&&Object.defineProperty(t,n,s),s},c=function(e,t){return function(n,r){t(n,r,e)}},u=function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},l=function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function s(e){try{c(r.next(e))}catch(e){o(e)}}function a(e){try{c(r.throw(e))}catch(e){o(e)}}function c(e){e.done?i(e.value):new n((function(t){t(e.value)})).then(s,a)}c((r=r.apply(e,t||[])).next())}))},f=function(e,t){var n,r,i,o,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function a(o){return function(a){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return s.label++,{value:o[1],done:!1};case 5:s.label++,r=o[1],o=[0];continue;case 7:o=s.ops.pop(),s.trys.pop();continue;default:if(!(i=(i=s.trys).length>0&&i[i.length-1])&&(6===o[0]||2===o[0])){s=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){s.label=o[1];break}if(6===o[0]&&s.label<i[1]){s.label=i[1],i=o;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(o);break}i[2]&&s.ops.pop(),s.trys.pop();continue}o=t.call(e,s)}catch(e){o=[6,e],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,a])}}},d=function(e,t){for(var n in e)t.hasOwnProperty(n)||(t[n]=e[n])},h=function(e){var t="function"==typeof Symbol&&e[Symbol.iterator],n=0;return t?t.call(e):{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}}},p=function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,i,o=n.call(e),s=[];try{for(;(void 0===t||t-- >0)&&!(r=o.next()).done;)s.push(r.value)}catch(e){i={error:e}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return s},g=function(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(p(arguments[t]));return e},m=function(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;var r=Array(e),i=0;for(t=0;t<n;t++)for(var o=arguments[t],s=0,a=o.length;s<a;s++,i++)r[i]=o[s];return r},v=function(e){return this instanceof v?(this.v=e,this):new v(e)},y=function(e,t,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r,i=n.apply(e,t||[]),o=[];return r={},s("next"),s("throw"),s("return"),r[Symbol.asyncIterator]=function(){return this},r;function s(e){i[e]&&(r[e]=function(t){return new Promise((function(n,r){o.push([e,t,n,r])>1||a(e,t)}))})}function a(e,t){try{(n=i[e](t)).value instanceof v?Promise.resolve(n.value.v).then(c,u):l(o[0][2],n)}catch(e){l(o[0][3],e)}var n}function c(e){a("next",e)}function u(e){a("throw",e)}function l(e,t){e(t),o.shift(),o.length&&a(o[0][0],o[0][1])}},w=function(e){var t,n;return t={},r("next"),r("throw",(function(e){throw e})),r("return"),t[Symbol.iterator]=function(){return this},t;function r(r,i){t[r]=e[r]?function(t){return(n=!n)?{value:v(e[r](t)),done:"return"===r}:i?i(t):t}:i}},b=function(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t,n=e[Symbol.asyncIterator];return n?n.call(e):(e=h(e),t={},r("next"),r("throw"),r("return"),t[Symbol.asyncIterator]=function(){return this},t);function r(n){t[n]=e[n]&&function(t){return new Promise((function(r,i){!function(e,t,n,r){Promise.resolve(r).then((function(t){e({value:t,done:n})}),t)}(r,i,(t=e[n](t)).done,t.value)}))}}},_=function(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e},x=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t},E=function(e){return e&&e.__esModule?e:{default:e}},t("__extends",i),t("__assign",o),t("__rest",s),t("__decorate",a),t("__param",c),t("__metadata",u),t("__awaiter",l),t("__generator",f),t("__exportStar",d),t("__values",h),t("__read",p),t("__spread",g),t("__spreadArrays",m),t("__await",v),t("__asyncGenerator",y),t("__asyncDelegator",w),t("__asyncValues",b),t("__makeTemplateObject",_),t("__importStar",x),t("__importDefault",E)}.apply(t,[t]))||(e.exports=r)}()},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=Object.prototype.hasOwnProperty;function i(e){return!(null==e||"object"!=typeof e||Array.isArray(e)||e instanceof RegExp||e instanceof Date)}t.boolean=function(e){return"boolean"==typeof e},t.string=function(e){return"string"==typeof e},t.number=function(e){return"number"==typeof e},t.array=function(e){return Array.isArray(e)},t.func=function(e){return"function"==typeof e},t.objectLiteral=i,t.emptyObject=function(e){if(!i(e))return!1;for(let t in e)if(r.call(e,t))return!1;return!0},t.typedArray=function(e,t){return Array.isArray(e)&&e.every(t)}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});class r{constructor(e){this.nvim=e}async create(e,t){let{nvim:n}=this;this.id=await n.call("popup_create",[e,t]),this.bufferId=await n.call("winbufnr",[this.id])}hide(){this.id&&this.nvim.call("popup_hide",[this.id],!0)}async valid(){if(!this.bufferId)return!1;await this.nvim.call("bufexists",[this.bufferId])}async visible(){if(!this.id)return!1;let e=await this.nvim.call("popup_getpos",[this.id]);return e&&1==e.visible}show(){this.id&&this.nvim.call("popup_show",[this.id],!0)}move(e){this.id&&this.nvim.call("popup_move",[this.id,e],!0)}async getPosition(){return await this.nvim.call("popup_getpos",[this.id])}setFiletype(e){if(!this.id)return;let{nvim:t}=this;t.call("setbufvar",[this.bufferId,"&filetype",e],!0)}dispose(){this.id&&this.nvim.call("popup_close",[this.id],!0)}}t.Popup=r,t.default=async function(e,t,n){let i=new r(e);return await i.create(t,n),i}}]));